
# 1225 realme
ç¼–ç¨‹30åˆ†     æ»¡åˆ†100     
18/30       
    
    
    #include <vector>
    class Solution {
    public:
        /**
         * ä»£ç ä¸­çš„ç±»åã€æ–¹æ³•åã€å‚æ•°åå·²ç»æŒ‡å®šï¼Œè¯·å‹¿ä¿®æ”¹ï¼Œç›´æ¥è¿”å›æ–¹æ³•è§„å®šçš„å€¼å³å¯
         *
         * 
         * @param n intæ•´å‹ 
         * @return intæ•´å‹
         */
        int numSquares(int n) {
            // write code here
            vector<int> dp(n+1, INT_MAX);
            dp[0]=0;
            for (int i=1;i*i<=n;++i){
                int base = i*i;
                for (int j=base;j<=n;++j){
                    dp[j] = min(dp[j], dp[j-base]+1);
                }
            }
            return dp[n];
        }
    };
    
    
    
ä½¿ç”¨min_elementæ‰¾åˆ°æœ€å°å…ƒç´ çš„è¿­ä»£å™¨
Â 
    #include <iostream>
    #include <vector>
    #include <algorithm> // ç”¨äºmin_elementå‡½æ•°
    
    int main() {
        std::vector<int> vec = {10, 20, 5, 15, 25}; // åˆå§‹åŒ–ä¸€ä¸ªvector
    
        // ä½¿ç”¨min_elementæ‰¾åˆ°æœ€å°å…ƒç´ çš„è¿­ä»£å™¨
        auto min_iter = std::min_element(vec.begin(), vec.end());
    
        // è¾“å‡ºæœ€å°å€¼
        std::cout << "æœ€å°å€¼æ˜¯: " << *min_iter << std::endl;
    
        return 0;
    }
    Â 




# 1124 è”é€šæ•°æ®æ™ºèƒ½

ä»¥ä¸‹ä»£ç ä»…é€šè¿‡80%æµ‹è¯•ç”¨ä¾‹ï¼Œæˆ‘çš„é—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ


æœ€é•¿å­ä¸²
æ—¶é—´é™åˆ¶ï¼šC/C++è¯­è¨€ 1s / å…¶ä»–è¯­è¨€ 3s
å†…å­˜é™åˆ¶ï¼šC/C++è¯­è¨€ 64MB / å…¶ä»–è¯­è¨€ 128MB

é¢˜ç›®æè¿°ï¼š
ç»™å®šä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡ 50 çš„å­—ç¬¦ä¸²ï¼Œæ±‚è¯¥å­—ç¬¦ä¸²ä¸­ä¸å­˜åœ¨é‡å¤å­—ç¬¦çš„æœ€å¤§å­ä¸²çš„é•¿åº¦ã€‚

è¾“å…¥æè¿°ï¼š
ä¸€ä¸ªå­—ç¬¦ä¸² ( s )ï¼Œé•¿åº¦ä¸è¶…è¿‡ 50ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—ã€‚

è¾“å‡ºæè¿°ï¼š
ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¯¥å­—ç¬¦ä¸²ä¸­ä¸å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚
è¾“å…¥æ ·ä¾‹ï¼š
abcabcbb

è¾“å‡ºæ ·ä¾‹ï¼š
3


    
    def lengthOfLongestSubstring(s):
        max_len = 0 
        for i in range(len(s)): # åŠ è¿™ä¸ªä»å‡†ç¡®ç‡ä»40%æåˆ°80%
            cur_len = find(s[i:])
            max_len = max(cur_len, max_len)
        return max_len
        
    def find(s): 
        max_len = 0
        record = set()
        cur_len = 0
        for i in range(len(s)):
            if s[i] not in record:
                record.add(s[i])
                cur_len += 1
            else: # é—®é¢˜å‡ºåœ¨è¿™é‡Œï¼Œæ–°çš„ä¸€ä¸ªè¢«å¿½ç•¥äº†
                max_len = max(cur_len, max_len)
                cur_len = 0
                record = set()
        return max_len
        
    
    # æµ‹è¯•
    print(lengthOfLongestSubstring(input()))  
    # è¾“å…¥è¾“å‡ºå‚è€ƒç¤ºæ„ä»£ç 



å—¯ï¼Œè¿™é“é¢˜æ˜¯è¦æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ä¸åŒ…å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚é¢˜ç›®ç»™äº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸è¶…è¿‡50ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—ã€‚æˆ‘å†™äº†ä¸€ä¸ªå‡½æ•°lengthOfLongestSubstringï¼Œé‡Œé¢æœ‰ä¸ªå¾ªç¯ï¼Œä»æ¯ä¸ªä½ç½®å¼€å§‹è°ƒç”¨findå‡½æ•°ï¼Œæ‰¾ä»å½“å‰ä½ç½®å¼€å§‹çš„æœ€é•¿ä¸é‡å¤å­ä¸²çš„é•¿åº¦ï¼Œç„¶åå–æœ€å¤§çš„é‚£ä¸ªã€‚

æˆ‘å…ˆçœ‹çœ‹findå‡½æ•°æ˜¯æ€ä¹ˆå†™çš„ã€‚å®ƒåˆå§‹åŒ–äº†ä¸€ä¸ªç©ºé›†åˆrecordï¼Œç”¨æ¥è®°å½•å½“å‰å­ä¸²ä¸­çš„å­—ç¬¦ã€‚è¿˜æœ‰ä¸€ä¸ªcur_lenæ¥è®°å½•å½“å‰å­ä¸²çš„é•¿åº¦ï¼Œmax_lenè®°å½•æœ€å¤§çš„é•¿åº¦ã€‚ç„¶åéå†å­—ç¬¦ä¸²ï¼Œå¦‚æœå½“å‰å­—ç¬¦ä¸åœ¨recordé‡Œï¼Œå°±åŠ å…¥é›†åˆï¼Œcur_lenåŠ ä¸€ï¼›å¦‚æœåœ¨çš„è¯ï¼Œå°±æ›´æ–°max_lenï¼Œç„¶åæŠŠcur_lené‡ç½®ä¸º0ï¼Œrecordä¹Ÿæ¸…ç©ºã€‚

å¯æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•ä¼¼ä¹æœ‰é—®é¢˜ã€‚æ¯”å¦‚ï¼Œè¾“å…¥æ˜¯"abcabcbb"ï¼ŒæŒ‰ç…§æˆ‘çš„é€»è¾‘ï¼Œç¬¬ä¸€æ¬¡ä»ç¬¬0ä¸ªå­—ç¬¦å¼€å§‹ï¼Œ"abcabcbb"ï¼Œéå†åˆ°ç¬¬3ä¸ªå­—ç¬¦'a'æ—¶ï¼Œå‘ç°'a'å·²ç»åœ¨recordé‡Œäº†ï¼Œäºæ˜¯max_lenæ›´æ–°ä¸º3ï¼Œç„¶åcur_lené‡ç½®ä¸º0ï¼Œrecordæ¸…ç©ºã€‚æ¥ç€ä»ç¬¬4ä¸ªå­—ç¬¦'b'å¼€å§‹ï¼Œåˆå‘ç°'b'åœ¨recordé‡Œäº†ï¼Œmax_lenè¿˜æ˜¯3ï¼Œcur_lené‡ç½®ä¸º0ã€‚æœ€åmax_lenè¿˜æ˜¯3ï¼Œè¿™æ˜¯å¯¹çš„ã€‚

ä½†æ˜¯ï¼Œå¯èƒ½åœ¨å…¶ä»–æƒ…å†µä¸‹ä¼šå‡ºé”™ã€‚æ¯”å¦‚ï¼Œè¾“å…¥æ˜¯"dvdf"ï¼ŒæŒ‰ç…§æˆ‘çš„æ–¹æ³•ï¼Œç¬¬ä¸€æ¬¡ä»'d'å¼€å§‹ï¼Œè®°å½•'d'ï¼Œcur_len=1ï¼›ç„¶å'v'ä¸åœ¨ï¼ŒåŠ å…¥ï¼Œcur_len=2ï¼›'d'åœ¨recordé‡Œäº†ï¼Œmax_len=2ï¼Œcur_lené‡ç½®ä¸º0ï¼Œrecordæ¸…ç©ºï¼›ç„¶åä»'f'å¼€å§‹ï¼Œä¸åœ¨ï¼Œcur_len=1ã€‚æœ€åmax_len=2ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œ"vdf"ä¹Ÿæ˜¯é•¿åº¦3ï¼Œä¸é‡å¤çš„ã€‚

å“¦ï¼Œçœ‹æ¥æˆ‘çš„æ–¹æ³•æœ‰é—®é¢˜ã€‚å½“å‘ç°é‡å¤çš„æ—¶å€™ï¼Œä¸åº”è¯¥ç›´æ¥é‡ç½®cur_lenå’Œrecordï¼Œè€Œæ˜¯åº”è¯¥ä»é‡å¤å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ç»§ç»­ï¼Œä¿æŒä¹‹å‰çš„éƒ¨åˆ†ã€‚

å¯èƒ½éœ€è¦ä½¿ç”¨æ»‘åŠ¨çª—å£çš„æŠ€å·§ï¼Œç»´æŠ¤ä¸€ä¸ªçª—å£ï¼Œå·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œå½“é‡åˆ°é‡å¤å­—ç¬¦æ—¶ï¼Œç§»åŠ¨å·¦è¾¹ç•Œåˆ°é‡å¤å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚

è®©æˆ‘æƒ³æƒ³ï¼Œæ€ä¹ˆä¿®æ”¹findå‡½æ•°ã€‚

ä¹Ÿè®¸ï¼Œæˆ‘éœ€è¦è®°å½•æ¯ä¸ªå­—ç¬¦æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œç„¶ååŠ¨æ€è°ƒæ•´å·¦è¾¹ç•Œã€‚

æˆ–è€…ï¼Œæˆ‘å¯ä»¥ç”¨åŒæŒ‡é’ˆï¼Œå·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆï¼Œå³æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œå¦‚æœé‡åˆ°é‡å¤çš„å­—ç¬¦ï¼Œå·¦æŒ‡é’ˆç§»åŠ¨åˆ°é‡å¤å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚

è¿™æ ·å¯ä»¥ä¿è¯çª—å£å†…æ²¡æœ‰é‡å¤å­—ç¬¦ã€‚

è®©æˆ‘è¯•è¯•æ”¹ä¸€ä¸‹findå‡½æ•°ã€‚

é¦–å…ˆï¼Œåˆå§‹åŒ–å·¦æŒ‡é’ˆä¸º0ï¼Œå³æŒ‡é’ˆéå†å­—ç¬¦ä¸²ï¼Œç”¨ä¸€ä¸ªå­—å…¸è®°å½•å­—ç¬¦ä¸Šæ¬¡å‡ºç°çš„ä½ç½®ã€‚

ç„¶åï¼Œå¯¹äºæ¯ä¸ªå­—ç¬¦s[right]ï¼Œå¦‚æœs[right]åœ¨å­—å…¸é‡Œï¼Œä¸”å­—å…¸[s[right]] >= leftï¼Œé‚£ä¹ˆå·¦æŒ‡é’ˆç§»åŠ¨åˆ°å­—å…¸[s[right]] + 1ã€‚

ç„¶åï¼Œæ›´æ–°å­—å…¸[s[right]] = rightã€‚

ç„¶åï¼Œmax_len = max(max_len, right - left + 1)

è¿™æ ·åº”è¯¥å¯ä»¥ã€‚

è®©æˆ‘å†™ä¸€ä¸‹è¿™ä¸ªé€»è¾‘ã€‚

def find(s):

char_map = {}

left = 0

max_len = 0

for right in range(len(s)):

if s[right] in char_map and char_map[s[right]] >= left:

left = char_map[s[right]] + 1

char_map[s[right]] = right

max_len = max(max_len, right - left + 1)

return max_len

ç„¶ååœ¨lengthOfLongestSubstringå‡½æ•°ä¸­ï¼Œæˆ‘å°±ä¸éœ€è¦å¾ªç¯è°ƒç”¨findäº†ï¼Œç›´æ¥è°ƒç”¨ä¸€æ¬¡find(s)å°±å¯ä»¥äº†ã€‚

å› ä¸ºfindå‡½æ•°å·²ç»è€ƒè™‘äº†æ‰€æœ‰å¯èƒ½çš„å­ä¸²ã€‚

è®©æˆ‘æµ‹è¯•ä¸€ä¸‹ã€‚

è¾“å…¥"abcabcbb"ï¼Œåº”è¯¥è¿”å›3ã€‚

ç”¨ä¸Šé¢çš„findå‡½æ•°ï¼Œleft=0, right=0, s[0]='a', not in char_map, char_map['a']=0, max_len=1

right=1, s[1]='b', not in char_map, char_map['b']=1, max_len=2

right=2, s[2]='c', not in char_map, char_map['c']=2, max_len=3

right=3, s[3]='a', 'a'åœ¨char_mapï¼Œä¸”char_map['a']=0 >= left=0, æ‰€ä»¥left=1, char_map['a']=3, max_len=3

right=4, s[4]='b', 'b'åœ¨char_mapï¼Œchar_map['b']=1 < left=1, ä¸ç§»åŠ¨leftï¼Œchar_map['b']=4, max_len=3

right=5, s[5]='c', 'c'åœ¨char_mapï¼Œchar_map['c']=2 < left=1, ä¸ç§»åŠ¨ left, char_map['c']=5, max_len=3

right=6, s[6]='b', 'b'åœ¨char_map, char_map['b']=4 >= left=1, æ‰€ä»¥ left=5, char_map['b']=6, max_len=3

æ‰€ä»¥è¿”å›3ï¼Œæ­£ç¡®ã€‚

å†æµ‹è¯•"dvdf"

left=0, right=0, s[0]='d', char_map['d']=0, max_len=1

right=1, s[1]='v', not in, char_map['v']=1, max_len=2

right=2, s[2]='d', 'd'åœ¨char_map, char_map['d']=0 < left=0, ä¸ç§»åŠ¨ left, char_map['d']=2, max_len=3

right=3, s[3]='f', not in, char_map['f']=3, max_len=4

ä½†æ˜¯å®é™…ä¸Šï¼Œ"vdf"æ˜¯é•¿åº¦3ï¼Œä½†æ˜¯æˆ‘çš„max_len=4ï¼Œä¸å¯¹ï¼Œå› ä¸º'v','d','f'æ˜¯ä¸é‡å¤çš„ï¼Œä½†æ˜¯'d'åœ¨ä½ç½®0å’Œ2ï¼Œä½ç½®0ä¸åœ¨å½“å‰çª—å£å†…ï¼Œleft=0, right=3, 'f'åŠ å…¥ï¼Œmax_len=4ï¼Œä½†å®é™…æœ€é•¿æ˜¯3ã€‚

Wait, "dvdf"ä¸­ï¼Œæœ€é•¿ä¸é‡å¤å­ä¸²æ˜¯"vdf"ï¼Œé•¿åº¦3ã€‚ä½†æ˜¯æˆ‘çš„ä»£ç è¿”å›4ï¼Œè¿™æ˜¯é”™è¯¯çš„ã€‚

Wait, in my simulation, at right=3, left=0, 'f' not in window, so max_len=4, but 'd' appears at position 0 and 2, but since left=0 <= position of 'd'=0, but char_map['d']=2, which is >= left=0, so when right=3, check if 'f' is in char_map, it's not, so max_len=4, which is wrong.

Wait, perhaps I made a mistake in simulation.

Let's step through it again.

s = "dvdf"

char_map = {}

left = 0

max_len = 0

right=0, s[0]='d', not in char_map, char_map['d']=0, max_len=1

right=1, s[1]='v', not in char_map, char_map['v']=1, max_len=2

right=2, s[2]='d', 'd'åœ¨char_map, char_map['d']=0 < left=0, ä¸ç§»åŠ¨ left, char_map['d']=2, max_len=3

right=3, s[3]='f', not in char_map, char_map['f']=3, max_len=4

So according to this, max_len=4, but actually "vdf" is the longest without repeating, which is length 3.

Wait, but "vdf" is from index1 to 3, which is 'v','d','f', no repeats.

But according to the code, at right=3, left=0, 'f' is added, window is from 0 to 3, 'd','v','d','f', which has 'd' repeated, so should not be allowed.

Wait, in the code, when s[right]='f', which is not in char_map or its last occurrence is less than left, so it's allowed.

But in reality, 'd' appears at index0 and 2, and at right=3, left=0, so 'd' at index0 is still in the window, since left=0 <= index0 < right=3.

But according to the condition, if s[right] in char_map and char_map[s[right]] >= left, then left = char_map[s[right]] +1.

In this case, s[2]='d', char_map['d']=2 >= left=0, so left=3.

Wait, but in my earlier simulation, I thought char_map['d']=2 >= left=0, so left=3 at right=2.

Wait, let's correct the simulation.

s = "dvdf"

char_map = {}

left = 0

max_len = 0

right=0, s[0]='d', not in char_map, char_map['d']=0, max_len=1

right=1, s[1]='v', not in char_map, char_map['v']=1, max_len=2

right=2, s[2]='d', 'd'åœ¨char_map, char_map['d']=0 >= left=0, æ‰€ä»¥ left=1, char_map['d']=2, max_len=2 (from index1 to 2, 'v','d')

right=3, s[3]='f', not in char_map, char_map['f']=3, max_len=3 (from index1 to 3, 'v','d','f')

So the correct max_len is 3, which matches the expected output.

In my earlier simulation, I mistakenly kept left=0 when right=2, but actually, left should have been updated to 1.

So my code seems correct now.

But why did the original code only pass 80% of the test cases? Maybe there are some edge cases I'm missing.

Let me think of some test cases.

Test case 1: "abcabcbb" -> 3 (correct)

Test case 2: "bbbbb" -> 1

Test case 3: "pwwkew" -> 3 ("wke")

Test case 4: "" -> 0

Test case 5: " " -> 1

Test case 6: "au" -> 2

Test case 7: "dvdf" -> 3 (as above)

Test case 8: "abcde" -> 5

Test case 9: "abba" -> 2 ("ab" or "ba")

Test case 10: "anviaj" -> 5 ("nviaj")

Seems like the code handles these correctly.

Maybe there are some cases with numbers or mixed cases.

Test case 11: "aA1" -> 3

Test case 12: "AaA" -> 2 ("Aa" or "aA")

Test case 13: "abcABC" -> 6

Test case 14: "1234567890" -> 10

Test case 15: "112233" -> 2

Seems okay.

Maybe there's an issue with the outer loop in lengthOfLongestSubstring.

In the original code, it loops over each i and calls find(s[i:]), then takes the max.

But with the corrected find function, I don't need to do that. I can just call find(s) once.

Probably, the original find function was incorrect, causing only 80% passing.

I should replace the entire logic with the sliding window approach in one pass.

So, the corrected code would be:

def lengthOfLongestSubstring(s):

char_map = {}

left = 0

max_len = 0

for right in range(len(s)):

if s[right] in char_map and char_map[s[right]] >= left:

left = char_map[s[right]] + 1

char_map[s[right]] = right

max_len = max(max_len, right - left + 1)

return max_len

print(lengthOfLongestSubstring(input()))

This should pass all test cases.

ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­ä¸åŒ…å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚åŸå§‹ä»£ç ä»…é€šè¿‡äº†80%çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¯èƒ½æ˜¯å› ä¸ºå…¶é€»è¾‘ä¸å¤Ÿå®Œå–„ã€‚æˆ‘ä»¬é‡‡ç”¨æ»‘åŠ¨çª—å£çš„æŠ€å·§æ¥ä¼˜åŒ–è§£å†³æ–¹æ¡ˆã€‚

æ–¹æ³•æ€è·¯
æ»‘åŠ¨çª—å£æŠ€å·§ï¼š

ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼ˆå·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆï¼‰æ¥è¡¨ç¤ºå½“å‰è€ƒè™‘çš„å­ä¸²çš„å·¦å³è¾¹ç•Œã€‚

ç”¨ä¸€ä¸ªå­—å…¸æ¥è®°å½•æ¯ä¸ªå­—ç¬¦æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚

å½“å³æŒ‡é’ˆå‘å³ç§»åŠ¨æ—¶ï¼Œå¦‚æœé‡åˆ°é‡å¤å­—ç¬¦ä¸”è¯¥å­—ç¬¦çš„ä½ç½®åœ¨å½“å‰çª—å£å†…ï¼ˆå³å¤§äºç­‰äºå·¦æŒ‡é’ˆï¼‰ï¼Œåˆ™å°†å·¦æŒ‡é’ˆç§»åŠ¨åˆ°è¯¥é‡å¤å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚

æ¯æ¬¡ç§»åŠ¨å³æŒ‡é’ˆæ—¶ï¼Œæ›´æ–°å½“å‰çª—å£çš„é•¿åº¦ï¼Œå¹¶è®°å½•æœ€å¤§é•¿åº¦ã€‚

æ”¹è¿›åçš„é€»è¾‘ï¼š

åˆå§‹åŒ–ä¸€ä¸ªç©ºå­—å…¸ char_map æ¥è®°å½•å­—ç¬¦çš„ä½ç½®ã€‚

åˆå§‹åŒ–å·¦æŒ‡é’ˆ left ä¸º0ï¼Œæœ€å¤§é•¿åº¦ max_len ä¸º0ã€‚

éå†å­—ç¬¦ä¸²ï¼Œå¯¹äºæ¯ä¸ªå­—ç¬¦ï¼Œå¦‚æœå®ƒåœ¨å­—å…¸ä¸­ä¸”ä½ç½®åœ¨å½“å‰çª—å£å†…ï¼Œåˆ™æ›´æ–°å·¦æŒ‡é’ˆã€‚

æ›´æ–°å­—ç¬¦åœ¨å­—å…¸ä¸­çš„ä½ç½®ï¼Œå¹¶æ›´æ–°æœ€å¤§é•¿åº¦ã€‚

    è§£å†³ä»£ç 
    python
    å¤åˆ¶
    def lengthOfLongestSubstring(s):
        char_map = {}
        left = 0
        max_len = 0
        for right in range(len(s)):
            if s[right] in char_map and char_map[s[right]] >= left:
                left = char_map[s[right]] + 1
            char_map[s[right]] = right
            max_len = max(max_len, right - left + 1)
        return max_len
    
    # æµ‹è¯•
    print(lengthOfLongestSubstring(input()))


ä¼˜é›…å†™æ³•ï¼Œå¤æ‚åº¦ç”±å¹³æ–¹é™æˆçº¿æ€§       
ä½†æ˜¯ä¸å¥½çœ‹æ‡‚       
ååˆ†ä¼˜é›…ï¼Œå°±æ˜¯éœ€è¦ç»´æŠ¤ä¸€ä¸ªè®°å½•å­—æ¯å’Œæ­¤åˆ»ä½ç½®çš„è¡¨         
å½“å‡ºç°ä¸¤ä¸ªåˆ—è¡¨ç¬¦å·æ—¶å€™å°±å®¹æ˜“ç»•      

    
ä»£ç è§£é‡Š
åˆå§‹åŒ–ï¼š

char_mapï¼šè®°å½•å­—ç¬¦åŠå…¶ä½ç½®çš„å­—å…¸ã€‚

leftï¼šæ»‘åŠ¨çª—å£çš„å·¦è¾¹ç•Œï¼Œåˆå§‹ä¸º0ã€‚

max_lenï¼šè®°å½•æœ€é•¿æ— é‡å¤å­—ç¬¦å­ä¸²çš„é•¿åº¦ï¼Œåˆå§‹ä¸º0ã€‚

éå†å­—ç¬¦ä¸²ï¼š

å¯¹äºæ¯ä¸ªå­—ç¬¦ s[right]ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦åœ¨ char_map ä¸­ä¸”å…¶ä½ç½®å¤§äºç­‰äº leftã€‚

å¦‚æœæ˜¯ï¼Œåˆ™æ›´æ–° left ä¸ºé‡å¤å­—ç¬¦ä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚

æ›´æ–° char_map ä¸­å½“å‰å­—ç¬¦çš„ä½ç½®ã€‚

æ›´æ–° max_len ä¸ºå½“å‰çª—å£é•¿åº¦å’Œä¹‹å‰è®°å½•çš„æœ€å¤§é•¿åº¦ä¸­çš„è¾ƒå¤§å€¼ã€‚

è¿”å›ç»“æœï¼š

éå†å®Œæˆåï¼Œè¿”å› max_len ä½œä¸ºç»“æœã€‚

è¿™ä¸ªæ–¹æ³•é€šè¿‡æ»‘åŠ¨çª—å£æŠ€å·§æœ‰æ•ˆåœ°è§£å†³äº†é—®é¢˜ï¼Œç¡®ä¿åœ¨ä¸€æ¬¡éå†ä¸­æ‰¾åˆ°æœ€é•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå…¶ä¸­næ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚







# å°é¹é¢è¯•é¢˜ è‡ªé©¾ç«¯åˆ°ç«¯å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼Œäº‘å’Œç«¯
1

    # encoding: utf-8
    # a = input("please input a number:")
    print("hello world")
    import torch
    import torch.nn as nn
    class Rmsnorm(nn.module):
        def __init__(self, dim, eps=1e-6):
            super(Rmsnorm, self).__init__()
            self.gamma = nn.Parameter(torch.ones(dim))
            self.eps = eps 
        def forward(self, x):
            rms = torch.sqrt(x.pow(2).mean(-1,keepdim=True)+self.eps)
            x_norm = x/rms
            return self.gamma*x_norm
    
2

å¥½åƒå†™é”™äº†
    
    # encoding: utf-8
    # a = input("please input a number:")
    print("hello world")
    import torch
    import torch.nn as nn
    class Batchnorm(nn.module):
        def __init__(self, momentum=0.1, eps=1e-6,dim):
            super(Batchnorm, self).__init__()
            self.gamma = nn.Parameter(torch.ones(dim))
            self.beta = nn.Parameter(torch.ones(dim))
            self.eps = eps 
            self.register_buffer('moving_mean',torch.zeros(dim))
            self.register_buffer('moving_sigma',torch.ones(dim))
            self.register_buffer('momentum',torch.tensor(momentum))
    
    
        def forward(self, x):
            mul = x.mean()
            sigma = x.var()
            self.moving_mean = self.moving_mean * self.momentum \
                            + mul * (1-self.momentum )
            self.moving_sigma = self.moving_sigma * self.momentum \
                            + mul * (1-self.momentum )                
            x_norm = (x - self.moving_mean) * sigma \
                    torch.sqrt(self.moving_sigm + self.eps = eps )
            return self.gamma*x_norm + self.beta
    
    
ç½‘ä¸Š


    1.å…ˆå¯¹ä¸€ç»„æ•°æ®æ±‚å‡å€¼Î¼

2.å†å¯¹è¿™ç»„æ•°æ®æ±‚æ–¹å·®std

3.å†å¯¹æ¯ä¸€ç»„æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–ï¼ˆä¸Šè¿°å…¬å¼æ‹¬å·é‡Œï¼Œåˆ†æ¯åŠ ä¸€ä¸ªæå°çš„æ•°å€¼ï¼Œé˜²æ­¢åˆ†æ¯ä¸º0çš„ä½œç”¨ï¼‰

4.ä¹˜ä»¥ä¸€ä¸ªå¯å­¦ä¹ çš„å‚æ•°Î³ï¼ŒåŠ ä¸Šä¸€ä¸ªå¯å­¦ä¹ çš„å‚æ•°Î²ï¼Œé»˜è®¤ä¸º1å’Œ0

Batch Normalizationè¿˜åŒ…å«ä¸¤ä¸ªå¯å­¦ä¹ çš„å‚æ•°ï¼Œç”¨äºåœ¨æ ‡å‡†åŒ–å¤„ç†åè¿›è¡Œç¼©æ”¾å’Œå¹³ç§»ï¼Œä»¥æ¢å¤æ•°æ®çš„åŸå§‹åˆ†å¸ƒç‰¹æ€§ã€‚è¿™ä¸¤ä¸ªå‚æ•°æ˜¯åœ¨åå‘ä¼ æ’­è¿‡ç¨‹ä¸­å­¦ä¹ å¾—åˆ°çš„ï¼Œé»˜è®¤å€¼åˆ†åˆ«ä¸º1å’Œ0ã€‚

å››ã€æˆ‘ä»¬æ€ä¹ˆç”¨ï¼Ÿ



åªè®²è§£BN2d

ç¥ç»ç½‘ç»œæ¨¡å—å­˜åœ¨ä¸¤ç§æ¨¡å¼: trainæ¨¡å¼ï¼ˆ **net.train() ** ) å’Œevalæ¨¡å¼ï¼ˆ net.eval() )ï¼Œä¸€èˆ¬çš„ç¥ç»ç½‘ç»œä¸­ï¼Œè¿™ä¸¤ç§æ¨¡å¼æ˜¯ä¸€æ ·çš„ï¼Œåªæœ‰å½“æ¨¡å‹ä¸­å­˜åœ¨dropoutå’Œbatchnormçš„æ—¶å€™æ‰æœ‰åŒºåˆ«ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬è¾“å…¥çš„å›¾åƒæ•°æ®å¤§å¤šæ•°éƒ½æ˜¯Bï¼ŒCï¼ŒHï¼ŒWå››ç»´çš„ï¼Œæˆ‘ä»¬çœ‹ä¸Šå›¾æœ€å·¦ä¾§ç«‹æ–¹ä½“ï¼Œæˆ‘ä»¬å…ˆæŠŠHå’ŒWç»´åº¦ç»™viewæˆä¸€ä¸ªç»´åº¦ï¼Œè¿™æ ·å°±å˜æˆäº†ä¸€ä¸ªBï¼ŒCï¼ŒH*Wçš„ä¸‰ç»´æ•°ç»„ã€‚
    
    import torch  
    import torch.nn as nn  
      
    class BatchNorm2d(nn.Module):  
        def __init__(self, num_features, eps=1e-5, momentum=0.1):  
            super(CustomBatchNorm2d, self).__init__()  
            self.num_features = num_features  
            self.eps = eps  
            self.momentum = momentum  
      
            # åˆå§‹åŒ–å¯å­¦ä¹ çš„scaleå’Œshiftå‚æ•°  
            self.weight = nn.Parameter(torch.ones(num_features))  
            self.bias = nn.Parameter(torch.zeros(num_features))  
      
            # åˆå§‹åŒ–è¿è¡Œå‡å€¼å’Œæ–¹å·®  
            self.running_mean = torch.zeros(num_features)  
            self.running_var = torch.ones(num_features)  
      
            # å¦‚æœåœ¨è®­ç»ƒæ¨¡å¼ä¸‹ï¼Œä½¿ç”¨è¿™äº›å˜é‡æ¥è·Ÿè¸ªå½“å‰å°æ‰¹é‡çš„ç»Ÿè®¡é‡  
            self.register_buffer('num_batches_tracked', torch.tensor(0, dtype=torch.long))  
      
        def forward(self, x):  
            if self.training:  
                # è®¡ç®—å½“å‰å°æ‰¹é‡çš„å‡å€¼å’Œæ–¹å·®  
                batch_mean = x.mean(dim=[0, 2, 3], keepdim=True)  
                batch_var = x.var(dim=[0, 2, 3], keepdim=True)  
      
                # æ›´æ–°è¿è¡Œå‡å€¼å’Œæ–¹å·®  
                self.running_mean = self.momentum * self.running_mean + (1 - self.momentum) * batch_mean.detach()  
                self.running_var = self.momentum * self.running_var + (1 - self.momentum) * batch_var.detach()  
      
                # å½’ä¸€åŒ–æ•°æ®  
                x_norm = (x - batch_mean) / torch.sqrt(batch_var + self.eps)  
      
            else:  
                # ä½¿ç”¨è¿è¡Œå‡å€¼å’Œæ–¹å·®è¿›è¡Œå½’ä¸€åŒ–  
                x_norm = (x - self.running_mean.unsqueeze(0).unsqueeze(2).unsqueeze(3)) / torch.sqrt(self.running_var.unsqueeze(0).unsqueeze(2).unsqueeze(3) + self.eps)  
      
            # åº”ç”¨å¯å­¦ä¹ çš„scaleå’Œshiftå‚æ•°  
            x_transformed = self.weight.unsqueeze(0).unsqueeze(2).unsqueeze(3) * x_norm + self.bias.unsqueeze(0).unsqueeze(2).unsqueeze(3)  
      
            # æ›´æ–°è·Ÿè¸ªçš„å°æ‰¹é‡æ•°é‡  
            if self.training:  
                self.num_batches_tracked += 1  
      
            return x_transformed
è‹¥æ˜¯æˆ‘ä»¬ç›´æ¥ä½¿ç”¨pytorchæ¡†æ¶é‡Œé¢çš„nn.BatchNorm2dï¼Œå½“ä½ å®šä¹‰æ¨¡å‹æ—¶ï¼Œä½ å¯ä»¥åœ¨å·ç§¯å±‚ä¹‹åæ·»åŠ  nn.BatchNorm2d å±‚ã€‚å®ƒæ¥å—å‡ ä¸ªå‚æ•°ï¼Œä½†æœ€é‡è¦çš„æ˜¯ num_featuresï¼Œå®ƒåº”è¯¥ä¸ä¸Šä¸€å±‚çš„è¾“å‡ºé€šé“æ•°ï¼ˆå³ç‰¹å¾æ˜ å°„çš„æ•°é‡ï¼‰ç›¸åŒ¹é…ã€‚
    
    import torch  
    import torch.nn as nn
     
    class MyModel(nn.Module):  
        def __init__(self):  
            super(MyModel, self).__init__()  
            self.conv1 = nn.Conv2d(3, 64, kernel_size=3, stride=1, padding=1)  
            self.bn1 = nn.BatchNorm2d(64)  # æ³¨æ„è¿™é‡Œçš„64è¦ä¸conv1çš„è¾“å‡ºé€šé“æ•°åŒ¹é…  
            self.relu = nn.ReLU(inplace=True)  
            # ... å…¶ä»–å±‚ ...  
      
        def forward(self, x):  
            x = self.conv1(x)  
            x = self.bn1(x)  
            x = self.relu(x)  
            # ... é€šè¿‡å…¶ä»–å±‚ä¼ é€’x ...  
            return x
nn.BatchNorm2d çš„ä¸»è¦å‚æ•°åŒ…æ‹¬ï¼š

num_features (int) - è¾“å…¥æ•°æ®çš„ç‰¹å¾æ•°é‡ï¼Œå³è¾“å…¥çš„é€šé“æ•°ã€‚è¿™é€šå¸¸ä¸ä¸Šä¸€ä¸ªå·ç§¯å±‚çš„è¾“å‡ºé€šé“æ•°ç›¸åŒ¹é…ã€‚
eps (float, optional) - æ·»åŠ åˆ°åˆ†æ¯çš„ä¸€ä¸ªå°çš„æ­£å€¼ï¼Œä»¥ç¡®ä¿æ•°å€¼ç¨³å®šæ€§ã€‚å½“åˆ†æ¯ï¼ˆå³æ–¹å·®ï¼‰éå¸¸æ¥è¿‘é›¶æ—¶ï¼Œå®ƒå¯ä»¥é˜²æ­¢é™¤ä»¥é›¶çš„é”™è¯¯ã€‚é»˜è®¤å€¼é€šå¸¸ä¸º 1e-5ã€‚
momentum (float, optional) - ç”¨äºè®¡ç®—è¿è¡Œå¹³å‡å€¼ï¼ˆrunning meanï¼‰å’Œè¿è¡Œæ–¹å·®ï¼ˆrunning varianceï¼‰çš„åŠ¨é‡å‚æ•°ã€‚å®ƒå†³å®šäº†ä¹‹å‰æ‰¹æ¬¡ç»Ÿè®¡ä¿¡æ¯çš„æƒé‡ã€‚é»˜è®¤å€¼é€šå¸¸ä¸º 0.1ã€‚æ³¨æ„ï¼Œè¿™ä¸ªåŠ¨é‡å‚æ•°ä¸ä¼˜åŒ–å™¨ä¸­çš„åŠ¨é‡å‚æ•°æ˜¯ä¸åŒçš„ã€‚
affine (bool, optional) - ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœè®¾ç½®ä¸º Trueï¼Œåˆ™æ­¤æ¨¡å—å…·æœ‰å¯å­¦ä¹ çš„ä»¿å°„å‚æ•°ï¼ˆgamma å’Œ betaï¼‰ã€‚è¿™äº›å‚æ•°å…è®¸æ‰¹é‡å½’ä¸€åŒ–å±‚åœ¨å½’ä¸€åŒ–ä¹‹åå¯¹æ•°æ®è¿›è¡Œç¼©æ”¾å’Œåç§»ã€‚é»˜è®¤å€¼é€šå¸¸ä¸º Trueã€‚
track_running_stats (bool, optional) - ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœè®¾ç½®ä¸º Trueï¼Œåˆ™åœ¨è®­ç»ƒæœŸé—´è®¡ç®—å¹¶å­˜å‚¨è¿è¡Œå¹³å‡å€¼å’Œè¿è¡Œæ–¹å·®ï¼Œå¹¶åœ¨è¯„ä¼°æ—¶ä½¿ç”¨å®ƒä»¬ã€‚å¦‚æœè®¾ç½®ä¸º Falseï¼Œåˆ™ä¸ä¼šè·Ÿè¸ªè¿™äº›ç»Ÿè®¡ä¿¡æ¯ï¼Œè€Œæ˜¯åœ¨è¯„ä¼°æ—¶ä½¿ç”¨æ¯ä¸ªæ‰¹æ¬¡çš„ç»Ÿè®¡ä¿¡æ¯ã€‚é»˜è®¤å€¼é€šå¸¸ä¸º Trueã€‚
æ­¤å¤–ï¼Œnn.BatchNorm2d è¿˜æœ‰ä¸¤ä¸ªå¯å­¦ä¹ çš„å‚æ•°ï¼š

weight (gamma) (Tensor) - å¯å­¦ä¹ çš„ç¼©æ”¾å‚æ•°ï¼Œå…¶å¤§å°ä¸è¾“å…¥æ•°æ®çš„ç‰¹å¾æ•°é‡ç›¸åŒã€‚
bias (beta) (Tensor) - å¯å­¦ä¹ çš„åç§»å‚æ•°ï¼Œå…¶å¤§å°ä¸è¾“å…¥æ•°æ®çš„ç‰¹å¾æ•°é‡ç›¸åŒã€‚
è¿™ä¸¤ä¸ªå‚æ•°ä»…åœ¨ affine=True æ—¶æœ‰æ•ˆã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå®ƒä»¬é€šè¿‡åå‘ä¼ æ’­è¿›è¡Œæ›´æ–°ã€‚

äº”ã€æ‹“å±•

        é™¤BNå¤–ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤º è¿˜æœ‰Layer Normã€Instance Normã€Group Normï¼Œç”±å›¾åƒèƒ½å¤Ÿè¿›è¡Œç±»æ¯”å­¦ä¹ ã€‚

        æ³¨ï¼šLayer Normå’ŒInstance Normåˆ†åˆ«æ˜¯Group Normçš„ä¸¤ç§æç«¯å½¢å¼ã€‚












# ç¬”è¯• æš‘æœŸå®ä¹  ç‰›å®¢çœŸé¢˜ ojåœ¨çº¿ç¼–ç¨‹ OJåœ¨çº¿ç¼–ç¨‹å¸¸è§è¾“å…¥è¾“å‡ºç»ƒä¹  acmæ¨¡å¼

ä¸€èˆ¬ä¼ä¸šä¼šç”¨åˆ°ä»¥ä¸‹å‡ ä¸ªå¹³å°ï¼š

ç‰›å®¢ç½‘ï¼šè…¾è®¯ã€ç¾å›¢ç­‰å¤§ä¸­å°å‚ï¼›
èµ›ç ç½‘ï¼š360ã€é¡ºä¸°ã€å­—èŠ‚å’Œå°çº¢ä¹¦ç­‰å¤§ä¸­å°å‚ï¼›
å…¶ä»–å°å¹³å°æˆ–è‡ªå»ºå¹³å°ï¼šé˜¿é‡Œç­‰
ä¸€èˆ¬ä¼ä¸šéƒ½æ˜¯é€‰æ‹©å‰ä¸¤ä¸ªæ¯”è¾ƒå¤§çš„å¹³å°ä½œä¸ºç¬”è¯•çš„åˆä½œæ–¹ï¼Œæ‰€ä»¥åé¢æˆ‘ä¼šé‡ç‚¹å¯¹è¿™ä¸¤ä¸ªå¹³å°ä¸‹çš„ä¸€äº›è§„åˆ™è¿›è¡Œæ¢³ç†ã€‚

è¯¥ç±»åœ¨çº¿æµ‹è¯•ç³»ç»Ÿä¹Ÿè¢«ç§°ä¸º OJ (Online Judge)ï¼Œå³åœ¨çº¿åˆ¤é¢˜ç³»ç»Ÿï¼Œæ˜¯ä¸€ç§åœ¨ç¼–ç¨‹ç«èµ›ä¸­ç”¨æ¥æµ‹è¯•å‚èµ›ç¨‹åºçš„åœ¨çº¿ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥ç”¨äºå¹³æ—¶ç»ƒä¹ ã€‚å…³äºè¯¥ç³»ç»Ÿä¹Ÿæœ‰ä¸€äº›ä¸“ä¸šçš„æœ¯è¯­å’Œè§„åˆ™ï¼Œå¦‚ï¼š
åˆ¤é¢˜æ—¶ç»å¸¸ä¼šå‡ºç°çš„è¯„æµ‹çŠ¶æ€æœ‰ï¼š


èµ›åˆ¶ï¼š
OI èµ›åˆ¶ï¼šä¼ ç»Ÿçš„èµ›åˆ¶ï¼Œæ¯”èµ›æœŸé—´ä¸èƒ½çœ‹åˆ°ç»“æœã€‚ä»¥æœ€åä¸€æ¬¡æäº¤ä¸ºå‡†ã€‚
ACM èµ›åˆ¶ï¼šæ¯”èµ›æ—¶å¯ä»¥çœ‹åˆ°ç»“æœï¼Œå¿…é¡» AC äº†è¿™é“é¢˜ç›®æ‰ä¼šè®¡åˆ†ï¼Œä¼šè®°å½•AC è¿™é“é¢˜çš„è€—æ—¶ï¼Œæ¯æ¬¡å¤±è´¥çš„æäº¤ä¼šåŠ ä¸Š 20 åˆ†é’Ÿçš„ç½šæ—¶ã€‚é€šè¿‡é¢˜ç›®æ•°å¤šçš„æ’ååœ¨å‰ï¼›é€šè¿‡æ•°ä¸€æ ·çš„è€—æ—¶å°‘æ’åé å‰ã€‚
ä¹å¤šèµ›åˆ¶ï¼šæ´›è°·ç½‘ç«™ç‹¬åˆ›èµ›åˆ¶ã€‚ç»“åˆäº† OI èµ›åˆ¶å’Œ ACM èµ›åˆ¶çš„ä¼˜ç‚¹ï¼Œæ—¢å¯ä»¥æŒ‰ç…§é¢˜ç›®çš„æµ‹è¯•ç‚¹åˆ†ç‚¹å¾—åˆ†ï¼Œä¹Ÿä¸å¤±æ¯”èµ›çš„åˆºæ¿€ã€‚æ¯”èµ›æ—¶å¯ä»¥çœ‹åˆ°ç»“æœã€‚å¯¹äºä¸€é“é¢˜çš„å¾—åˆ†ï¼Œè®¡ç®—ä¸ºï¼ˆè¯„æµ‹å¾—åˆ†*0.95^(æœ¬é¢˜æäº¤æ¬¡æ•°-1)ï¼‰ï¼Œæœ€ä½æ‰£åˆ°åŸæ¥çš„ 70% ä¸ºæ­¢ã€‚
IOI èµ›åˆ¶ï¼šæœ€ä¸åˆºæ¿€çš„èµ›åˆ¶ï¼Œæ¯”èµ›æ—¶å¯ä»¥çœ‹åˆ°ç»“æœï¼Œè®¡åˆ†æŒ‰ç…§è¿™é“é¢˜ç›®çš„


## è¾“å…¥æ–¹æ³•æ±‡æ€»
è¾“å…¥æè¿°ï¼š
åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ã€‚
å¯¹äºæ¯ç»„æµ‹è¯•ç”¨ä¾‹ï¼š
ç¬¬ä¸€è¡ŒåŒ…æ‹¬2ä¸ªæ•´æ•°ï¼ŒN ( 1 < = N < = 1000 ) N(1 <= N <= 1000)N(1<=N<=1000)ï¼ŒM ( 0 < = M < = N âˆ— ( N âˆ’ 1 ) / 2 ) M(0 <= M <= N*(N-1)/2)M(0<=M<=Nâˆ—(Nâˆ’1)/2)ï¼Œä»£è¡¨ç°æœ‰ N NN ä¸ªäººï¼ˆç”¨ 1 âˆ¼ N 1 \sim N1âˆ¼N ç¼–å·ï¼‰å’Œ M MM ç»„å…³ç³»ï¼›
åœ¨æ¥ä¸‹æ¥çš„ M MM è¡Œé‡Œï¼Œæ¯è¡ŒåŒ…æ‹¬3ä¸ªæ•´æ•°ï¼Œa aaï¼Œb bbï¼Œ c ccï¼Œå¦‚æœ c cc ä¸º1ï¼Œåˆ™ä»£è¡¨ a aa è·Ÿ b bb æ˜¯åŒä¹¡ï¼›å¦‚æœ c cc ä¸º0ï¼Œåˆ™ä»£è¡¨a aa è·Ÿ b bb ä¸æ˜¯åŒä¹¡ï¼›
å·²çŸ¥1è¡¨ç¤ºå°èµ›æœ¬äººã€‚

    è¾“å…¥æ ·ä¾‹ï¼š
    3 1
    2 3 1
    5 4
    1 2 1
    3 4 0
    2 5 1
    3 2 1

æ‰€ä»¥è¦æ˜¯æˆ‘çœ‹åˆ°è¿™ä¸ªé—®é¢˜æè¿°ï¼Œç›´æ¥å°±è’™äº†ï¼Œæˆ‘å°±ä¼šè¯¯ä»¥ä¸ºï¼Œè¾“å…¥è·Ÿæˆ‘æ²¡å…³ç³»ï¼Œé»˜è®¤æ¯ä¸ªè¾“å…¥å°±æ˜¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ‰€ä»¥ä¸Šé¢çš„è¾“å…¥æ ·ä¾‹ä¸­ï¼Œæ˜¯åŒ…å«ä¸¤ä¸ªæµ‹è¯•æ ·ä¾‹çš„ï¼Œç¬¬1-2è¡Œå’Œç¬¬3-7è¡Œã€‚


    import math
    while 1: # æ¯ä¸€æ¬¡å¾ªç¯é’ˆå¯¹ä¸€ä¸ªæµ‹è¯•æ ·ä¾‹
        #æ¯ç»„ç¬¬ä¸€è¡Œæ˜¯Nå’ŒM 
        nm = list(map(int,input().split(" "))) # æ¯ä¸€ä¸ªinput()å‡½æ•°éƒ½é’ˆå¯¹ä¸€è¡Œè¾“å…¥
        N = nm[0]
        M = nm[1]
        print(str(N) + ' ' + str(M))
        # æ¥ä¸‹æ¥Mè¡Œï¼Œæ¯è¡Œa b c
        for i in range(M):
        abc = list(map(int,input().split(" "))) # è¿™é‡Œå°±é’ˆå¯¹é™¤ç¬¬ä¸€è¡Œè¾“å…¥å¤–çš„å…¶ä»–è¡Œçš„è¾“å…¥
        a = abc[0]
        b = abc[1]
        c = abc[2]
        print(str(a) + ' ' + str(b) + ' ' + str(c))


1.2 å„ç§è¾“å…¥è¾“å‡ºçš„æƒ…å†µæ€»ç»“
python è¯­è¨€ä¸­çš„è¾“å…¥ä¸€èˆ¬ä½¿ç”¨ input() æˆ– sys.stdin.readlineï¼Œä¸€èˆ¬ä½¿ç”¨å‰è€…å³å¯ï¼Œä½¿ç”¨ print() è¿›è¡Œè¾“å‡ºã€‚

1.2.1 å•ä¸ªè¾“å…¥ï¼Œå•ä¸ªè¾“å‡º

    input = int(input())
    output = input
    print(str(output))

1.2.2 å•è¡Œå¤šä¸ªè¾“å…¥ï¼Œå•è¡Œå¤šä¸ªè¾“å‡ºï¼Œç©ºæ ¼åˆ†å‰²ï¼ˆå¤šè¡Œè¾“å…¥ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªæµ‹è¯•æ ·ä¾‹ï¼‰

    inputs = list(map(int, input().split(" ")))
    m, n = inputs[0], input[1]
    print(str(m), str(n))

1.2.3 å¤šä¸ªæµ‹è¯•æ¡ˆä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•æ¡ˆä¾‹å¤šè¡Œ

    while 1:
        nm = list(map(int,input().split(" ")))
        N = nm[0]
        M = nm[1]
        print(str(n)+' '+str(m))
        for i in range(m):
            abc = list(map(int, input().split(" ")))
            a, b, c = abc[0], abc[1], abc[2]
            print(str(a)+' '+str(b)+' '+str(c))


ç‰›å®¢ç½‘å»ºè®®ä½¿ç”¨ sys.stdin.readline() è·å–è¾“å…¥ï¼Œä½¿ç”¨ print() è¿›è¡Œè¾“å‡ºã€‚
è¾“å…¥ç”¨ç©ºæ ¼éš”å¼€ï¼Œå¦‚æœè¦ç”¨ , éš”å¼€ï¼Œä½¿ç”¨ .split(",")

2.1 å¤šè¡Œè¾“å…¥ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªæµ‹è¯•æ ·ä¾‹

    import sys 
    for line in sys.stdin:
        a = line.split()
        print(int(a[0]) + int(a[1]))

2.2 å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æœ‰å¤šè¡Œ
è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ã€‚å¯¹äºæ¯ç»„æµ‹è¯•ç”¨ä¾‹ï¼šç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°Nå’ŒMï¼Œåœ¨æ¥ä¸‹æ¥çš„Mè¡Œå†…ï¼Œæ¯è¡ŒåŒ…æ‹¬3ä¸ªæ•´æ•°ã€‚è¦æ±‚æŒ‰ç…§è¾“å…¥æ ¼å¼è¾“å‡ºã€‚

    import sys
    for line in sys.stdin:
        n, m = map(int, line.strip().split())
        print(n, m)
        for i in range(m):
            for line in sys.stdin:
                a, b, c = map(int, line.strip().split())
                print(a, b, c)5861/article/details/131903084















## ç»ƒä¹ 1 å¾ªç¯è¡Œè¯»å– for line in sys.stdin ä¸€æ¬¡è¯»å®Œæ‰€æœ‰
è¾“å‡ºæè¿°ï¼š
è¾“å‡ºa+bçš„ç»“æœ
ç¤ºä¾‹1

    è¾“å…¥ä¾‹å­ï¼š
    1 5
    10 20
    è¾“å‡ºä¾‹å­ï¼š
    6
    30
è§£ç­”

    import sys

    for line in sys.stdin: å¾ªç¯è¡Œè¯»å–ï¼Œåº”è¯¥æ˜¯è¢«è¯»å–æˆä¸€ä¸ªiterateäº† åˆ—è¡¨è¿˜æ˜¯å…¶ä»–ä»€ä¹ˆç»“æ„ä½ç½® åº”è¯¥å°±æ˜¯nextè¾“å‡º æˆ–è€…æ˜¯yield
        a = line.split() è¡Œè¯»å– åˆ‡åˆ†ç©ºæ ¼ åˆ—è¡¨è¿”å›
        print(int(a[0]) + int(a[1]))


## ç»ƒä¹ 2 æŒ‰è¡Œè¯»å– input()
è¾“å‡ºæè¿°ï¼š
è¾“å‡ºa+bçš„ç»“æœ
ç¤ºä¾‹1

    è¾“å…¥ä¾‹å­ï¼š
    2
    1 5
    10 20
    è¾“å‡ºä¾‹å­ï¼š
    6
    30

ç­”æ¡ˆ

    import sys
    
    n = int(input())
    for _ in range(n):
        ls = list(map(int, input().split()))
        print(ls[0] + ls[1])



## ç»ƒä¹ 3 
è¾“å‡ºæè¿°ï¼š
è¾“å‡ºä¸€è¡Œæ’åºåçš„å­—ç¬¦ä¸²ï¼Œç©ºæ ¼éš”å¼€ï¼Œæ— ç»“å°¾ç©ºæ ¼
ç¤ºä¾‹1

    è¾“å…¥ä¾‹å­ï¼š
    5
    c d a bb e
    è¾“å‡ºä¾‹å­ï¼š
    a bb c d e

## ç»ƒä¹ 4 mapç›´æ¥ç”¨äºæ•´ä¸ªlist è€Œä¸”è¿”å›å€¼éœ€è¦å†è½¬å›listã€‚intç›´æ¥ç”¨ä¸éœ€è¦æ‹¬å·int()
    for line in sys.stdin:
        a = line.split()
        b = list(map(int, a))
        print(sum(b))

åŠ æ‹¬å·ä¼šå¯¼è‡´       
Exception has occurred: TypeError
'int' object is not callable
  File "C:\Users\13162\Desktop\å·¥ä½œ\å¤šæ¨¡\leetcode\test.py", line 25, in <module>
    b = list(map(int(), a))
        ^^^^^^^^^^^^^^^^^^^
TypeError: 'int' object is not callable


b = list(map(int, "1"))       
ä¹Ÿå¯ä»¥å•ä¸ªç›´æ¥ç”¨ å½“æˆåˆ—è¡¨å¤„ç† å¥½åƒä¹‹å‰æœ‰ä¸ªå‡½æ•°ä¹Ÿæ˜¯è¿™ç§é€»è¾‘         
[1]

# oppoçœŸé¢˜
## ç¬¬ä¸€é¢˜ n, m, k = map(int, input().split())
é¢˜æ„ï¼šç»™ä½  x, y, k ä¸‰ä¸ªæ­£æ•´æ•°ï¼Œæ¯æ¬¡å¯ä»¥é€‰æ‹©ä»¥ä¸‹æ“ä½œä¹‹ä¸€

    x = x - 1
    x = x / k å½“ä¸”ä»…å½“ x % k == 0
é—®ä½ å°† x å˜ä¸º y çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚

è¾“å…¥ï¼š

ä¸‰ä¸ªæ­£æ•´æ•°ï¼Œ

è¾“å‡º

ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°æ“ä½œæ¬¡æ•°

æ ·ä¾‹

è¾“å…¥ï¼š

10 4 2

è¾“å‡º

2

æ€è·¯ä¸ä»£ç    
è´ªå¿ƒï¼Œè‹¥  x % k != 0 ï¼Œå°† x å‡å°‘åˆ°èƒ½æ•´é™¤ä¸ºæ­¢ï¼Œåªåˆ°ä¸èƒ½æ•´é™¤ä¸”å¤§äºç­‰äº y ï¼Œç„¶åæ“ä½œ1å³å¯ã€‚

n, m, k = map(int, input().split())

ç«Ÿç„¶å¯ä»¥è¿™æ ·


    def solve() -> None:
        n, m, k = map(int, input().split())
        if k == 1:
            print(m - n)
            return
        ans = 0
        
        while n != m:
            if n // k >= m:
                ans += n % k è¿™ä¸ªåœ°æ–¹å¤ªå·§å¦™ ä¸èƒ½è¯´ç®€å•å§ 
                n //= k é¢˜ç›®åªç»™/ - % ç«Ÿç„¶èƒ½è”æƒ³åˆ°ç”¨ // æ¥å‡å°‘è¿ç®—
            else:
                n -= 1 
            ans += 1
        print(ans)    

    if __name__ == '__main__':
        solve()


æŒ‰ç…§ 10 1 3çš„ä¾‹å­ æˆ‘è‚¯å®šä¼šè¿›å…¥else ä½†æ˜¯è¿™ä¸ªæ–¹æ³•è¿›ç«Ÿç„¶æ²¡è¿›å…¥


å†™å¾—æ¯”è¾ƒå·§å¦™ åŠ å¤§ç†è§£éš¾åº¦



## ç¬¬äºŒé¢˜ counterã€‚ for k, v in cnta.items(), from collections import Counter
é¢˜æ„
å°Oæœ‰ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œå¥¹å¸Œæœ›é‡æ–°æ’åˆ—è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶æ”¹å˜å­—ç¬¦çš„å¤§å°å†™ï¼Œä½¿å¾—æ–°çš„å­—ç¬¦ä¸²åŒ…å«å°½å¯èƒ½å¤šçš„å­—ç¬¦ä¸² a æˆ–è€…å­—ç¬¦ä¸² b ã€‚è¯·é—®å°Oæœ€å¤šèƒ½åŒ…å«å¤šå°‘ä¸ªå­ä¸² a å’Œ b ï¼Œ å¦‚æœå­—ç¬¦ä¸²tå¯ä»¥é€šè¿‡ä»å­—ç¬¦ä¸²sçš„å¼€å¤´åˆ é™¤è‹¥å¹²(å¯èƒ½ä¸ºé›¶æˆ–å…¨éƒ¨)å­—ç¬¦ä»¥åŠå­—ç¬¦ä¸² s çš„ç»“å°¾åˆ é™¤è‹¥å¹²(å¯èƒ½ä¸ºé›¶æˆ–å…¨éƒ¨)å­—ç¬¦å¾—åˆ°ï¼Œåˆ™å­—ç¬¦ä¸² t æ˜¯å­—ç¬¦ä¸² s çš„å­ä¸²ã€‚

è¾“å…¥ï¼š

ä¸‰è¡Œä¸‰ä¸ªå­—ç¬¦ä¸²ï¼Œs, a, b å…¶ä¸­ aå’Œbå¼€å¤´å‡ä¸ºå¤§å†™ï¼Œå…¶ä½™å‡ä¸ºå°å†™

è¾“å‡ºï¼š

åŒ…å«çš„å­ä¸²ä¸ªæ•°

æ ·ä¾‹

è¾“å…¥ï¼š

    abcdefg
    Abc
    Fge
è¾“å‡ºï¼š

2


æ–‡å­—å¤ªå¤š

ç”±äº a å’Œ b çš„é¦–å­—æ¯å¤§å†™ï¼Œæ‰€æœ‰ä¸å­˜åœ¨é‡å ï¼Œé‚£ä¹ˆè€ƒè™‘è´ªå¿ƒï¼Œæšä¸¾æœ‰å¤šå°‘ä¸ª a ,ç„¶åè®¡ç®—å‰©ä¸‹çš„å­—ç¬¦èƒ½ç»„æˆå¤šå°‘ä¸ª bï¼Œå–æœ€å¤§å€¼å³å¯

é¢˜è§£çœ‹ä¸æ‡‚

    def solve() -> None:
        s = input()
        a = input()
        b = input()
        s = [x.lower() for x in s]
        a = [x.lower() for x in a]
        b = [x.lower() for x in b]
        cnts = Counter(s)
        cnta = Counter(a)
        cntb = Counter(b)
        ans = 0
        for i in range(len(s)+1):
            ok = True
            for k, v in cnta.items():
                if cnts[k] < i * v:
                    ok = False
            if ok:
                now = len(s)
                for k, v in cntb.items():
                    now = min(now, (cnts[k] - i * cnta[k]) // v)
                ans = max(ans, i + now)
        print(ans)

    if __name__ == '__main__':
        solve()

è¿˜æ˜¯æ¯”è¾ƒéš¾çš„



è¿™ä»–å¦ˆè¿˜æ¯”è¾ƒç®€å•ï¼Ÿ ä¸¤ä¸ªforå¾ªç¯ ä¸€ä¸ªminä¸­å¸¦æœ‰// è¿˜æœ‰ä¸€ä¸ªmax

true falseå¾ªç¯è®¾ç½® ä»¥åŠokå®šä¹‰å®Œå…¨ä¸çŸ¥é“åœ¨å¹²ä»€ä¹ˆ

è¿™ä¸‰è¡Œä»£ç ä½¿ç”¨ Counter è®¡ç®—æ¯ä¸ªå­—ç¬¦åœ¨å­—ç¬¦ä¸² sã€a å’Œ b ä¸­å‡ºç°çš„é¢‘ç‡ã€‚cntsã€cnta å’Œ cntb æ˜¯ä¸‰ä¸ªå­—å…¸ï¼Œåˆ†åˆ«è®°å½•äº†å­—ç¬¦åŠå…¶å‡ºç°æ¬¡æ•°ã€‚

ok è¢«ç”¨æ¥æ£€æŸ¥åœ¨ s ä¸­æ˜¯å¦æœ‰è¶³å¤Ÿçš„å­—ç¬¦æ¥æ»¡è¶³ i ä¸ªå­—ç¬¦ä¸² aã€‚

ä¸è¦æ±‚é¡ºåºå—


for k, v in cnta.items(): æ£€æŸ¥ cnts ä¸­æ¯ä¸ªå­—ç¬¦æ˜¯å¦æœ‰è¶³å¤Ÿçš„æ•°é‡æ¥æ»¡è¶³ i ä¸ª a å­—ç¬¦ä¸²çš„éœ€æ±‚ã€‚   
å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œè®¡ç®—å‰©ä½™å­—ç¬¦èƒ½ç»„æˆå¤šå°‘ä¸ª b å­—ç¬¦ä¸²ï¼Œå¹¶æ›´æ–°æœ€å¤§å€¼ ansã€‚    
ans = max(ans, i + now): é€šè¿‡æ¯”è¾ƒå½“å‰è®¡ç®—çš„å€¼å’Œä¹‹å‰çš„æœ€å¤§å€¼æ¥æ›´æ–° ansã€‚   

è¿™æ®µä»£ç çš„ç›®çš„æ˜¯ä»ä¸‰ä¸ªå­—ç¬¦ä¸² sã€a å’Œ b ä¸­è®¡ç®—ä¸€ä¸ªæœ€å¤§å€¼ ansã€‚è¿™ä¸ªå€¼è¡¨ç¤ºä½ å¯ä»¥ä»å­—ç¬¦ä¸² s ä¸­æå–å‡ºå°½å¯èƒ½å¤šçš„å­—ç¬¦ä¸² aï¼Œç„¶åç”¨å‰©ä¸‹çš„å­—ç¬¦æ„é€ å°½å¯èƒ½å¤šçš„å­—ç¬¦ä¸² bã€‚æœ€ç»ˆï¼Œans æ˜¯è¿™äº›å­—ç¬¦ä¸² a å’Œ b ç»„åˆçš„æœ€å¤§å€¼ã€‚


ç¡®å®ç‰›é€¼

å°Oæœ‰ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œå¥¹å¸Œæœ›é‡æ–°æ’åˆ—è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶æ”¹å˜å­—ç¬¦çš„å¤§å°å†™ï¼Œä½¿å¾—æ–°çš„å­—ç¬¦ä¸²åŒ…å«å°½å¯èƒ½å¤šçš„å­—ç¬¦ä¸² a æˆ–è€…å­—ç¬¦ä¸² b ã€‚è¯·é—®å°Oæœ€å¤šèƒ½åŒ…å«å¤šå°‘ä¸ªå­ä¸² a å’Œ b ï¼Œ å¦‚æœå­—ç¬¦ä¸²tå¯ä»¥é€šè¿‡ä»å­—ç¬¦ä¸²sçš„å¼€å¤´åˆ é™¤è‹¥å¹²(å¯èƒ½ä¸ºé›¶æˆ–å…¨éƒ¨)å­—ç¬¦ä»¥åŠå­—ç¬¦ä¸² s çš„ç»“å°¾åˆ é™¤è‹¥å¹²(å¯èƒ½ä¸ºé›¶æˆ–å…¨éƒ¨)å­—ç¬¦å¾—åˆ°ï¼Œåˆ™å­—ç¬¦ä¸² t æ˜¯å­—ç¬¦ä¸² s çš„å­ä¸²ã€‚

é¢˜æ„å¥½åƒæ¯”è¾ƒçŸ›ç›¾


    now = len(s)
    for k, v in cntb.items():
        now = min(now, (cnts[k] - i * cnta[k]) // v)

å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œè®¡ç®—å‰©ä½™å­—ç¬¦èƒ½ç»„æˆå¤šå°‘ä¸ª b å­—ç¬¦ä¸²ï¼Œå¹¶æ›´æ–°æœ€å¤§å€¼ ansã€‚

æ•´ä¸ªä¸‹æ¥æŒºç»• è¾¹ç•Œé—®é¢˜ç«Ÿç„¶è¢«å€’é€¼å¤„ç†è¿™ä¹ˆå¥½

// v ä¸å¤ªæ‡‚æ˜¯ä¸ºä»€ä¹ˆ

now = min(now, (cnts[k] - i * cnta[k]) // v)

è¿™å¥ä»£ç  now = min(now, (cnts[k] - i * cnta[k]) // v) çš„ä½œç”¨æ˜¯è®¡ç®—åœ¨å½“å‰æƒ…å†µä¸‹ï¼Œå­—ç¬¦ k èƒ½å¤Ÿæ»¡è¶³çš„æœ€å¤§æ•°é‡ï¼Œå¹¶æ›´æ–° now ä¸ºå…¶æœ€å°å€¼ã€‚å®ƒæ˜¯ç”¨äºç¡®å®šåœ¨ i ä¸ª a ç»„æˆçš„å­—ç¬¦ä¸²åï¼Œå‰©ä¸‹çš„å­—ç¬¦èƒ½ç»„æˆçš„ b å­—ç¬¦ä¸²çš„æ•°é‡ã€‚


// v æ˜¯ä¸ºäº†è®¡ç®—åœ¨å‰©ä½™å­—ç¬¦ä¸­ï¼Œèƒ½å¤Ÿç»„æˆå¤šå°‘ä¸ª b ä¸­éœ€è¦çš„å­—ç¬¦ kã€‚å³é€šè¿‡æ•´æ•°é™¤æ³•ç¡®å®šå‰©ä½™çš„å­—ç¬¦æ•°é‡é™¤ä»¥æ¯ä¸ª b å­—ç¬¦ä¸²æ‰€éœ€çš„å­—ç¬¦æ•° vï¼Œä»è€Œå¾—åˆ°å¯ä»¥ç»„æˆçš„ b å­—ç¬¦ä¸²çš„æ•°é‡ã€‚

å‡è®¾æˆ‘å‰©ä¸‹ 5ä¸ªï¼Œv=5ï¼Œé‚£ä¹ˆ//vå¾—åˆ°1ä¸ªï¼Ÿ

ChatGPT è¯´ï¼š
ChatGPT
æ˜¯çš„ï¼Œæ­£å¦‚ä½ æ‰€ç†è§£çš„ï¼Œå¦‚æœå‰©ä¸‹ 5 ä¸ªå­—ç¬¦ï¼Œè€Œæ¯ä¸ª b å­—ç¬¦ä¸²éœ€è¦ 5 ä¸ªè¿™æ ·çš„å­—ç¬¦ï¼Œé‚£ä¹ˆ 5 // 5 çš„ç»“æœæ˜¯ 1ã€‚è¿™ä¸ªç»“æœè¡¨ç¤ºï¼Œåœ¨å‰©ä¸‹çš„å­—ç¬¦ä¸­ï¼Œä½ æœ€å¤šå¯ä»¥ç»„æˆ 1 ä¸ª b å­—ç¬¦ä¸²ã€‚

åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ// v ç”¨æ¥ç¡®å®šä½ èƒ½ç”¨å‰©ä½™çš„å­—ç¬¦æ¥ç»„æˆå¤šå°‘ä¸ª b å­—ç¬¦ä¸²ã€‚è¿™é‡Œçš„é€»è¾‘æ˜¯å°†å‰©ä½™çš„å­—ç¬¦æ•°é™¤ä»¥æ¯ä¸ª b å­—ç¬¦ä¸²éœ€è¦çš„å­—ç¬¦æ•°ï¼Œä»è€Œç¡®å®šæœ€å¤šå¯ä»¥ç»„æˆå¤šå°‘ä¸ª b å­—ç¬¦ä¸²ã€‚


åŸæ¥å¦‚æ­¤





## ç¬¬ä¸‰é¢˜

é¢˜æ„
ç»™ä½ ä¸€é¢—æ ‘ï¼ŒåŒ…å« n ä¸ªèŠ‚ç‚¹å’Œ n-1 æ¡è¾¹ï¼Œä½ å¯ä»¥åœ¨æ ‘ä¸­é€‰ä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œè¿æ— å‘è¾¹ï¼Œè¦æ±‚è¿è¾¹åçš„æ— å‘å›¾æ˜¯äºŒåˆ†å›¾ï¼Œé—®ä½ èƒ½è¿æ¥çš„æœ€å¤šçš„è¾¹çš„ä¸ªæ•°ã€‚

è¾“å…¥ï¼š

ä¸€è¡Œä¸€ä¸ªæ•´æ•° n, æ¥ä¸‹æ¥ n-1 è¡Œè¾“å…¥æ ‘çš„è¾¹

è¾“å‡ºï¼š

èƒ½å¢åŠ çš„æœ€å¤šçš„è¾¹çš„æ¡æ•°

æ ·ä¾‹

è¾“å…¥ï¼š

    4
    1 2
    2 3
    3 4
è¾“å‡ºï¼š

2


ä¸€çœ‹å°±çœ‹ä¸æ‡‚

æœ¬æ¬¡æ¯”è¯•éš¾åº¦é€‚ä¸­ï¼Œæ²¡æœ‰ç‰¹åˆ«åˆé’»çš„é¢˜ç›®ã€‚ç¬¬ä¸€é¢˜ç®€å•çš„è´ªå¿ƒï¼Œåˆ†æä¸€ä¸‹ä¸éš¾å†™å‡ºæ¥ã€‚ç¬¬äºŒé¢˜ä¹Ÿæ˜¯åŸºç¡€çš„å“ˆå¸Œçš„åº”ç”¨ï¼Œéš¾åº¦ä¸å¤§ã€‚ç¬¬ä¸‰é¢˜æ˜¯ç»å…¸å›¾è®ºé—®é¢˜ï¼Œdfséå†å³å¯ï¼Œæ³¨æ„ä¸è¦é‡å¤éå†ã€‚

è¿™ä»–å¦ˆ


äºŒåˆ†å›¾æŸ“è‰²ï¼Œå°†èŠ‚ç‚¹åˆ†ä¸ºä¸¤ä¸ªé›†åˆï¼Œé‚£ä¹ˆä¸¤ä¸ªé›†åˆçš„ç‚¹ç›¸äº’è¿è¾¹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç»“æœä»æ˜¯äºŒåˆ†å›¾ã€‚å‡è®¾ä¸¤ä¸ªé›†åˆä¸ªæ•°ä¸º x, y=n-x , é‚£ä¹ˆç­”æ¡ˆä¸º x*y-(n-1)

äºŒåˆ†å›¾ã®å®šä¹‰

        äºŒåˆ†å›¾åˆå«äºŒéƒ¨å›¾ï¼Œæ˜¯å›¾è®ºä¸­çš„ä¸€ç§ç‰¹æ®Šæ¨¡å‹ã€‚

        å‡è®¾S=(V,E)æ˜¯ä¸€ä¸ªæ— å‘å›¾ã€‚å¦‚æœé¡¶ç‚¹Vå¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†(A,B)ï¼Œå¹¶ä¸”å›¾ä¸­çš„æ¯æ¡è¾¹(i,j)æ‰€å…³è”çš„ä¸¤ä¸ªé¡¶ç‚¹iå’Œjåˆ†åˆ«å±äºè¿™ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹é›†(i in A,j in B)ï¼Œå°±å¯ä»¥ç§°å›¾Sä¸ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯é¡¶ç‚¹é›†Vå¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†ï¼Œå¹¶ä¸”å›¾ä¸­æ¯æ¡è¾¹ä¾é™„çš„ä¸¤ä¸ªé¡¶ç‚¹éƒ½åˆ†å±äºè¿™ä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†ï¼Œä¸¤ä¸ªå­é›†å†…çš„é¡¶ç‚¹ä¸ç›¸é‚»ã€‚

![alt text](assets_picture/ç‰›å®¢é¢˜/image.png)

å·²ç»å¾ˆåƒæ•°å­¦é¢˜äº†        

è¿™é¢˜å®Œå…¨ä¸æ‡‚


äºŒåˆ†å›¾ï¼ˆBipartite Graphï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œå…¶ä¸­çš„èŠ‚ç‚¹å¯ä»¥è¢«åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„é›†åˆï¼Œä½¿å¾—å›¾ä¸­çš„æ¯æ¡è¾¹éƒ½è¿æ¥è¿™ä¸¤ä¸ªé›†åˆä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚æ¢å¥è¯è¯´ï¼ŒäºŒåˆ†å›¾ä¸­çš„èŠ‚ç‚¹é›†åˆå¯ä»¥è¢«åˆ’åˆ†æˆä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„é›†åˆï¼Œä½¿å¾—æ‰€æœ‰çš„è¾¹éƒ½åªåœ¨è¿™ä¸¤ä¸ªé›†åˆä¹‹é—´è¿æ¥ï¼Œè€Œä¸åœ¨åŒä¸€é›†åˆå†…éƒ¨è¿æ¥ã€‚

å›¾åƒç¤ºä¾‹
è€ƒè™‘ä¸€ä¸ªç®€å•çš„äºŒåˆ†å›¾ç¤ºä¾‹ï¼š

å›¾ 1

    1      2
    |      |
    3      4
è¿™ä¸ªå›¾æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ï¼Œå› ä¸ºä½ å¯ä»¥å°†èŠ‚ç‚¹åˆ†ä¸ºä¸¤ç»„ï¼š

é›†åˆ ğ‘ˆ
={
1
,
4
}
U={1,4}

é›†åˆ ğ‘‰
={
2
,
3
}
V={2,3}


{ç«Ÿç„¶å¯ä»¥å½“æˆæ ‡é¢˜

æ‰€æœ‰çš„è¾¹éƒ½è¿æ¥è¿™ä¸¤ä¸ªé›†åˆçš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚å…·ä½“æ¥è¯´ï¼š

è¾¹ 
(
1
,
2
)
(1,2) è¿æ¥ 
ğ‘ˆ
U ä¸­çš„èŠ‚ç‚¹ 1 å’Œ 
ğ‘‰
V ä¸­çš„èŠ‚ç‚¹ 2ã€‚
è¾¹ 
(
1
,
3
)
(1,3) è¿æ¥ 
ğ‘ˆ
U ä¸­çš„èŠ‚ç‚¹ 1 å’Œ 
ğ‘‰
V ä¸­çš„èŠ‚ç‚¹ 3ã€‚
è¾¹ 
(
2
,
4
)
(2,4) è¿æ¥ 
ğ‘‰
V ä¸­çš„èŠ‚ç‚¹ 2 å’Œ 
ğ‘ˆ
U ä¸­çš„èŠ‚ç‚¹ 4ã€‚
è¾¹ 
(
3
,
4
)
(3,4) è¿æ¥ 
ğ‘‰
V ä¸­çš„èŠ‚ç‚¹ 3 å’Œ 
ğ‘ˆ
U ä¸­çš„èŠ‚ç‚¹ 4ã€‚
ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå›¾æ²¡æœ‰åŒ…å«å¥‡æ•°é•¿åº¦çš„ç¯ï¼ˆä¾‹å¦‚é•¿åº¦ä¸º 3 çš„ç¯ï¼‰ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ã€‚


å›¾ 2ï¼ˆä¸æ˜¯äºŒåˆ†å›¾ï¼‰

    1
    / \
    2 - 3
è¿™ä¸ªå›¾ä¸æ˜¯äºŒåˆ†å›¾ï¼Œå› ä¸ºå®ƒåŒ…å«äº†ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ç¯ï¼ˆ1 â†’ 2 â†’ 3 â†’ 1ï¼‰ã€‚åœ¨äºŒåˆ†å›¾ä¸­ï¼Œæˆ‘ä»¬æ— æ³•å°†å…¶èŠ‚ç‚¹åˆ†ä¸ºä¸¤ä¸ªé›†åˆï¼Œä½¿å¾—æ¯æ¡è¾¹éƒ½è¿æ¥ä¸åŒé›†åˆä¸­çš„èŠ‚ç‚¹ã€‚


å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾        
åˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾çš„ä¸€ç§å¸¸ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨ å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ æˆ– æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ æ¥å°è¯•å¯¹å›¾è¿›è¡ŒäºŒåˆ†ç€è‰²ã€‚å¦‚æœåœ¨æœç´¢è¿‡ç¨‹ä¸­å‘ç°ä¸¤ä¸ªç›¸é‚»çš„èŠ‚ç‚¹è¢«ç€ä¸Šäº†ç›¸åŒçš„é¢œè‰²ï¼Œåˆ™å›¾ä¸æ˜¯äºŒåˆ†å›¾ã€‚




äºŒåˆ†å›¾ï¼ˆBipartite Graphï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œå…¶ä¸­çš„èŠ‚ç‚¹å¯ä»¥è¢«åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„é›†åˆï¼Œä½¿å¾—å›¾ä¸­çš„æ¯æ¡è¾¹éƒ½è¿æ¥è¿™ä¸¤ä¸ªé›†åˆä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚æ¢å¥è¯è¯´ï¼ŒäºŒåˆ†å›¾ä¸­çš„èŠ‚ç‚¹é›†åˆå¯ä»¥è¢«åˆ’åˆ†æˆä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„é›†åˆï¼Œä½¿å¾—æ‰€æœ‰çš„è¾¹éƒ½åªåœ¨è¿™ä¸¤ä¸ªé›†åˆä¹‹é—´è¿æ¥ï¼Œè€Œä¸åœ¨åŒä¸€é›†åˆå†…éƒ¨è¿æ¥ã€‚

äºŒåˆ†å›¾çš„æ€§è´¨
èŠ‚ç‚¹åˆ’åˆ†: äºŒåˆ†å›¾çš„èŠ‚ç‚¹é›†åˆå¯ä»¥è¢«åˆ’åˆ†ä¸ºä¸¤ä¸ªé›†åˆ 
ğ‘ˆ
U å’Œ 
ğ‘‰
Vï¼Œä½¿å¾—æ¯æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«å±äºè¿™ä¸¤ä¸ªé›†åˆä¸­çš„ä¸€ä¸ªã€‚
æ— å¥‡ç¯: ä¸€ä¸ªå›¾æ˜¯äºŒåˆ†å›¾çš„å½“ä¸”ä»…å½“å®ƒä¸åŒ…å«å¥‡æ•°é•¿åº¦çš„ç¯ï¼ˆå¾ªç¯ï¼‰ã€‚å³ï¼ŒäºŒåˆ†å›¾ä¸èƒ½åŒ…å«ä»»ä½•é•¿åº¦ä¸ºå¥‡æ•°çš„ç¯ã€‚
å›¾çš„ç€è‰²: äºŒåˆ†å›¾å¯ä»¥ç”¨ä¸¤ç§é¢œè‰²æ¥ç€è‰²ï¼Œä½¿å¾—ç›¸é‚»çš„èŠ‚ç‚¹é¢œè‰²ä¸åŒã€‚
å›¾åƒç¤ºä¾‹
è€ƒè™‘ä¸€ä¸ªç®€å•çš„äºŒåˆ†å›¾ç¤ºä¾‹ï¼š

å›¾ 1
yaml
å¤åˆ¶ä»£ç 
   1      2
   |      |
   3      4
è¿™ä¸ªå›¾æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ï¼Œå› ä¸ºä½ å¯ä»¥å°†èŠ‚ç‚¹åˆ†ä¸ºä¸¤ç»„ï¼š

é›†åˆ 
ğ‘ˆ
={
1
,
4
}
U={1,4}
é›†åˆ 
ğ‘‰
={
2
,
3
}
V={2,3}
æ‰€æœ‰çš„è¾¹éƒ½è¿æ¥è¿™ä¸¤ä¸ªé›†åˆçš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚å…·ä½“æ¥è¯´ï¼š

è¾¹ 
(
1
,
2
)
(1,2) è¿æ¥ 
ğ‘ˆ
U ä¸­çš„èŠ‚ç‚¹ 1 å’Œ 
ğ‘‰
V ä¸­çš„èŠ‚ç‚¹ 2ã€‚
è¾¹ 
(
1
,
3
)
(1,3) è¿æ¥ 
ğ‘ˆ
U ä¸­çš„èŠ‚ç‚¹ 1 å’Œ 
ğ‘‰
V ä¸­çš„èŠ‚ç‚¹ 3ã€‚
è¾¹ 
(
2
,
4
)
(2,4) è¿æ¥ 
ğ‘‰
V ä¸­çš„èŠ‚ç‚¹ 2 å’Œ 
ğ‘ˆ
U ä¸­çš„èŠ‚ç‚¹ 4ã€‚
è¾¹ 
(
3
,
4
)
(3,4) è¿æ¥ 
ğ‘‰
V ä¸­çš„èŠ‚ç‚¹ 3 å’Œ 
ğ‘ˆ
U ä¸­çš„èŠ‚ç‚¹ 4ã€‚
ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå›¾æ²¡æœ‰åŒ…å«å¥‡æ•°é•¿åº¦çš„ç¯ï¼ˆä¾‹å¦‚é•¿åº¦ä¸º 3 çš„ç¯ï¼‰ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ã€‚

å›¾ 2ï¼ˆä¸æ˜¯äºŒåˆ†å›¾ï¼‰
å¤åˆ¶ä»£ç 
   1
  / \
 2 - 3
è¿™ä¸ªå›¾ä¸æ˜¯äºŒåˆ†å›¾ï¼Œå› ä¸ºå®ƒåŒ…å«äº†ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ç¯ï¼ˆ1 â†’ 2 â†’ 3 â†’ 1ï¼‰ã€‚åœ¨äºŒåˆ†å›¾ä¸­ï¼Œæˆ‘ä»¬æ— æ³•å°†å…¶èŠ‚ç‚¹åˆ†ä¸ºä¸¤ä¸ªé›†åˆï¼Œä½¿å¾—æ¯æ¡è¾¹éƒ½è¿æ¥ä¸åŒé›†åˆä¸­çš„èŠ‚ç‚¹ã€‚

å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾
åˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾çš„ä¸€ç§å¸¸ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨ å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ æˆ– æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ æ¥å°è¯•å¯¹å›¾è¿›è¡ŒäºŒåˆ†ç€è‰²ã€‚å¦‚æœåœ¨æœç´¢è¿‡ç¨‹ä¸­å‘ç°ä¸¤ä¸ªç›¸é‚»çš„èŠ‚ç‚¹è¢«ç€ä¸Šäº†ç›¸åŒçš„é¢œè‰²ï¼Œåˆ™å›¾ä¸æ˜¯äºŒåˆ†å›¾ã€‚

ç¤ºä¾‹ä»£ç 
ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ BFS åˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾çš„ Python ä»£ç ç¤ºä¾‹ï¼š


    from collections import deque, defaultdict

    def is_bipartite(graph, start):
        color = {}
        queue = deque([start])
        color[start] = 0
        
        while queue:
            node = queue.popleft()
            current_color = color[node]
            
            for neighbor in graph[node]:
                if neighbor not in color:
                    color[neighbor] = 1 - current_color
                    queue.append(neighbor)
                elif color[neighbor] == current_color:
                    return False
        
        return True

    def check_bipartite(graph):
        for node in graph:
            if node not in color:
                if not is_bipartite(graph, node):
                    return False
        return True

    # å›¾çš„è¡¨ç¤ºï¼šé‚»æ¥åˆ—è¡¨
    graph = {
        1: [2, 3],
        2: [1, 3],
        3: [1, 2]
    }

    color = {}
    print("The graph is bipartite:" if check_bipartite(graph) else "The graph is not bipartite.")
åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œgraph æ˜¯ä¸€ä¸ªç”¨é‚»æ¥åˆ—è¡¨è¡¨ç¤ºçš„å›¾ã€‚å¦‚æœå›¾æ˜¯äºŒåˆ†å›¾ï¼Œç¨‹åºå°†è¾“å‡ºâ€œå›¾æ˜¯äºŒåˆ†å›¾â€ï¼›å¦åˆ™ï¼Œè¾“å‡ºâ€œå›¾ä¸æ˜¯äºŒåˆ†å›¾â€ã€‚


    def solve() -> None:
        n = sint()
        adj = [[] for _ in range(n)]
        for i in range(n - 1):
            x, y = mint()
            adj[x - 1].append(y - 1)
            adj[y - 1].append(x - 1)
        m = 0
        def dfs(u, fa, c):
            nonlocal m
            if not c:
                m += 1
            for v in adj[u]:
                if v != fa:
                    dfs(v, u, not c)
        dfs(0, -1, False)
        print(m * (n - m) - (n - 1))
        

    if __name__ == '__main__':
        solve()


    n = map(int, input().split()) ç«Ÿç„¶ä¸è¡Œ
    adj = [[] for _ in range(n)]
    for i in range(n - 1):
        x, y = map(int, input().split())
        adj[x - 1].append(y - 1)
        adj[y - 1].append(x - 1)


ä»£ç æŒºå¤æ‚ ä½†æ˜¯ç­”æ¡ˆä¸å¯¹       
è€Œä¸”åå¤„ç†å¾ˆå¤æ‚     

        for v in adj[u]:
            if v != fa:
                dfs(v, u, not c)
    dfs(0, -1, False)
    print(m * (n - m) - (n - 1))

n è¡¨ç¤ºèŠ‚ç‚¹æ•°ï¼Œæ ‘çš„èŠ‚ç‚¹æ•°é‡ä¸º nã€‚
adj æ˜¯ä¸€ä¸ªé‚»æ¥åˆ—è¡¨ï¼Œç”¨äºè¡¨ç¤ºæ ‘çš„è¾¹ã€‚
æ¥ä¸‹æ¥ï¼Œè¯»å…¥ n-1 æ¡è¾¹ï¼Œæ¯æ¡è¾¹è¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹ x å’Œ yã€‚ç”±äº Python ä½¿ç”¨é›¶ç´¢å¼•ï¼Œæ‰€ä»¥å‡å» 1 æ¥é€‚åº”é›¶ç´¢å¼•çš„æ•°ç»„ã€‚


dfs å‡½æ•°ç”¨äºéå†æ ‘ï¼Œå¹¶è®¡ç®—æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„èŠ‚ç‚¹æ•°é‡ã€‚
u æ˜¯å½“å‰èŠ‚ç‚¹ï¼Œfa æ˜¯çˆ¶èŠ‚ç‚¹ï¼Œc æ˜¯å½“å‰èŠ‚ç‚¹çš„é¢œè‰²ï¼ˆå¸ƒå°”å€¼ï¼‰ã€‚c ä» False å¼€å§‹ã€‚
å¦‚æœ c æ˜¯ Falseï¼ˆå³èŠ‚ç‚¹ u çš„é¢œè‰²ä¸º Falseï¼‰ï¼Œåˆ™å¢åŠ è®¡æ•° mã€‚
éå†æ‰€æœ‰ä¸ u ç›¸é‚»çš„èŠ‚ç‚¹ vï¼Œé€’å½’è°ƒç”¨ dfsï¼Œå¹¶åˆ‡æ¢é¢œè‰²ã€‚


è®¡ç®—ç»“æœ:


    print(m * (n - m) - (n - 1))
m ä»£è¡¨æ ‘çš„èŠ‚ç‚¹è¢«æŸ“æˆ False é¢œè‰²çš„æ•°é‡ã€‚
n - m æ˜¯æ ‘ä¸­è¢«æŸ“æˆ True é¢œè‰²çš„èŠ‚ç‚¹æ•°é‡ã€‚
m * (n - m) è®¡ç®—äº† False èŠ‚ç‚¹ä¸ True èŠ‚ç‚¹ä¹‹é—´è¾¹çš„æ•°é‡çš„æœŸæœ›å€¼ã€‚
n - 1 æ˜¯æ ‘ä¸­æ€»çš„è¾¹æ•°ï¼Œå› ä¸ºæ ‘æœ‰ n-1 æ¡è¾¹ã€‚
ç»“æœæ˜¯ä¸¤ä¸ªé›†åˆèŠ‚ç‚¹ä¹‹é—´çš„è¾¹çš„æ•°é‡å‡å» n - 1ã€‚


ä»£ç çš„ç›®çš„æ˜¯è®¡ç®—ä¸€ä¸ªæ ‘çš„æ‰€æœ‰èŠ‚ç‚¹è¢«åˆ†ä¸ºä¸¤ä¸ªé›†åˆåï¼Œè¿™ä¸¤ä¸ªé›†åˆä¹‹é—´çš„è¾¹æ•°çš„æœŸæœ›å€¼ã€‚å…·ä½“è®¡ç®—æ–¹å¼æ˜¯é€šè¿‡å¯¹æ ‘è¿›è¡ŒäºŒåˆ†é¢œè‰²å¤„ç†ï¼Œç»Ÿè®¡æ¯ç§é¢œè‰²çš„èŠ‚ç‚¹æ•°ï¼Œç„¶åè®¡ç®—è¿™ä¸¤ä¸ªé›†åˆä¹‹é—´çš„è¾¹æ•°å‡å»æ ‘çš„æ€»è¾¹æ•°ï¼ˆn - 1ï¼‰ã€‚

ç¤ºä¾‹æ›¿ä»£è¾“å…¥å‡½æ•°
ä½ å¯ä»¥ä½¿ç”¨ Python çš„å†…ç½® input() å‡½æ•°æ›¿ä»£ sint() å’Œ mint()ï¼Œä¾‹å¦‚ï¼š


    def sint():
        return int(input().strip())

    def mint():
        return map(int, input().strip().split())

å¤ªæ‰¯äº† è¾…åŠ©äº†ä¹Ÿä¸æ‡‚

ä»€ä¹ˆæŸ“è‰²å®Œå…¨ä¸æ˜ç™½

å›¾è®ºå æ¯”å¤§å—


## ç ”å‘bå·814

æœ¬æ¬¡oppoçš„æœºè€ƒæœ‰äº›å·å­å‡ºäº†ä¹‹å‰çš„åŸé¢˜äº†ï¼Œè¿˜æ²¡æŠ•çš„èµ¶ç´§æŠ•äº†å™¢ï¼Œoppoçš„æ‹›è˜æŒç»­æ€§æ²¡æœ‰é‚£ä¹ˆå¼ºçš„ï¼

æœ¬æ¬¡æ¯”è¯•éš¾åº¦é€‚ä¸­ã€‚

ç¬¬1é¢˜æ‰“å¡é¢˜ï¼Œåˆ†æå‡ºæ¥å¯ä»¥ç›´æ¥ç§’ã€‚

ç¬¬2é¢˜éœ€è¦åˆ†æè¦æ±‚çš„ç‰¹ç‚¹ï¼Œæ ¹æ®ç‰¹æ€§æ¥è¿ç®—ï¼Œæ•°æ®å¾ˆå¤§ä¸èƒ½ç‰¹åˆ«æš´åŠ›ã€‚

ç¬¬3é¢˜çš„n,mæ¯”è¾ƒå°ï¼Œè§‚å¯Ÿåˆ°è¿™ä¸ªç‚¹å°±ä¼šå¥½åšäº†ã€‚

### ç¬¬ä¸€é¢˜
æ‰“å¡

é¢˜æ„
æœ‰ä¸€ä¸ªæ— é™å¤§çš„äºŒç»´å¹³é¢ï¼Œä¸Šé¢æœ‰å°Oçš„ä¸¤ä¸ªæœºå™¨äºº Aï¼ŒBï¼Œå…¶åæ ‡åˆ†åˆ«ä¸º (x1, y1) å’Œ (x2, y2)ï¼Œå°Oç°åœ¨å¯ä»¥æ“ä½œä»»æ„ä¸€ä¸ªæœºå™¨äººè¿›è¡Œç§»åŠ¨ã€‚

å…·ä½“çš„ï¼Œæ¯æ¬¡ç§»åŠ¨ï¼Œè¢«é€‰æ‹©çš„æœºå™¨äººéƒ½å¯ä»¥é€‰æ‹©å››ä¸ªæ–¹å‘(â€œä¸Šâ€ï¼Œâ€œä¸‹â€ï¼Œâ€œå·¦â€ï¼Œâ€œå³â€ï¼Œ)ä¹‹ä¸€ï¼Œç§»åŠ¨ä¸€ä¸ªè·ç¦»ã€‚

å°Oæƒ³çŸ¥é“ï¼Œå°†ä¸¤ä¸ªæœºå™¨äººç§»åŠ¨è‡³åŒä¸€ä¸ªæ ¼å­ï¼Œæœ€å°‘éœ€è¦å‡ æ¬¡ç§»åŠ¨ã€‚




### ç¬¬äºŒé¢˜

é¢˜æ„
å°Oæœ‰ä¸€ä¸ªä»…åŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²æŸä¸ªå­—æ¯å‡ºç°æ¬¡æ•°ä¸¥æ ¼å¤§äºå…¶ä»–å­—æ¯å‡ºç°æ¬¡æ•°ä¹‹å’Œï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªå¥½ä¸²ã€‚å°Oæƒ³åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„ä¸€äº›å­—ç¬¦ï¼Œä½¿å¾—å‰©ä¸‹çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå¥½ä¸²ï¼Œé—®æœ€å°‘åˆ é™¤å¤šå°‘ä¸ªå­—ç¬¦ã€‚

è¾“å…¥æè¿°
åœ¨ä¸€è¡Œä¸Šè¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡ 10^5ï¼Œä¸”ä»…åŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸²s.

è¾“å‡ºæè¿°
åœ¨ä¸€è¡Œä¸Šè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æœ€å°‘åˆ é™¤å¤šå°‘ä¸ªå­—ç¬¦ã€‚

ç¤ºä¾‹1ï¼š
è¾“å…¥ï¼š

aaabcd

è¾“å‡ºï¼š

1


è¿˜å¥½ï¼Œèƒ½åˆ†æ


ç›´æ¥å­—å…¸è®°å½•æ¬¡æ•° æ‰¾æœ€å¤§ ç„¶åç›´æ¥æ•°å­¦åŠ å‡è®¡ç®—ï¼Œ å¤šåŠ 1å³å¯      
count > (total - count - å¾…å‡x ) 

ç›´æ¥å¾—åˆ° å¾…å‡x         

ä¸éœ€è¦counter å†…ç½®å‡½æ•°éº»çƒ¦


### ç¬¬ä¸‰é¢˜ æ²¡æœ‰ä»»ä½•åº”ç”¨é€»è¾‘ åªæ˜¯ä¸ºäº†å‡ºé¢˜è€Œå‡ºé¢˜ è¯­è¨€ä¸é€š

é¢˜æ„
å°Oæœ‰ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ a1, a2, ..., anï¼Œåˆå§‹å…¨éƒ¨å…ƒç´ éƒ½æ˜¯ 0ã€‚

ä»–å¯ä»¥å¯¹æ•°ç»„ä¸­çš„ä¸€äº›åŒºé—´ä½¿ç”¨â€œåŠ ä¸€"æ“ä½œï¼šå…·ä½“çš„ï¼Œå¦‚æœåŒºé—´æ˜¯ [l,r]ï¼Œ åˆ™æ•°ç»„ä¸­ al åˆ° ar çš„æ‰€æœ‰æ•°å­—çš„å€¼éƒ½ä¼šåŠ ä¸€ã€‚

ä»–æƒ³ä½¿å¾—æ•°ç»„ a æœ€ç»ˆå•è°ƒä¸é™ï¼Œè¯·é—®ä»–æœ€å¤šå¯ä»¥é€‰æ‹©å¤šå°‘ä¸ªåŒºé—´æ‰§è¡Œæ“ä½œï¼Œä½¿å¾—aä»ç„¶æ»¡è¶³å•è°ƒä¸é™ã€‚è¾“å…¥æè¿°ï¼šè¾“å‡ºæè¿°ï¼š

è¾“å…¥æè¿°
ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° n, m (1 â‰¤ n, m â‰¤ 20) è¡¨ç¤ºæ•°ç»„çš„å…ƒç´ æ•°é‡ï¼Œä»¥åŠå¯é€‰çš„åŒºé—´ä¸ªæ•°ã€‚

æ¥ä¸‹æ¥ m è¡Œï¼Œç¬¬ i è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° li, ri (1 â‰¤ li â‰¤ ri â‰¤ n) è¡¨ç¤ºç¬¬ i ä¸ªå¯é€‰åŒºé—´ä¸º [li, ri]ã€‚

è¾“å‡ºæè¿°
åœ¨ä¸€è¡Œä¸Šè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤šå¯ä»¥é€‰æ‹©çš„åŒºé—´ä¸ªæ•°ã€‚

ç¤ºä¾‹1ï¼š
è¾“å…¥ï¼š

    5 4
    1 2
    2 3
    3 4
    5 5
è¾“å‡ºï¼š

    3
è¯´æ˜ï¼š

é€‰æ‹©ç¬¬ä¸€ã€ä¸‰ã€å››ä¸ªåŒºé—´æ“ä½œå³å¯ï¼Œæ•°ç»„å˜ä¸º{1,1,1,1,1}ï¼Œæ»¡è¶³å•è°ƒä¸é™ã€‚

ç¤ºä¾‹2ï¼š
è¾“å…¥ï¼š

    10 5
    1 5
    2 5
    3 9
    4 5
    1 6
è¾“å‡ºï¼š

    0



ä»£ç èƒ½ç¨å¾®çœ‹æ‡‚ ä½†æ˜¯æ²¡æœ‰é€»è¾‘ æ²¡æœ‰ä»·å€¼


if ((mask & (1 << i)) != 0)



è¿™è¡Œä»£ç æ˜¯ä½æ“ä½œçš„ä¸€ä¸ªå¸¸è§ç”¨æ³•ï¼Œç”¨äºæ£€æŸ¥ä¸€ä¸ªæ•´æ•°ï¼ˆmaskï¼‰åœ¨ç‰¹å®šä½ï¼ˆç”±å˜é‡iæŒ‡å®šï¼‰ä¸Šçš„å€¼æ˜¯å¦ä¸º1ã€‚è¿™é‡Œé€æ­¥è§£é‡Šå®ƒçš„å·¥ä½œåŸç†ï¼š

    (1 << i)ï¼šè¿™æ˜¯ä¸€ä¸ªä½å·¦ç§»æ“ä½œã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ªæ•´æ•°ï¼Œè¯¥æ•´æ•°åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­åªæœ‰ç¬¬iä½ï¼ˆä»å³å¾€å·¦æ•°ï¼Œæœ€å³è¾¹ä¸ºç¬¬0ä½ï¼‰æ˜¯1ï¼Œå…¶ä½™ä½éƒ½æ˜¯0ã€‚æ¯”å¦‚ï¼Œå¦‚æœiæ˜¯2ï¼Œé‚£ä¹ˆ(1 << 2)çš„ç»“æœæ˜¯4ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸º100ï¼‰ã€‚
    mask & (1 << i)ï¼šè¿™æ˜¯ä¸€ä¸ªä½ä¸ï¼ˆANDï¼‰æ“ä½œã€‚å®ƒå°†maskä¸ä¸Šé¢æ­¥éª¤ä¸­åˆ›å»ºçš„æ•´æ•°è¿›è¡Œä½ä¸æ“ä½œã€‚è¿™ä¸ªæ“ä½œçš„ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„æ•´æ•°ï¼Œå…¶æ¯ä¸€ä½éƒ½æ˜¯maskå’Œ(1 << i)å¯¹åº”ä½ä¸Šå€¼çš„é€»è¾‘ä¸ç»“æœã€‚å› ä¸º(1 << i)é™¤äº†ç¬¬iä½æ˜¯1ä¹‹å¤–å…¶ä½™ä½éƒ½æ˜¯0ï¼Œæ‰€ä»¥è¿™ä¸ªæ“ä½œå®é™…ä¸Šåªæ£€æŸ¥äº†maskçš„ç¬¬iä½æ˜¯å¦ä¸º1ã€‚å¦‚æœmaskçš„ç¬¬iä½æ˜¯1ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯é‚£ä¸ªåªæœ‰ç¬¬iä½æ˜¯1çš„æ•´æ•°ï¼ˆå³(1 << i)æœ¬èº«ï¼‰ï¼›å¦‚æœmaskçš„ç¬¬iä½æ˜¯0ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯0ã€‚
    if ((mask & (1 << i)) != 0)ï¼šè¿™ä¸ªæ¡ä»¶åˆ¤æ–­è¯­å¥æ£€æŸ¥ä¸Šè¿°ä½ä¸æ“ä½œçš„ç»“æœæ˜¯å¦ä¸ç­‰äº0ã€‚å¦‚æœä¸ç­‰äº0ï¼ˆå³maskçš„ç¬¬iä½æ˜¯1ï¼‰ï¼Œé‚£ä¹ˆæ¡ä»¶ä¸ºçœŸï¼Œæ‰§è¡Œifè¯­å¥å—å†…çš„ä»£ç ã€‚è¿™é€šå¸¸ç”¨äºéå†ä¸€ä¸ªæ•´æ•°çš„æ‰€æœ‰ä½ï¼Œå¹¶æ£€æŸ¥æ¯ä¸€ä½çš„å€¼ã€‚
    è¿™ç§æŠ€æœ¯å¹¿æ³›ç”¨äºå¤„ç†ä½æ©ç ï¼ˆbitmaskï¼‰ï¼Œä½æ©ç æ˜¯ä¸€ç§ä½¿ç”¨äºŒè¿›åˆ¶ä½æ¥è¡¨ç¤ºä¸€ç³»åˆ—å¸ƒå°”å€¼çš„ç´§å‡‘æ–¹æ³•ã€‚æ¯ä¸ªä½å¯ä»¥ç‹¬ç«‹åœ°è®¾ç½®æˆ–æ¸…é™¤ï¼Œä»¥è¡¨ç¤ºç›¸åº”çš„å¸ƒå°”å€¼ï¼ˆtrueæˆ–falseï¼‰















# äº¬ä¸œ
8.10äº¬ä¸œç ”å‘å²—   
è€ƒç‚¹åˆ†åˆ«ä¸ºï¼šæ¨¡æ‹Ÿã€å“ˆå¸Œè¡¨/äºŒåˆ†æŸ¥æ‰¾ã€è´ªå¿ƒ+ä½è¿ç®—


## ç¬¬ä¸€é¢˜ï¼šè–¯æ¡å“¥é†‰é…’

![alt text](assets_picture/ç‰›å®¢é¢˜/image-1.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-2.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-3.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-4.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-5.png)


    dx = [0, 1, 0, -1]
    dy = [1, 0, -1, 0]  # åŒ—ä¸œå—è¥¿å››ä¸ªæ–¹å‘
    x, y, dirc = 0, 0, 0  # å®šä¹‰åˆå§‹ä½ç½®,åˆå§‹å‰è¿›çš„æ–¹å‘(åŒ—æ–¹å‘)

    s = input()

    for ch in s:
        if ch == 'W':
            x = x + dx[dirc]
            y = y + dy[dirc]
        elif ch == 'A':  # é€†æ—¶é’ˆæ—‹è½¬90åº¦
            dirc = (dirc - 1 + 4) % 4
        elif ch == 'D':   # é¡ºæ—¶é’ˆæ—‹è½¬90åº¦
            dirc = (dirc + 1) % 4

    print(x, y)


è¿™æ‰æ˜¯äººåšçš„

## ç¬¬äºŒé¢˜ï¼šæ±‚å’Œå¯¹æ•°ã€‚ å“ˆå¸Œè¡¨ç‰¹æ®Šåº”ç”¨ ä»¥keyä½œä¸º åŠ å‡ç»“æœ çš„ç´¢å¼•


![alt text](assets_picture/ç‰›å®¢é¢˜/image-6.png)


æ ·ä¾‹
è¾“å…¥

    3 4
    1 2 3
è¾“å‡º

    3

![alt text](assets_picture/ç‰›å®¢é¢˜/image-7.png)

æŠŠå€¼ç›´æ¥å½“æˆé”®è®°å½•è¿›å»ã€‚    
åŠä¸ªcounter()

    n, k = map(int, input().split())
    a = list(map(int, input().split()))
    cnts = {}
    for i in range(n):
        if a[i] in cnts:
            cnts[a[i]] += 1
        else:
            cnts[a[i]] = 1
    res = 0
    for i in range(n):
        if k - a[i] in cnts:
            res += cnts[k - a[i]]
    print(res)

## ç¬¬ä¸‰é¢˜ï¼šåŒºé—´æ“ä½œ


![alt text](assets_picture/ç‰›å®¢é¢˜/image-8.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-9.png)


æ ·ä¾‹
è¾“å…¥

    2
    5
    1 1 2 1 1
    5
    1 2 3 4 5
è¾“å‡º

    2
    4


![alt text](assets_picture/ç‰›å®¢é¢˜/image-10.png)


æ²¡çœ‹æ‡‚ï¼Ÿ


    def calc(n):
        cnt = 0
        while n > 0:
            if n & 1:
                n -= 1
            else:
                n //= 2
            cnt += 1
        return cnt

    def solve():
        n = int(input())
        a=list(map(int,input().split()))
        op=[0]*n
        for i in range(n):
            op[i]= calc(a[i])
        res = op[0]
        for i in range(1, n):
            res += max(0, op[i] - op[i - 1])
        print(res)

    t = int(input())
    while t > 0:
        solve()
        t -= 1


calc(n) å‡½æ•°:

åŠŸèƒ½ï¼šè®¡ç®—å°† n å˜æˆ 0 æ‰€éœ€çš„æ­¥éª¤æ•°ã€‚
é€»è¾‘ï¼šé€šè¿‡åˆ¤æ–­ n æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°æ¥å†³å®šæ“ä½œã€‚å¦‚æœ n æ˜¯å¥‡æ•°ï¼Œåˆ™å‡å» 1ï¼›å¦‚æœæ˜¯å¶æ•°ï¼Œåˆ™é™¤ä»¥ 2ã€‚æ¯æ¬¡æ“ä½œéƒ½è®¡æ•°ï¼Œç›´åˆ° n å˜æˆ 0ã€‚


solve() å‡½æ•°:

åŠŸèƒ½ï¼šå¤„ç†æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè®¡ç®—å¹¶è¾“å‡ºç»“æœã€‚
é€»è¾‘ï¼š
è¯»å–æ•´æ•° n å’ŒåŒ…å« n ä¸ªæ•´æ•°çš„åˆ—è¡¨ aã€‚
å¯¹æ¯ä¸ªæ•´æ•°è®¡ç®—æ­¥éª¤æ•°ï¼Œå°†ç»“æœå­˜å‚¨åœ¨ op åˆ—è¡¨ä¸­ã€‚
è®¡ç®—æ¯ä¸ªæ­¥éª¤æ•°ä¹‹é—´çš„å·®å¼‚ï¼Œå¦‚æœå½“å‰å€¼å¤§äºå‰ä¸€ä¸ªå€¼ï¼Œåˆ™ç´¯åŠ åˆ° resã€‚

    ç¤ºä¾‹ï¼šå¯¹äºè¾“å…¥ n = 3 å’Œ a = [4, 6, 5]ï¼š
    è®¡ç®—æ­¥éª¤æ•°ï¼šop = [3, 4, 4]
    å·®å¼‚è®¡ç®—ï¼šres = 3 + max(0, 4-3) + max(0, 4-4) = 3 + 1 + 0 = 4




ä¸»å¾ªç¯:

åŠŸèƒ½ï¼šå¤„ç†å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚
é€»è¾‘ï¼šè¯»å–æµ‹è¯•ç”¨ä¾‹æ•°é‡ tï¼Œç„¶åå¾ªç¯è°ƒç”¨ solve() å‡½æ•°å¤„ç†æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚
ç¤ºä¾‹ï¼šå¦‚æœ t = 2ï¼Œä¼šä¾æ¬¡å¤„ç†ä¸¤ä¸ªæµ‹è¯•ç”¨ä¾‹çš„è¾“å…¥æ•°æ®ã€‚
æ•´ä½“æ¥è¯´ï¼Œä»£ç çš„â€œultimateâ€ç›®æ ‡æ˜¯è®¡ç®—å’Œè¾“å‡ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„æœ€ç»ˆç»“æœï¼Œå³æ‰€æœ‰æ•°å€¼çš„â€œå˜æ¢æ­¥éª¤æ•°â€ä¹‹å’Œã€‚

è¿˜æ˜¯nlpç‰›é€¼


æ¯”å¦‚ç°åœ¨æœ‰3ä¸ªæ•°å­—ï¼Œæ“ä½œæ¬¡æ•°åˆ†åˆ«ä¸º2,3,2

é‚£ä¹ˆå…¶å®ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè®©å…¶æ“ä½œ2æ¬¡åŒºé—´ï¼Œç„¶åå†è®©å…¶æ“ä½œ1æ¬¡åŒºé—´å³å¯å¾—åˆ°ç­”æ¡ˆã€‚

é‚£ä¹ˆå¯¹äºç¬¬ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æ˜¯ä¸€å®šè¦èŠ±è´¹æ¥è¿›è¡Œæ“ä½œçš„ï¼Œç„¶åæˆ‘ä»¬å¾€åé¢éå†


è¿™å—ä¸æ‡‚ æ“ä½œéƒ½å¯ä»¥ä¿æŒä¸€è‡´ï¼Ÿä¸‡ä¸€ä¸€ä¸ªåŠ ä¸€ä¸ªä¹˜å‘¢ï¼Ÿ


è–¯æ¡å“¥æœ‰ä¸€ä¸ªé•¿åº¦ä¸ºä¸”å€¼éƒ½ä¸ºçš„æ•°ç»„aã€‚å¯¹äºè¿™ä¸ªæ•°ç»„è–¯æ¡å“¥æ¯æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©ä¸€ä¸ªåŒºé—´ï¼Œå¯¹äºä¸Šçš„æ¯ä¸€ä¸ªæ•°è–¯æ¡å“¥å¿…é¡»è®©å…¶åŠ ä¸€æˆ–è€…ä¹˜äºŒ(å…ƒç´ ä¹‹é—´æ“ä½œç‹¬ç«‹ï¼Œå¯ä»¥é€‰æ‹©ä¸€äº›å…ƒç´ ä¹˜äºŒï¼Œä¸€äº›å…ƒç´ åŠ ä¸€ï¼Œä½†æ˜¯åŒºé—´å†…æ¯ä¸ªå…ƒç´ éƒ½è¦æ“ä½œ)ã€‚


å§‹ç»ˆæ˜¯é¢˜æ„å¾—é—®é¢˜ ç¬¬ä¸€å¥å’Œæœ€åä¸€å¥ä¸€ç›´åˆ°æœ€åæ‰è¯»æ‡‚


## 0817ç§‹æ‹›

ç¬¬1é¢˜å±äºæ¯”è¾ƒåŸºç¡€çš„æ¨¡æ‹Ÿï¼ŒæŒ‰é¢˜æ„è¦æ±‚æ“ä½œå³å¯ã€‚

ç¬¬2é¢˜æ•°æ®èŒƒå›´æ˜¯1000ï¼Œå¯ä»¥ç›´æ¥å»æšä¸¾åŒ¹é…ã€‚

ç¬¬3é¢˜æ˜¯DAGçš„dpï¼Œæ•´ä½“çš„æ¨å¯¼ä¹Ÿæ²¡æœ‰å¾ˆå¤šå‘ï¼Œéš¾åº¦ä¹Ÿä¸­ç­‰ã€‚



### ç¬¬ä¸€é¢˜


é¢˜æ„
æ‘å­é‡Œæœ‰ä¸€äº›æ¡©å­ï¼Œä»å·¦åˆ°å³é«˜åº¦ä¾æ¬¡ä¸º1,1+2,1+2+3â€¦ï¼Œæ¯ä¸¤é¢—æ¡©å­ä¹‹é—´çš„é—´éš”ä¸º1.ç°åœ¨ä¸‹äº†ä¸€åœºå¤§é›ªï¼Œä½†æ˜¯ä¸çŸ¥é“é›ªä¸‹äº†å¤šåšï¼Œç°åœ¨ç»™ä½ ä¸¤ä¸ªæ•°å­—ï¼Œè¿™æ˜¯é›ªåæŸç›¸é‚»ä¸¤ä¸ªæ¡©å­åœ¨é›ªé¢çš„é«˜åº¦ï¼Œè¯·ä½ é€šè¿‡è¿™ä¸¤ä¸ªæ•°å­—è®¡ç®—é›ªçš„åšåº¦ã€‚

è¾“å…¥æè¿°
åœ¨ä¸€è¡Œä¸­è¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°a,b

1â‰¤a<bâ‰¤5*10^5

è¾“å‡ºæè¿°
åœ¨ä¸€è¡Œä¸­è¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨é›ªçš„åšåº¦ã€‚æˆ‘ä»¬å¯ä»¥è¯æ˜ï¼Œç­”æ¡ˆä¸€å®šå­˜åœ¨

ç¤ºä¾‹1ï¼š
è¾“å…¥ï¼š

8 13
è¾“å‡ºï¼š

2
ç¤ºä¾‹2ï¼š
è¾“å…¥ï¼š

10 15
è¾“å‡ºï¼š

0
æ€è·¯ä¸ä»£ç 
é¦–å…ˆç®—å‡ºä¸¤ä¸ªæŸ±å­a, bä¹‹é—´çš„å·®å€¼cï¼Œ

ç„¶åå°±å¯ä»¥è¿˜åŸå‡ºä¸‹é›ªå‰bæŸ±å­çš„é«˜åº¦ ï¼š1 + 2 + 3 + ... + cã€‚

è¿™ä¸ªé«˜åº¦å‡å»bæŸ±å­ä¸‹é›ªå‰çš„é«˜åº¦å°±æ˜¯é›ªçš„åšåº¦ã€‚

#include <iostream>
#include <cstring>
#include <algorithm>
using namespace std;

int main()
{
    int a, b;
    cin >> a >> b;
    int c = b - a;
    int sum = (c + 1) * c / 2;
    cout << sum - b;
    return 0;
}

### ç¬¬äºŒé¢˜

é¢˜æ„
ç‰›ç‰›æœ‰ä¸€ç§é”¯é½¿çŠ¶çš„ç§¯æœ¨ï¼Œè¿™ç§ç§¯æœ¨æ¯”è¾ƒé•¿ï¼Œä½†æ˜¯æ¯ä¸ªå•ä½é•¿åº¦çš„é«˜åº¦æ˜¯ç›¸ç­‰çš„ï¼Œé«˜åº¦ä¸º1æˆ–è€…2ã€‚ç°åœ¨ç‰›ç‰›æ‹¿å‡ºäº†ä¸¤å—é•¿åº¦åˆ†åˆ«ä¸ºn å’Œ m çš„ç§¯æœ¨ï¼Œå¥¹ç°åœ¨æƒ³æŠŠè¿™ä¸¤å—ç§¯æœ¨æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œå³ä½¿ä¸­é—´æœ‰ç©ºéš™ä¹Ÿæ²¡æœ‰å…³ç³»ã€‚ä½†æ˜¯æ‹¼æ¥åçš„ç§¯æœ¨çš„é«˜åº¦è¦ä¸è¶…è¿‡ 3ï¼Œè¯·ä½ å¸®åŠ©ç‰›ç‰›è®¡ç®—åœ¨æ»¡è¶³è¿™ä¸ªå‰æä¸‹æ‹¼æ¥åçš„ç§¯æœ¨çš„é•¿åº¦æœ€çŸ­å¯ä»¥æ˜¯å¤šå°‘ã€‚

è¾“å…¥æè¿°
ç¬¬ä¸€è¡Œç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•° n,mï¼Œä»£è¡¨ç¬¬ä¸€å—å’Œç¬¬äºŒå—ç§¯æœ¨çš„é•¿åº¦ ç¬¬äºŒè¡Œç»™å‡º n ä¸ªæ•°å­—ä»£è¡¨ç¬¬ä¸€å—ç§¯æœ¨æ¯ä¸ªå•ä½çš„é«˜åº¦ ç¬¬ä¸‰è¡Œç»™å‡º m ä¸ªæ•°å­—ä»£è¡¨ç¬¬äºŒå—ç§¯æœ¨æ¯ä¸ªå•ä½çš„é«˜åº¦


è¾“å‡ºæè¿°
åœ¨ä¸€è¡Œä¸­è¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°ä»£è¡¨æ‹¼æ¥åç§¯æœ¨çš„æœ€çŸ­é•¿åº¦

ç¤ºä¾‹1ï¼š
è¾“å…¥ï¼š

7 10
2212112
2112112112
è¾“å‡ºï¼š

10
ç¤ºä¾‹2ï¼š
è¾“å…¥ï¼š

3 2
222
22
è¾“å‡ºï¼š

5
æ€è·¯ä¸ä»£ç 
æ•°æ®èŒƒå›´å¾ˆå°ï¼Œç›´æ¥æšä¸¾åŒ¹é…çš„èµ·ç‚¹ä½ç½®å°±å¯ä»¥ï¼Œå¤æ‚åº¦ä¸ºã€‚ è¿™é‡Œæ˜¯å›ºå®šå…¶ä¸­ä¸€æ¡å­—ç¬¦ä¸²ï¼Œç§»åŠ¨å¦ä¸€æ¡æ¥åŒ¹é…ã€‚è¾¹ç•Œæ¡ä»¶å®¹æ˜“å‡ºé”™ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚

    #include <iostream>
    #include <cstring>
    #include <algorithm>
    using namespace std;

    int main()
    {
        int n, m;
        cin >> n >> m;
        string sn, sm;
        cin >> sn >> sm;

        int res = m + n;
        
        for(int j = - m; j < n; j ++)   //æšä¸¾è¦åŒ¹é…çš„èµ·å§‹ç‚¹
        {
            # å‚»é€¼ï¼Ÿ int idxm = j;
            int cnt = 0; //cntè¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²é‡å ä¹‹åå°äºç­‰äº3çš„é•¿åº¦
            bool flag = true;
            int idxn = j > 0 ? j: 0;   //snå­—ç¬¦ä¸²çš„åŒ¹é…èµ·ç‚¹ æœ‰ç‚¹éªš
            
            for(int i = j; i < j + m; i ++)  //små­—ç¬¦ä¸²åŒ¹é… è¿˜è¡Œå§ å°±æ˜¯è¿™ä¸¤è¡Œå†™å¾—ä¹± nmè¿™ç§å‘½åå°±æ˜¯å‚»å­ è¿˜æœ‰åŠ å‡ç•Œé™
            {
                if(i < 0) continue;
                if(idxn >= n) break;
                if(sn[idxn] - '0' + sm[i - j] - '0' > 3){
                    flag = false;
                    break;
                }
                idxn ++;
                cnt ++;
            }
            if(flag)  res = min(res, m + n - cnt);
        }
        cout << res;
        return 0;
    }

é¢˜æ„æ¯”è¾ƒéš¾ä»¥ç†è§£ è¿™ç§é¢˜æœ€å¥½æœ‰å›¾ æœ‰è§†é¢‘         
ç°åœ¨å¤šæ¨¡æ€ç¡®å®è¿˜æ²¡æœ‰é‚£ä¹ˆå¼º          

è¿™ä¸ªè§£æ³•å€’æ˜¯ä¸éš¾ç†è§£


åœ¨Pythonä¸­ï¼Œå½“ä½ çœ‹åˆ°ç±»ä¼¼sm[i - j] - '0'çš„ä»£ç æ—¶ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ç§å°†å­—ç¬¦ï¼ˆå‡è®¾æ˜¯æ•°å­—å­—ç¬¦ï¼‰è½¬æ¢ä¸ºæ•´æ•°ï¼ˆintï¼‰çš„å¸¸ç”¨æŠ€å·§ã€‚åœ¨Pythonä¸­ï¼Œå­—ç¬¦å’Œæ•´æ•°ä¹‹é—´ä¸èƒ½ç›´æ¥è¿›è¡Œç®—æœ¯è¿ç®—ï¼Œä½†å­—ç¬¦å’Œå­—ç¬¦ä¹‹é—´å¯ä»¥è¿›è¡Œå‡æ³•è¿ç®—ï¼Œå‰ææ˜¯è¿™äº›å­—ç¬¦ä»£è¡¨çš„æ•°å­—åœ¨ASCIIç è¡¨ä¸­æ˜¯è¿ç»­çš„ã€‚

å…·ä½“æ¥è¯´ï¼Œæ•°å­—å­—ç¬¦ï¼ˆå¦‚'0', '1', '2', ..., '9'ï¼‰åœ¨ASCIIç è¡¨ä¸­çš„å€¼æ˜¯è¿ç»­çš„ï¼Œ'0'çš„ASCIIå€¼æ˜¯48ï¼Œ'1'çš„ASCIIå€¼æ˜¯49ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°'9'çš„ASCIIå€¼æ˜¯57ã€‚å› æ­¤ï¼Œå½“ä½ ä»ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸­å‡å»'0'æ—¶ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨ä»è¯¥å­—ç¬¦çš„ASCIIå€¼ä¸­å‡å»'0'çš„ASCIIå€¼ï¼ˆå³48ï¼‰ï¼Œä»è€Œå¾—åˆ°è¯¥å­—ç¬¦æ‰€ä»£è¡¨çš„æ•´æ•°å€¼ã€‚


### ç¬¬ä¸‰é¢˜
é¢˜æ„


![alt text](assets_picture/ç‰›å®¢é¢˜/image-17.png)


è¾“å‡ºæè¿°å¦‚æœç‰›ç‰›å›å®¶çš„æ–¹æ¡ˆæ•°å¤§äºç­‰äº20220201ç§,è¯·ä½ åœ¨ç¬¬ä¸€è¡Œè¾“å‡ºAll roads lead to Home! ï¼Œç„¶ååœ¨ç¬¬äºŒè¡Œè¾“å‡ºå›å®¶çš„æ–¹æ¡ˆæ•°å¯¹20220201å–æ¨¡çš„ç»“æœã€‚
å¦åˆ™åªéœ€è¦è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç‰›ç‰›å›å®¶çš„æ–¹æ¡ˆæ•°ç¤ºä¾‹ï¼šè¾“å…¥ï¼š

    3Â 6Â 2
    1Â 2Â 1
    1Â 2Â 1
    1Â 2Â 1
    2Â 3Â 1
    2Â 3Â 1
    2Â 3Â 1
è¾“å‡ºï¼š9



æ€è·¯ä¸ä»£ç ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ dp æ¥è¡¨ç¤ºä»åŸå¸‚ 1 åˆ°è¾¾åŸå¸‚ iï¼ŒèŠ±è´¹ j å…ƒçš„è·¯å¾„æ•°ã€‚dp[i][j] è¡¨ç¤ºä»åŸå¸‚ 1 åˆ°åŸå¸‚ iï¼ŒèŠ±è´¹æ­£å¥½ä¸º j çš„è·¯å¾„æ•°ã€‚è½¬ç§»æ–¹ç¨‹ï¼šå¯¹äºæ¯ä¸€æ¡ä» vi åˆ° uiï¼ŒèŠ±è´¹ wi çš„è¾¹ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹çŠ¶æ€è½¬ç§»ï¼šdp[ui][j + wi] += dp[vi][j]å…¶ä¸­ j + wi ä¸è¶…è¿‡ aã€‚
ç­”æ¡ˆå³ä¸º dp[n][a]ï¼Œè¡¨ç¤ºä»åŸå¸‚ 1 åˆ°åŸå¸‚ nï¼ŒèŠ±è´¹æ°å¥½ä¸º a çš„è·¯å¾„æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¦åŠæ—¶å¯¹dpæ•°ç»„å–æ¨¡ï¼Œä¸€æ—¦ä¸­é—´è¿‡ç¨‹ä¸€ä¸ªç­”æ¡ˆè¶…è¿‡äº†INFï¼Œé‚£ä¹ˆåé¢ç”±è¿™ä¸ªç‚¹è½¬ç§»è¿‡å»çš„ç­”æ¡ˆéƒ½è¶…è¿‡INFï¼Œè¿™é‡Œç”¨stæ•°ç»„è®°å½•ã€‚

    #includeÂ <iostream>
    #includeÂ <cstring>
    #includeÂ <algorithm>
    #includeÂ <vector>

    constÂ intÂ INFÂ =Â 20220201;
    usingÂ namespaceÂ std;

    intÂ main()Â {
    Â Â Â Â intÂ n,Â m,Â a;
    Â Â Â Â cinÂ >>Â nÂ >>Â mÂ >>Â a;

    Â Â Â Â vector<vector<pair<int,Â int>>>Â graph(nÂ +Â 1);Â 
    Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â m;Â ++i)Â {
    Â Â Â Â Â Â Â Â intÂ vi,Â ui,Â wi;
    Â Â Â Â Â Â Â Â cinÂ >>Â viÂ >>Â uiÂ >>Â wi;
    Â Â Â Â Â Â Â Â graph[vi].emplace_back(ui,Â wi);
    Â Â Â Â }

    Â Â Â Â vector<vector<int>>Â dp(nÂ +Â 1,Â vector<int>(aÂ +Â 1,Â 0));
    Â Â Â Â vector<vector<bool>>Â st(nÂ +Â 1,Â vector<bool>(aÂ +Â 1,Â 0));
    Â Â Â Â dp[1][0]Â =Â 1;Â 
    Â Â Â 
    Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â a;Â ++i)Â {
    Â Â Â Â Â Â Â Â forÂ (intÂ vÂ =Â 1;Â vÂ <=Â n;Â ++v)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (dp[v][i]Â >Â 0Â ||Â st[v][i])Â {Â Â 
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (autoÂ &[u,Â w]Â :Â graph[v])Â {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ +Â wÂ <=Â a)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dp[u][iÂ +Â w]Â =Â (dp[u][iÂ +Â w]Â +Â dp[v][i])Â %Â INF;
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(dp[u][iÂ +Â w]Â +Â dp[v][i]Â >=Â INF)Â st[u][iÂ +Â w]Â =Â true;
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if(st[v][i])Â st[u][iÂ +Â w]Â =Â true;
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â }
    Â Â Â Â }
    Â Â Â Â if(st[n][a])Â coutÂ <<Â "AllÂ roadsÂ leadÂ toÂ Home!"Â <<Â endl;
    Â Â Â Â coutÂ <<Â dp[n][a]Â <<Â endl;Â 
    Â Â Â Â returnÂ 0;
    }

py



    INF = 20220201

    def main():
        import sys
        input = sys.stdin.read
        data = input().split()
        index = 0

        def next_int():
            nonlocal index
            index += 1
            return int(data[index-1])

        n, m, a = next_int(), next_int(), next_int()
        graph = [[] for _ in range(n + 1)]
        for _ in range(m):
            vi, ui, wi = next_int(), next_int(), next_int()
            graph[vi].append((ui, wi))

        dp = [[0] * (a + 1) for _ in range(n + 1)]
        st = [[False] * (a + 1) for _ in range(n + 1)]
        dp[1][0] = 1

        for i in range(a):
            for v in range(1, n + 1):# å¥½åƒæ˜¯é€šè¿‡è¿™ä¸ªåœ°æ–¹ä¿è¯äº†ä¸¤æ¡è·¯è¿èµ·æ¥
                if dp[v][i] > 0 or st[v][i]: è¿™é‡Œä¹Ÿå·§å¦™ å¦‚æœæ²¡æœ‰è·¯å¾„çš„è®°å½•ä¼šè¢«è·³è¿‡ã€‚ or st[v][i]ä»ç„¶æ²¡çœ‹æ‡‚è¿™æ˜¯è¦å¹²å˜›ï¼Ÿå°±æ˜¯ä¸Šæ¡è·¯å¾„å¦‚æœè¶…äº†ï¼Œåç»­æ–°è·¯å¾„å°±ä¸å¼€äº† ä¸è®¡ç®—äº†ï¼Ÿ ä¸æ˜¯è¦å–æ¨¡å—ï¼Ÿï¼Ÿ
                ä¸å¯¹å¥½åƒæ˜¯è¯´ æŠ„äº†å°±ç»§ç»­è¿›å»ï¼Œä½†æ˜¯å¦‚æœä¸Šæ¡dpæ²¡æœ‰è·¯ ä¸º0 è¿›å»æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ è¿™é‡Œéš¾ä»¥éªŒè¯ æ²¡æœ‰å®˜æ–¹ä¾‹å­ä½¿ç”¨
                    for u, w in graph[v]:# å¥½åƒæ˜¯é€šè¿‡è¿™ä¸ªåœ°æ–¹ä¿è¯äº†ä¸¤æ¡è·¯è¿èµ·æ¥ã€‚é¦–å…ˆç¬¬äºŒæ¡è·¯èµ·ç‚¹æ˜¯v
                        if i + w <= a: # 
                            dp[u][i + w] = (dp[u][i + w] + dp[v][i]) % INF  #æœ‰äº›å·§å¦™ ç«Ÿç„¶èƒ½ä¿è¯è·¯æ˜¯è¿èµ·æ¥çš„ã€‚ ç„¶åç¬¬ä¸€æ¡è·¯çš„ç»ˆç‚¹æ˜¯v å¾ˆå·§å¦™ è¿™ç§å­—å…¸é”®å€¼çš„å¤„ç†
                            ç„¶å dpè®¾ç½®æˆäºŒç»´ä¹Ÿå¾ˆå·§å¦™ ä¿è¯äº†å°† ä¸åŒç»ˆç‚¹ ä»¥åŠ ç›¸åŒç»ˆç‚¹ä¸åŒä»·æ ¼ éƒ½è®°ä¸‹æ¥
                            if dp[u][i + w] + dp[v][i] >= INF:
                                st[u][i + w] = True
                            if st[v][i]:
                                st[u][i + w] = True

        if st[n][a]:
            print("All roads lead to Home!")
        print(dp[n][a])

    if __name__ == "__main__":
        main()

è¿™é¢˜æ ¹æœ¬ä¸ç®€å•

ç…§ç€å®˜æ–¹ä¾‹å­èµ°ä¸€éè¿˜è¡Œ

## 831
ç‚¸è£‚




æœ¬æ¬¡ç¬”è¯•éš¾åº¦é€‚ä¸­ã€‚ç¬¬ä¸€é¢˜æ‰“å¡é¢˜ï¼Œéš¾åº¦æ¯”è¾ƒä½ã€‚ç¬¬äºŒé¢˜æ˜¯æ€ç»´é¢˜ï¼Œå¹¶ä¸æ˜¯ç‰¹åˆ«å¥½æƒ³ã€‚ç¬¬ä¸‰é¢˜åŠ¨æ€è§„åˆ’ï¼Œéš¾åº¦é€‚ä¸­ï¼Œä¸ä¼šç‰¹åˆ«éš¾çš„ã€‚

### 1

å°æ˜è·å¾—äº†ä¸€é¡¹ä»»åŠ¡ï¼Œä»»åŠ¡æ˜¯ä¸€ä¸ªè°œé¢˜ï¼Œè°œé¢˜çš„ç­”æ¡ˆæ˜¯ä¸€ä¸ªé•¿åº¦ä¸ºNçš„å­—æ¯ä¸²ã€‚å°æ˜è¯•å›¾å¯»æ‰¾ç­”æ¡ˆï¼Œæ•´ç†å‡ºæ‰€æœ‰çš„å­—ç¬¦ä¸²ã€‚ä¸ºäº†ä¸é‡å¤ï¼Œä»–èŒç”Ÿäº†æŒ‰å­—å…¸åºæµè§ˆå•è¯çš„æƒ³æ³•ã€‚ä½†æ˜¯å°æ˜å·²ç»åŒå€¦äº†æ‰‹åŠ¨è®¡ç®—æ¯ä¸ªå­—ç¬¦ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä»–æƒ³è®©ä½ å¸®åŠ©ä»–ç¼–å†™ä¸€ä¸ªç¨‹åºè‡ªåŠ¨åŒ–å®ç°è¿™ä¸ªè¿‡ç¨‹ã€‚ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ ¹æ®è¾“å…¥çš„å­—æ¯ä¸²ï¼ŒæŒ‰å­—å…¸åºè¾“å‡ºä¸‹ä¸€ä¸ªå•è¯(é•¿åº¦ç›¸åŒ)



è¾“å…¥æè¿°è¾“å…¥çš„ç¬¬ä¸€è¡Œç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²S;
1 â‰¤ S < 10^3

å­—æ¯ä¸²ä»…åŒ…å«å°å†™å­—æ¯ï¼Œè¾“å‡ºæè¿°æ ¹æ®è¾“å…¥çš„å­—æ¯ä¸²ï¼ŒæŒ‰å­—å…¸åºè¾“å‡ºä¸ç»™å‡ºå­—æ¯ä¸²é•¿åº¦ç›¸åŒçš„ä¸‹ä¸€ä¸ªå­—æ¯ä¸²ã€‚è‹¥æ²¡æœ‰è¿™æ ·çš„å­—æ¯ä¸²ï¼Œè¾“å‡º-1ã€‚

ç¤ºä¾‹1è¾“å…¥zz
è¾“å‡º-1

ç¤ºä¾‹2è¾“å…¥aa
è¾“å‡ºab


ä¸€å¼€å§‹æ²¡çœ‹æ‡‚

åæ¥çœ‹æ‡‚ï¼Œè§‰å¾—å¾—ä»åå¤–å‰æ”¹å˜ï¼Œç„¶åè®°å½•ï¼Œä½†æ˜¯å¿˜è®°æ€ä¹ˆæ•°å­—å’Œå­—æ¯äº’ç›¸è½¬æ¢

æ€è·¯ä¸ä»£ç ï¼šåˆ¤æ–­æ˜¯å¦å…¨æ˜¯zï¼Œå…¨æ˜¯zè¾“å‡º-1
æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸æ˜¯zçš„ç„¶åå½“é¢å­—æ¯åŠ 1ï¼Œåé¢çš„çš„å…¨å˜æˆa



    importÂ java.util.Scanner;

    publicÂ classÂ MainÂ {
    Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {
    Â Â Â Â Â Â Â Â ScannerÂ scannerÂ =Â newÂ Scanner(System.in);
    Â Â Â Â Â Â Â Â StringÂ sÂ =Â scanner.nextLine().strip();
    Â Â Â Â Â Â Â Â System.out.println(solve(s));
    Â Â Â Â Â Â Â Â scanner.close();
    Â Â Â Â }

    Â Â Â Â publicÂ staticÂ StringÂ solve(StringÂ s)Â {
    Â Â Â Â Â Â Â Â char[]Â sArrayÂ =Â s.toCharArray();
    Â Â Â Â Â Â Â Â intÂ nÂ =Â sArray.length;

    Â Â Â Â Â Â Â Â intÂ iÂ =Â nÂ -Â 1;
    Â Â Â Â Â Â Â Â whileÂ (iÂ >=Â 0Â &&Â sArray[i]Â ==Â 'z')Â {
    Â Â Â Â Â Â Â Â Â Â Â Â i--;
    Â Â Â Â Â Â Â Â }

    Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â -1)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â returnÂ "-1";
    Â Â Â Â Â Â Â Â }

    Â Â Â Â Â Â Â Â sArray[i]Â =Â (char)Â (sArray[i]Â +Â 1);
    Â Â Â Â Â Â Â Â forÂ (intÂ jÂ =Â iÂ +Â 1;Â jÂ <Â n;Â j++)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â sArray[j]Â =Â 'a';
    Â Â Â Â Â Â Â Â } å†™å¾—å¥½ç®€å•
    Â Â Â Â Â Â Â Â returnÂ newÂ String(sArray);
    Â Â Â Â }
    }

py


    def solve(s: str) -> str:
        s_array = list(s)
        n = len(s_array)

        i = n - 1
        while i >= 0 and s_array[i] == 'z':
            i -= 1 ä»–è¿™æ€è·¯è¿™ä¹ˆç®€å•å—ï¼Ÿ

        if i == -1:
            return "-1"

        s_array[i] = chr(ord(s_array[i]) + 1) åªå¯¹ç¬¬ä¸€ä¸ªéz åŠ 1

        for j in range(i + 1, n):
            s_array[j] = 'a'

        return "".join(s_array)


    if __name__ == "__main__":
        s = input().strip()
        print(solve(s))

`chr()` å’Œ `ord()` æ˜¯ Python ä¸­ä¸¤ä¸ªç”¨äºå­—ç¬¦å’Œ Unicode ç ç‚¹ä¹‹é—´ç›¸äº’è½¬æ¢çš„å‡½æ•°ã€‚

1. **`ord()` å‡½æ•°**: æ¥å—ä¸€ä¸ªå­—ç¬¦ä½œä¸ºè¾“å…¥ï¼Œè¿”å›å¯¹åº”çš„ Unicode ç ç‚¹ï¼ˆæ•´æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼š

   ```python
   ord('A')  # è¾“å‡º: 65
   ```

2. **`chr()` å‡½æ•°**: æ¥å—ä¸€ä¸ªæ•´æ•°ï¼ˆUnicode ç ç‚¹ï¼‰ä½œä¸ºè¾“å…¥ï¼Œè¿”å›å¯¹åº”çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼š

   ```python
   chr(65)  # è¾“å‡º: 'A'
   ```

æ‰€ä»¥ï¼Œ`chr(ord(x))` è¿™ç§è¡¨è¾¾å¼é€šå¸¸ç”¨äºå°†å­—ç¬¦ `x` è½¬æ¢ä¸ºå…¶å¯¹åº”çš„ Unicode ç ç‚¹ï¼Œç„¶åå†è½¬æ¢å›åŸå­—ç¬¦ `x`ã€‚è¿™æ˜¯ä¸€ä¸ªæ— æ“ä½œï¼ˆno-opï¼‰ï¼Œå› ä¸ºå®ƒå¹¶ä¸æ”¹å˜è¾“å…¥å­—ç¬¦çš„å€¼ã€‚


AI Overview
Learn more
â€¦
The full name of the functions chr() and ord() is "character to integer" and "integer to character", respectively. These are built-in functions in Python that convert characters to integers and vice versa.


It stands for â€œordinalâ€. The ordinal here is the number representing the position of c in the sequence of Unicode codepoints.

åºæ•°

å¤ªç®€æ´äº† è¿˜æœ‰é”®å€¼ ä»¥åŠä¸€æ¬¡æ€§æ“ä½œ ä¸éœ€è¦forèƒ½æ”¾é€»è¾‘åˆ¤æ–­        






### 2 é«˜ä¼˜å…ˆï¼šå¥‡å¶é—®é¢˜

ç»™å‡ºä¸€ä¸ªå‡ ä¸ªäº’ä¸ç›¸åŒçš„éè´Ÿæ•´æ•°ï¼Œæœ€åˆæ˜¯æ— åºçš„ï¼Œç°åœ¨æœ‰ä¸¤ç§æ“ä½œ:é€‰æ‹©ä¸¤ä¸ªè¿ç»­çš„æ•°å­—ï¼Œç„¶ååè½¬ä»–ä»¬çš„ä½ç½®ï¼Œæ¯”å¦‚ã€Œ1,2ä¼šå˜æˆ2ï¼Œ1é€‰æ‹©ä¸‰ä¸ªè¿ç»­çš„æ•°å­—ï¼Œç„¶ååè½¬ä»–ä»¬çš„ä½ç½®ï¼Œæ¯”å¦‚ã€Œ1,2,3ä¼šå˜æˆ3,2,1å¯ä»¥è¯æ˜ï¼Œåœ¨æœ‰é™æ¬¡ä»¥ä¸Šä¸¤ç§æ“ä½œä¸‹ï¼Œä¸€å®šå¯ä»¥å°†æ•°åˆ—å˜ä¸ºæœ‰åºã€‚ä½†æ˜¯å¦‚æœä¸€ç›´è¿›è¡Œç¬¬ä¸€ç§æ“ä½œï¼Œé‚£ä¸å°±å˜æˆå†’æ³¡æ’åºäº†å—ï¼Œæ‰€ä»¥ä½ è¦æœ€å°åŒ–ç¬¬ä¸€ç§æ“ä½œçš„æ¬¡æ•°ã€‚ç°åœ¨é—®åœ¨è¦æŠŠæ‰€æœ‰æ•°å­—å˜æˆå‡åºçš„å‰æä¸‹ï¼Œæœ€å°‘è¦è¿›è¡Œå¤šå°‘æ¬¡ç¬¬ä¸€ç§æ“ä½œ?


è¿™ä¸ªä¹Ÿæ˜¯åæ¥ç»“åˆgptä¸€èµ·æƒ³çš„ ç¡®å®ç»™å‡ºäº†çœ‹èµ·æ¥å¯è¡Œçš„åŠæ³• ç„¶åç‰›å®¢å¤§ä½¬ç»™çš„æ˜¯ä»€ä¹ˆå¥‡å¶æ•° è¿™æ›´éš¾æƒ³äº†


è¾“å…¥æè¿°ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°nï¼Œä»£è¡¨æ•°å­—çš„ä¸ªæ•°
æ¥ä¸‹æ¥nè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ai,ä¿è¯è¿™äº›æ•°å­—äº’ä¸ç›¸åŒ
l â‰¤ n â‰¤ 10^5
0 â‰¤ ai < 10^9è¾“å‡ºæè¿°è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æœ€å°‘è¿›è¡Œçš„æ“ä½œ1çš„æ¬¡æ•°ç¤ºä¾‹

è¾“å…¥4
2
4
3
1

è¾“å‡º1

è¯´æ˜

å…ˆå¯¹æœ€åä¸‰ä¸ªæ•°å­—è¿›è¡Œä¸€æ¬¡æ“ä½œ2ï¼Œç„¶åå†å¯¹å‰ä¸¤ä¸ªæ•°å­—è¿›è¡Œä¸€æ¬¡æ“ä½œ1


æ€è·¯ä¸ä»£ç :

ç»Ÿè®¡æ¯ä¸ªæ•°ä¸æœ€ç»ˆä½ç½®çš„è·ç¦»ä¸ºå¥‡æ•°ä¹‹å’Œ
ä¸€ä¸ªæ˜¯åŸå§‹æ•°ç»„ä¸€ä¸ªæ˜¯æœ€ç»ˆæ’åºåçš„æ•°ç»„ï¼Œå¦‚æœåŒä¸€ä¸ªæ•°åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­çš„è·ç¦»ä¸ºå¶æ•°é‚£ä¹ˆä¸€å®šå¯ä»¥é€šè¿‡ç¬¬äºŒç§æ–¹å¼ç½®æ¢å¾—åˆ°ï¼ˆç¬¬äºŒç§å°±æ˜¯ä¸è¦é’±ï¼‰
ç„¶åè·ç¦»å·®ä¸ºå¥‡æ•°çš„æ•°å­—ä¸ªæ•°ä¸€å®šæ˜¯å¶æ•°ï¼Œæœ€åé™¤ä»¥2å°±æ˜¯æœ€ç»ˆç­”æ¡ˆ      
è¿™å¥ç»ˆäºçœ‹æ‡‚äº†ï¼Œä½†æ˜¯ä¸€å®šæ˜¯å¶æ•°ï¼Œå¥½åƒåªèƒ½ä»ç›´è§‰æ„Ÿå—å‡ºæ¥

ä¼¼ä¹å¾ˆç®€æ´ å±äºæŠ€å·§ ä½†æ˜¯è¿™æ ·æ„ä¹‰ä¸å¤§


ä¼¼ä¹çœ‹æ‡‚äº†è¿™ä¸ªè¡¨è¿°      
å…ˆä½¿ç”¨sortæ’åº     
ç„¶åç®—ï¼Ÿï¼Ÿ è¿˜æ˜¯ä¸æ‡‚     

2431
1234

ç´¢å¼•å¥‡å¶æ€§ç›¸åŒï¼Œè¯´æ˜è¯¥ä½ç½®è·ç¦»æ˜¯å¶æ•°ï¼Œä¸åŒè¯´æ˜è·ç¦»æ˜¯å¥‡æ•°ï¼Œå¥‡æ•°ä¸€å®šå¯ä»¥é€šè¿‡ç¬¬ä¸€ç§æ–¹æ³•ç½®æ¢å‡º

è·ç¦»å¶æ•°ï¼Œä¸€å®šå¯ä»¥é€šè¿‡ä¸‰å…ƒç»„æ–¹æ³•ç½®æ¢å‡º

12345
12543

éå†12543ï¼Œç»“æœ0

12345
12354

éå†12354ï¼Œæœ€ås//2å¯ä»¥å¾—å‡ºç­”æ¡ˆ


    importÂ java.util.*;

    publicÂ classÂ Main2Â {
    Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {
    Â Â Â Â Â Â Â Â ScannerÂ scannerÂ =Â newÂ Scanner(System.in);
    Â Â Â Â Â Â Â Â intÂ nÂ =Â Integer.parseInt(scanner.nextLine());
    Â Â Â Â Â Â Â Â int[]Â numsÂ =Â newÂ int[n];
    Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â n;Â i++)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â nums[i]Â =Â Integer.parseInt(scanner.nextLine());
    Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â int[]Â nums2Â =Â nums.clone();
    Â Â Â Â Â Â Â Â Arrays.sort(nums2);

    Â Â Â Â Â Â Â Â Map<Integer,Â Integer>Â dicÂ =Â newÂ HashMap<>();
    Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â n;Â i++)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â dic.put(nums2[i],Â i); æŠŠæ’åºåçš„å€¼å’Œé”®æ”¾è¿›å­—å…¸
    Â Â Â Â Â Â Â Â }

    Â Â Â Â Â Â Â Â intÂ sÂ =Â 0;
    Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â n;Â i++)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ %Â 2Â !=Â dic.get(nums[i])Â %Â 2)Â { ç›´æ¥å°±æ˜¯åˆ¤æ–­ i çš„å¥‡å¶æ€§ å’Œ æ’åºåå€¼çš„ç´¢å¼•çš„å¥‡å¶æ€§ï¼Œæ„Ÿè§‰è¿™ä¸¤ä¸ªå°±æ˜¯ä¸€æ ·çš„å§ ã€‚ä»–æ˜¯ç”¨numsæ•°ç»„å»æŸ¥è¯¢nums2çš„dict
    ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ¤æ–­ç´¢å¼•å¥‡å¶æ€§ å’Œ æ’åºåæ‰€å¤„ç´¢å¼•çš„å¥‡å¶æ€§ æ˜¯å¦ä¸€è‡´
    å¦‚æœå¥‡å¶æ€§ä¸ä¸€è‡´ï¼Œs+=1
    å¦‚æœä¸€è‡´ï¼Œä¸åŠ sï¼Œç›¸å½“äºè¯´å®Œå…¨å¯ä»¥ç”¨2æ–¹æ³•å®ç°
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sÂ +=Â 1;
    Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â System.out.println(sÂ /Â 2);
    Â Â Â Â }
    }


å¥‡å¶æ€§åˆ¤æ–­ï¼š é€šè¿‡æ¯”è¾ƒæ¯ä¸ªå…ƒç´ åœ¨åŸå§‹æ•°ç»„å’Œæ’åºåæ•°ç»„ä¸­çš„ç´¢å¼•çš„å¥‡å¶æ€§ï¼Œæ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œä¸€æ¬¡ç¬¬ä¸€ç§æ“ä½œã€‚
å“ˆå¸Œè¡¨ä¼˜åŒ–ï¼š ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å¿«é€ŸæŸ¥æ‰¾æ¯ä¸ªå…ƒç´ åœ¨æ’åºåæ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œæé«˜äº†æŸ¥æ‰¾æ•ˆç‡ã€‚


éå†åŸå§‹æ•°ç»„ numsã€‚
å¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæ¯”è¾ƒå…¶åœ¨åŸå§‹æ•°ç»„å’Œæ’åºåæ•°ç»„ä¸­çš„ç´¢å¼•çš„å¥‡å¶æ€§ã€‚
å¦‚æœå¥‡å¶æ€§ä¸åŒï¼Œåˆ™éœ€è¦è¿›è¡Œä¸€æ¬¡ç¬¬ä¸€ç§æ“ä½œï¼Œè®¡æ•°å™¨ s åŠ ä¸€ã€‚
æœ€ç»ˆï¼Œå°† s é™¤ä»¥2ï¼Œå¾—åˆ°éœ€è¦è¿›è¡Œçš„ç¬¬ä¸€ç§æ“ä½œçš„æœ€å°æ¬¡æ•°ã€‚

ä¼˜åŒ–å»ºè®®
ç©ºé—´ä¼˜åŒ–ï¼š
å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„æ•°ç»„æ¥è®°å½•æ¯ä¸ªå…ƒç´ åœ¨æ’åºåæ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨ã€‚è¿™æ ·å¯ä»¥èŠ‚çœç©ºé—´ï¼Œå°¤å…¶æ˜¯åœ¨å…ƒç´ ä¸ªæ•°è¾ƒå¤§çš„æƒ…å†µä¸‹ã€‚
ç®—æ³•ä¼˜åŒ–ï¼š
å¯¹äºè¾ƒå¤§çš„æ•°ç»„ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ›´å¿«çš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚å¿«é€Ÿæ’åºæˆ–å½’å¹¶æ’åºï¼Œæ¥æé«˜æ’åºçš„æ•ˆç‡ã€‚
è¾¹ç•Œæ¡ä»¶å¤„ç†ï¼š
å¯ä»¥æ·»åŠ ä¸€äº›è¾¹ç•Œæ¡ä»¶çš„åˆ¤æ–­ï¼Œä¾‹å¦‚åˆ¤æ–­è¾“å…¥æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œæˆ–è€…åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰é‡å¤å…ƒç´ ã€‚

æ ¸å¿ƒæ€æƒ³ï¼š é—®é¢˜æœ¬è´¨ä¸Šæ˜¯å…³äºå…ƒç´ åœ¨æ’åºå‰åä½ç½®çš„ç›¸å¯¹å…³ç³»ã€‚é€šè¿‡å¥‡å¶æ€§åˆ¤æ–­ï¼Œå¯ä»¥å¿«é€Ÿç¡®å®šæ˜¯å¦éœ€è¦è¿›è¡Œäº¤æ¢æ“ä½œã€‚



import sys

def main(n,nums):

  nums2 = nums.copy()  # Create a copy for sorting
  nums2.sort()

  dic = {}  # Dictionary to store index mapping
  for i, num in enumerate(nums2):
    dic[num] = i

  s = 0
  for i, num in enumerate(nums):
    if i % 2 != dic[num] % 2:  å“¦å“¦ è¿™ä¸ªåœ°æ–¹çœ‹é”™äº†
      s += 1

  print(s // 2)

if __name__ == "__main__":
  main(4,[2,4,3,1])
  main(4,[1,2,3,4])


### 3
ç»™å®šä¸€ä¸ª2è¡Œ Nåˆ—çš„çŸ©é˜µã€‚ä¸€ä¸ªæœ‰æ•ˆçš„è·¯å¾„ä¸ºä»èµ·ç‚¹(1,1)å‡ºå‘ï¼Œç»è¿‡å‘ä¸Šã€å‘ä¸‹æˆ–å‘å³çš„ç§»åŠ¨ï¼Œä¸é‡å¤è®¿é—®åŒä¸€ä¸ªæ–¹æ ¼ï¼Œæœ€ç»ˆåˆ°è¾¾ç»ˆç‚¹(2,N)ç°åœ¨æœ‰ä¸¤åç©å®¶ï¼Œä»–ä»¬è½®æµé€‰æ‹©è·¯å¾„ä¸Šçš„ä¸‹ä¸€ä¸ªæ–¹æ ¼(æ¸¸æˆä»ç¬¬ä¸€ä¸ªç©å®¶é€‰æ‹©æ–¹æ ¼(1,1)å¼€å§‹)ã€‚å½“è·¯å¾„åˆ°è¾¾ç»ˆç‚¹(2,N)æ—¶ï¼Œæ¸¸æˆåœæ­¢ã€‚è·¯å¾„çš„æˆæœ¬å®šä¹‰ä¸ºè·¯å¾„ä¸Šæ‰€æœ‰æ–¹æ ¼ä¸Šæ•°å­—çš„æ€»å’Œã€‚ç¬¬ä¸€ä¸ªç©å®¶å¸Œæœ›æœ€å¤§åŒ–è·¯å¾„çš„æˆæœ¬ï¼Œè€Œç¬¬äºŒä¸ªç©å®¶å¸Œæœ›æœ€å°åŒ–è·¯å¾„çš„æˆæœ¬ã€‚å¦‚æœä¸¤ä¸ªç©å®¶éƒ½é‡‡å–æœ€ä¼˜ç­–ç•¥ï¼Œè·¯å¾„çš„æˆæœ¬å°†æ˜¯å¤šå°‘?


è´ªå¿ƒç«Ÿç„¶0åˆ†


å”¯ä¸€æœ‰å¸Œæœ›çš„



è¾“å…¥æè¿°ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° N(1 < N < 10^5)ï¼Œè¡¨ç¤ºçŸ©é˜µçš„åˆ—æ•°ã€‚æ¥ä¸‹æ¥ä¸¤è¡Œï¼Œæ¯è¡Œå‡åŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºçŸ©é˜µ 4 ä¸­çš„å…ƒç´ (-10^9â‰¤ A â‰¤ 10^9)ã€‚è¾“å‡ºæè¿°è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸¤ä¸ªç©å®¶éƒ½é‡‡å–æœ€ä¼˜ç­–ç•¥ä¸‹çš„è·¯å¾„æˆæœ¬ç¤ºä¾‹

è¾“å…¥3
1Â 5Â 2
3Â 4Â 0
è¾“å‡º8

è¯´æ˜ä¸¤ä¸ªç©å®¶éƒ½é‡‡å–æœ€ä¼˜ç­–ç•¥ä¸‹çš„è·¯å¾„ä¸º:1->3->4->0ï¼Œè·¯å¾„æˆæœ¬ä¸º1+3+4+0=8



æ€è·¯ä¸ä»£ç ï¼šä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰æ¥è§£å†³ã€‚æˆ‘ä»¬è€ƒè™‘ä¸¤åç©å®¶äº¤æ›¿é€‰æ‹©è·¯å¾„ä¸Šçš„ä¸‹ä¸€ä¸ªæ–¹æ ¼ï¼Œå…¶ä¸­ä¸€åç©å®¶å¸Œæœ›æœ€å¤§åŒ–æˆæœ¬ï¼Œè€Œå¦ä¸€åç©å®¶å¸Œæœ›æœ€å°åŒ–æˆæœ¬ã€‚è¿™ç±»ä¼¼äºä¸€ä¸ªç»å…¸çš„åšå¼ˆé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡æ„å»ºä¸€ä¸ªåŠ¨æ€è§„åˆ’è¡¨æ¥æ±‚è§£æœ€ç»ˆçš„æœ€ä¼˜ç­–ç•¥ã€‚


æœ¬æ¬¡ç¬”è¯•éš¾åº¦é€‚ä¸­ã€‚ç¬¬ä¸€é¢˜æ‰“å¡é¢˜ï¼Œéš¾åº¦æ¯”è¾ƒä½ã€‚ç¬¬äºŒé¢˜æ˜¯æ€ç»´é¢˜ï¼Œå¹¶ä¸æ˜¯ç‰¹åˆ«å¥½æƒ³ã€‚ç¬¬ä¸‰é¢˜åŠ¨æ€è§„åˆ’ï¼Œéš¾åº¦é€‚ä¸­ï¼Œä¸ä¼šç‰¹åˆ«éš¾çš„ã€‚


ç®—æ³•æ€è·¯

åˆå§‹åŒ–åŠ¨æ€è§„åˆ’æ•°ç»„ï¼š æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ dp[i][j]ï¼Œå…¶ä¸­ i è¡¨ç¤ºè¡Œï¼ˆ0 æˆ– 1ï¼‰ï¼Œj è¡¨ç¤ºåˆ—ã€‚dp[i][j] çš„å€¼ä»£è¡¨ä» (i, j) å¼€å§‹åˆ°è¾¾ç»ˆç‚¹ (2, N) çš„æœ€ä¼˜æˆæœ¬ã€‚

è¾¹ç•Œæ¡ä»¶ï¼š è®¾ç½® dp[0][N-1] å’Œ dp[1][N-1]ï¼Œè¿™æ˜¯å› ä¸ºæœ€åä¸€åˆ—æ˜¯æ¸¸æˆçš„ç»“æŸç‚¹ï¼ŒåªåŒ…å«è‡ªèº«çš„å€¼ã€‚ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ

å¡«å……åŠ¨æ€è§„åˆ’è¡¨ï¼š

    ä»å³å‘å·¦å¡«å……ï¼Œå› ä¸ºæ¯ä¸ªä½ç½®çš„å€¼ä¾èµ–äºå…¶å³ä¾§çš„å€¼ã€‚ï¼ˆè¿™æ€ä¹ˆæƒ³å¾—åˆ°ï¼Œå› ä¸ºå¥½åƒç¬¬ä¸€ä¸ªç©å®¶å¿…é¡»é€‰æ‹©11å§ï¼Œé‚£ä¹ˆæœ€åèƒ½ä¿è¯æ˜¯ç¬¬ä¸€ä¸ªç©å®¶é€‰æ‹©11ï¼Ÿï¼‰
    å¯¹äºæ¯ä¸ªä½ç½® (i, j)ï¼Œæ ¹æ®è½®æ¬¡ï¼ˆç©å®¶1æˆ–ç©å®¶2ï¼‰æ¥é€‰æ‹©æ“ä½œã€‚å¦‚æœæ˜¯ç©å®¶1çš„è½®æ¬¡ï¼Œä»–ä¼šè¯•å›¾æœ€å¤§åŒ–ä»å½“å‰ä½ç½®åˆ°ç»ˆç‚¹çš„æˆæœ¬ã€‚å¦‚æœæ˜¯ç©å®¶2çš„è½®æ¬¡ï¼Œä»–ä¼šè¯•å›¾æœ€å°åŒ–æˆæœ¬ã€‚
    ç©å®¶å¯ä»¥é€‰æ‹©å‘å³æˆ–å‘ä¸‹/ä¸Šç§»åŠ¨ï¼ˆå–å†³äºå½“å‰è¡Œï¼‰ï¼Œå› æ­¤éœ€è¦æ¯”è¾ƒè¿™ä¸¤ç§é€‰æ‹©çš„æˆæœ¬å¹¶é€‰å–æœ€ä¼˜çš„ç­–ç•¥ã€‚

å†³ç­–è½¬ç§»ï¼š

    å¯¹äºç©å®¶1ï¼ˆå¶æ•°è½®æ¬¡ï¼‰ï¼Œä½¿ç”¨ max() å‡½æ•°é€‰æ‹©æœ€å¤§å¯èƒ½çš„æˆæœ¬ã€‚
    å¯¹äºç©å®¶2ï¼ˆå¥‡æ•°è½®æ¬¡ï¼‰ï¼Œä½¿ç”¨ min() å‡½æ•°é€‰æ‹©æœ€å°å¯èƒ½çš„æˆæœ¬ã€‚è€ƒè™‘æ‰€æœ‰å¯è¡Œçš„ç§»åŠ¨æ–¹å‘ï¼ˆå³ä¾§ã€ä¸Šæ–¹æˆ–ä¸‹æ–¹ï¼‰å¹¶æ›´æ–° dp è¡¨ã€‚

è®¡ç®—ç»“æœï¼š dp[0][0] å°†åŒ…å«ä»èµ·ç‚¹ (1,1) åˆ°ç»ˆç‚¹ (2,N) çš„æœ€ä¼˜æˆæœ¬è·¯å¾„å€¼ã€‚



    importÂ java.util.*;

    publicÂ classÂ Main3Â {
    Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {
    Â Â Â Â Â Â Â Â ScannerÂ scannerÂ =Â newÂ Scanner(System.in);
    Â Â Â Â Â Â Â Â intÂ nÂ =Â scanner.nextInt();

    Â Â Â Â Â Â Â Â int[][]Â aÂ =Â newÂ int[2][n];
    Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â 2;Â ++i)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â forÂ (intÂ jÂ =Â 0;Â jÂ <Â n;Â ++j)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â a[i][j]Â =Â scanner.nextInt();
    Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â }

    Â Â Â Â Â Â Â Â int[][]Â rÂ =Â newÂ int[2][n];
    Â Â Â Â Â Â Â Â int[][]Â dpÂ =Â newÂ int[2][n];
    Â Â Â Â Â Â Â Â dp[1][nÂ -Â 1]Â =Â a[1][nÂ -Â 1];
    Â Â Â Â Â Â Â Â dp[0][nÂ -Â 1]Â =Â a[0][nÂ -Â 1]Â +Â dp[1][nÂ -Â 1]; å¥½åƒæ˜¯è¯´åªèƒ½å¾€ä¸‹èµ°ï¼Œå…¶å®dp[1][n-2]ä¹Ÿå¯ä»¥åˆå§‹åŒ–

    Â Â Â Â Â Â Â Â forÂ (intÂ jÂ =Â nÂ -Â 2;Â jÂ >=Â 0;Â --j)Â { å€’æ•°ç¬¬äºŒåˆ—å¼€å§‹ï¼Œè§„èŒƒåŒ–è®¡ç®—
    Â Â Â Â Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â 2;Â ++i)Â { æ¯ä¸€åˆ—å¯¹æ¯ä¸€è¡Œéå†
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â r[i][j]Â =Â dp[i][jÂ +Â 1]Â +Â a[i][j]; è¿™ä¸ªrå¥½åƒåªè®°å½•å³è¾¹åŠ è¿‡æ¥å¾—å€¼
    Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â 2;Â ++i)Â { 
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ ((iÂ +Â j)Â %Â 2Â !=Â 0)Â { å¥‡æ•°
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dp[i][j]Â =Â Math.max(dp[i][jÂ +Â 1],Â r[iÂ ^Â 1][j])Â +Â a[i][j]; è¿™ç¡®å®æ²¡çœ‹æ‡‚
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â elseÂ { å¶æ•°
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dp[i][j]Â =Â Math.min(dp[i][jÂ +Â 1],Â r[iÂ ^Â 1][j])Â +Â a[i][j];
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â }

    Â Â Â Â Â Â Â Â System.out.println(dp[0][0]);
    Â Â Â Â }
    }

ä»£ç è¡Œç«Ÿç„¶é‚£ä¹ˆå°‘



    def min_max_path_sum(matrix):
    """
    Calculates the minimum and maximum path sums in a given matrix.

    Args:
        matrix: A 2D list representing the matrix, where each element represents a value.

    Returns:
        A tuple containing the minimum and maximum path sums.
    """

    n = len(matrix[0])  # Get the number of columns from the first row

    # Initialize result and dynamic programming arrays
    result = [float('inf'), float('-inf')]  # Initialize min and max with infinity and negative infinity
    dp = [[0] * n for _ in range(2)]  # Create a 2D array for dynamic programming

    # Base case: Last column
    dp[1][n - 1] = matrix[1][n - 1]  # Set bottom right corner value for maximum path
    dp[0][n - 1] = matrix[0][n - 1] + dp[1][n - 1]  # Set bottom right corner value for minimum path (sum with max)

    # Iterate backwards from the second last column
    for j in range(n - 2, -1, -1):
        for i in range(2):
        # Calculate right paths (bottom-up)
        r_i_j = dp[i][j + 1] + matrix[i][j]

        # Update results and dynamic programming array based on odd/even sum rules
        result[i] = min(result[i], r_i_j) if (i + j) % 2 == 0 else max(result[i], r_i_j)
        dp[i][j] = r_i_j + matrix[i][j]

    return result[0], result[1]  # Return the minimum and maximum path sums

    # Example usage
    matrix = [[1, 3, 1], [1, 5, 0]]
    min_sum, max_sum = min_max_path_sum(matrix)
    print("Minimum path sum:", min_sum)
    print("Maximum path sum:", max_sum)


ç¡®å®çœ‹ä¸åˆ°ä»–å†™ä»€ä¹ˆ



    def max_cost(matrix):
        n = len(matrix[0])
        dp = [0] * n

        # åˆå§‹åŒ–æœ€åä¸€åˆ—
        dp[n-1] = matrix[0][n-1]

        # ä»å³å‘å·¦éå†
        for j in range(n-2, -1, -1):
            for i in range(2):
                # å‘å³ç§»åŠ¨
                right_cost = dp[j+1] + matrix[i][j]
                # å‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨ï¼ˆæ³¨æ„è¶Šç•Œå¤„ç†ï¼‰
                up_down_cost = float('inf') if i == 0 else dp[j] + matrix[i-1][j]
                up_down_cost = min(up_down_cost, float('inf') if i == 1 else dp[j] + matrix[i+1][j])

            å¤ªä¹±äº†

                # æ ¹æ®å½“å‰ç©å®¶é€‰æ‹©æœ€å¤§æˆ–æœ€å°å€¼
                dp[j] = max(right_cost, up_down_cost) if j % 2 == 0 else min(right_cost, up_down_cost)

                å¤ªä¹± è¿˜æ˜¯ä¸æ‡‚

        return dp[0]

    # ç¤ºä¾‹ç”¨æ³•
    matrix = [[1, 5, 2], [3, 4, 0]]
    result = max_cost(matrix)
    print(result)  # è¾“å‡º 8


ä»¥ä¸Šgemini




ä»¥ä¸‹gpt


    def optimal_path_cost(N, matrix):
        # åˆå§‹åŒ–dpæ•°ç»„
        dp = [[0] * N for _ in range(2)]
        
        # è¾¹ç•Œæ¡ä»¶ï¼šæœ€åä¸€åˆ—çš„å€¼
        dp[0][N-1] = matrix[0][N-1]
        dp[1][N-1] = matrix[1][N-1]
        
        # ä»å³å‘å·¦å¡«å……åŠ¨æ€è§„åˆ’è¡¨
        for j in range(N-2, -1, -1):
            # ç©å®¶1çš„æœ€ä¼˜é€‰æ‹©
            dp[0][j] = matrix[0][j] + min(dp[0][j+1], dp[1][j+1])
            # ç©å®¶2çš„æœ€ä¼˜é€‰æ‹©
            dp[1][j] = matrix[1][j] + min(dp[0][j+1], dp[1][j+1])
        
        # åˆå§‹çš„èµ·ç‚¹çš„å€¼
        return dp[0][0]

    # ç¤ºä¾‹è¾“å…¥
    N = 3
    matrix = [
        [1, 5, 2],
        [3, 4, 0]
    ]

    # è¾“å‡ºè·¯å¾„æˆæœ¬
    print(optimal_path_cost(N, matrix))  # è¾“å‡ºï¼š8


ä¹Ÿæ˜¯ä¸ç†è§£é¢˜æ„å•Š

ä»Šå¤©åªå­¦ä¼šäº†ä¸€ç‚¹ç¬¬ä¸€é¢˜







# ç¾å›¢


## ç¬¬ä¸€é¢˜ï¼šå¶æ•°å› å­
ç®€å•

## ç¬¬äºŒé¢˜ï¼šç™»å½•å¯†ç  akæ²¡æœ‰è¯„è®ºä¸çŸ¥é“æ˜¯ä¸æ˜¯çœŸçš„,åŸºæœ¬æ— è¯„è®ºï¼Œç¾¤é‡Œä¹Ÿå¸¸å¸¸æ¨èè€é¢˜ç›®ï¼Œä¸»è¥ç½‘ç«™  ä¸‡è¯ºæ¯ä¸ªéƒ½æœ‰è¯„è®ºï¼Œä¸»è¥æ•™å­¦ä»˜è´¹

åœ¨çº¿æµ‹è¯„é“¾æ¥ï¼šhttps://www.sspnote.com/oj/3/342
é¢˜ç›®æè¿°
akæœºå‡†å¤‡ç™»å½•ç¾å›¢ï¼Œéœ€è¦è¾“å…¥å¯†ç ï¼Œakæœºå¿˜è®°äº†å¯†ç ï¼Œåªè®°å¾—å¯†ç å¯èƒ½æ˜¯å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªã€‚akæœºä¼šæŒ‰ç…§å¯†ç çš„é•¿åº¦ä»å°åˆ°å¤§ä¾æ¬¡å°è¯•æ¯

ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹äºç›¸åŒé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œakæœºéšæœºå°è¯•ï¼Œå¹¶ä¸”ç›¸åŒçš„å¯†ç åªä¼šå°è¯•ä¸€æ¬¡ã€‚akæœºæƒ³çŸ¥é“ï¼Œå¥¹æœ€å°‘éœ€è¦å°è¯•å¤šå°‘æ¬¡æ‰èƒ½ç™»å½•æˆåŠŸï¼Œ

æœ€å¤šéœ€è¦å°è¯•å¤šå°‘æ¬¡æ‰èƒ½ç™»å½•æˆåŠŸã€‚

akæœºä¸ä¼šé‡æ–°å°è¯•å·²ç»å°è¯•è¿‡çš„å­—ç¬¦ä¸²ã€‚æˆåŠŸç™»å½•åä¼šç«‹å³åœæ­¢å°è¯•ã€‚

![alt text](assets_picture/ç‰›å®¢é¢˜/image-11.png)


æ ·ä¾‹
è¾“å…¥

    4
    ab
    abc
    ab
    ac
    ac
è¾“å‡º

    1 2
æ ·ä¾‹è§£é‡Š

akæœºå¯èƒ½æŒ‰ç…§ ["ab", "ac", "abc"] çš„é¡ºåºå°è¯•ï¼Œç¬¬ä¸€æ¬¡å°è¯•æˆåŠŸï¼Œä¹Ÿå¯èƒ½æŒ‰ç…§ ["ac", "ab", "abc"] çš„é¡ºåºå°è¯•ï¼Œç¬¬äºŒæ¬¡å°è¯•æˆåŠŸã€‚

akæœºåœ¨å°è¯• "ac" å‘ç°ä¸æ­£ç¡®åä¸ä¼šç»§ç»­å°è¯• "ac"ã€‚



## 817ä¸‡è¯º ç®—æ³•äº”é“ä¿©å°æ—¶
ç¬¬ä¸€é¢˜æŒºéº»çƒ¦çš„ï¼Œå°±æ˜¯å­—ç¬¦ä¸²æ¨¡æ‹Ÿï¼Œç”¨æ­£åˆ™å°±æ›´å·¥ç¨‹åŒ–ä¸€ç‚¹ã€‚

ç¬¬äºŒå¤©é¢˜ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæ±‚gcdå’Œprimå°±å¥½äº†ï¼Œæ¥ç€å°±æ˜¯æŒ‰ç…§é¢˜ç›®è¦æ±‚æ¨¡æ‹Ÿã€‚

ç¬¬ä¸‰é¢˜éœ€è¦ä¸€äº›å°æŠ€å·§ï¼Œåˆ†æé¢˜ç›®è¦æ±‚çš„æ€§è´¨ä¹Ÿä¸ä¼šå¾ˆéš¾ã€‚


ç®—æ³•å²—çš„1ã€2ã€4é¢˜ä¸ºæµ‹å¼€ã€å®¢æˆ·ç«¯çš„ä¸‰é“é¢˜ç›®

ä¾§å¼€


### ç¬¬ä¸€é¢˜ æ­£åˆ™å¼å†™æ³•ï¼Ÿä¸åš


é¢˜æ„
å°ç¾åœ¨å¤„ç†å¤–å–è®¢å•çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œä»–éœ€è¦åˆ¤æ–­ä¸€ä¸ªç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ç¬¦ä¼šç‰¹å®šçš„åˆ†ç±»è§„åˆ™ã€‚

å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€ã€IP åœ°å€æˆ–è€…ç”µè¯å·ç ã€‚

ç”µå­é‚®ä»¶åœ°å€çš„æ ¼å¼ä¸º:username@domain.comï¼Œå…¶ä¸­ username å’Œ domain åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ã€‚
IP åœ°å€çš„æ ¼å¼ä¸ºï¼šxxx.xxx.xxx.xxxï¼Œå…¶ä¸­ xxx æ˜¯ 0 åˆ° 255 ä¹‹é—´çš„æ•´æ•°ã€‚
ç”µè¯å·ç çš„æ ¼å¼ä¸ºï¼š+å›½å®¶ç -åŒºå·-å·ç  ï¼Œå…¶ä¸­ å›½å®¶ç  å’Œ åŒºå· åªèƒ½åŒ…å«æ•°å­—ï¼Œå·ç  å¯ä»¥åŒ…å«æ•°å­—å’Œ'#â€™ã€‚
è¾“å…¥æè¿°

è¾“å…¥æè¿°
ç¬¬ä¸€è¡ŒåŒ…å«æ•°æ®ç»„æ•° nã€‚

æ¥ä¸‹æ¥çš„ n è¡Œï¼Œæ¯ä¸€è¡Œè¾“å…¥ä¸€ä¸ªéœ€è¦åˆ¤æ–­çš„å­—ç¬¦ä¸²ã€‚

è¾“å‡ºæè¿°
å¯¹äºæ¯ä¸€è¡Œï¼Œè¾“å‡ºåˆ¤æ–­çš„ç»“æœï¼Œå¯èƒ½çš„ç»“æœå¦‚ä¸‹:

    å¦‚æœæ˜¯æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€ï¼Œè¾“å‡º emailã€‚
    å¦‚æœæ˜¯æœ‰æ•ˆçš„ IP åœ°å€ï¼Œè¾“å‡º ipã€‚
    å¦‚æœæ˜¯æœ‰æ•ˆçš„ç”µè¯å·ç ï¼Œè¾“å‡º phoneã€‚
    å¦‚æœéƒ½ä¸æ˜¯ï¼Œè¾“å‡ºinvalidã€‚
ç¤ºä¾‹ï¼š
è¾“å…¥ï¼š

    5
    user@example.com
    192.168.1.1
    +86-10-12345#78
    hello@world
    256.256.256.256
è¾“å‡ºï¼š

    email
    ip
    phone
    invalid
    invalid


æ€è·¯ä¸ä»£ç 
æ¨¡æ‹Ÿé¢˜ï¼Œä½†æ˜¯é€»è¾‘æ¯•ç«Ÿå¤æ‚ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆç»™å®šçš„æ ¼å¼ï¼šç”µå­é‚®ä»¶åœ°å€ã€IP åœ°å€æˆ–ç”µè¯å·ç ã€‚

    å…³äºæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç”µå­é‚®ä»¶åœ°å€ã€IPåœ°å€ã€ç”µè¯å·ç çš„è§£é‡Š:

    ç”µå­é‚®ä»¶åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼

    ^ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²çš„å¼€å§‹ã€‚

    [a-zA-Z0-9_]+ï¼šåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ¯ï¼ˆå¤§å°å†™å‡å¯ï¼‰ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ã€‚è¿™éƒ¨åˆ†ç”¨äºåŒ¹é…ç”µå­é‚®ä»¶çš„ "username" éƒ¨åˆ†ã€‚

    @ï¼šå­—é¢æ„ä¹‰ä¸Šçš„ '@' ç¬¦å·ï¼Œç”µå­é‚®ä»¶åœ°å€çš„æ ‡å‡†éƒ¨åˆ†ã€‚

    [a-zA-Z0-9_]+ï¼šå†æ¬¡åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ¯ï¼ˆå¤§å°å†™å‡å¯ï¼‰ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ã€‚è¿™éƒ¨åˆ†ç”¨äºåŒ¹é…ç”µå­é‚®ä»¶çš„ "domain" éƒ¨åˆ†ã€‚

    \\.comï¼šåŒ¹é…å­—é¢ä¸Šçš„ ".com"ã€‚ç‚¹å· (.) åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œä»£è¡¨ä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥ä½¿ç”¨ \\. æ¥è¡¨ç¤ºå­—é¢ä¸Šçš„ç‚¹å·ã€‚

    $ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²çš„ç»“æŸã€‚

    è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼åªåŒ¹é…ä»¥ ".com" ç»“å°¾çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œå¹¶ä¸” "username" å’Œ "domain" éƒ¨åˆ†åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ã€‚

    IPåœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼

    è¯¥æ­£åˆ™è¡¨è¾¾å¼ç¡®ä¿ IP åœ°å€ç”±å››éƒ¨åˆ†ç»„æˆï¼Œæ¯éƒ¨åˆ†æ˜¯ 0 åˆ° 255 çš„æ•´æ•°ï¼Œå››éƒ¨åˆ†ä¹‹é—´ç”±ç‚¹å·åˆ†éš”ã€‚

    \d{1,2}ï¼šåŒ¹é… 1 åˆ° 2 ä½çš„æ•°å­—ï¼ˆ0 åˆ° 99ï¼‰ã€‚

    1\d{2}ï¼šåŒ¹é… 100 åˆ° 199ã€‚

    2[0-4]\dï¼šåŒ¹é… 200 åˆ° 249ã€‚

    25[0-5]ï¼šåŒ¹é… 250 åˆ° 255ã€‚

    ^ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²çš„å¼€å§‹ã€‚

    (\d{1,2}|1\d{2}|2[0-4]\d|25[0-5])ï¼šè¿™ä¸ªåˆ†ç»„è¡¨è¾¾å¼ç”¨äºåŒ¹é… 0 åˆ° 255 ä¹‹é—´çš„æ•´æ•°ã€‚

    \\.ï¼šåŒ¹é…ç‚¹å·ï¼ŒIP åœ°å€å„éƒ¨åˆ†çš„åˆ†éš”ç¬¦ã€‚

    $ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²çš„ç»“æŸã€‚

    ç”µè¯å·ç çš„æ­£åˆ™è¡¨è¾¾å¼

    ^ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²çš„å¼€å§‹ã€‚
    \\+ï¼šåŒ¹é…åŠ å· (+)ï¼Œé€šå¸¸ç”¨äºå›½é™…ç”µè¯å·ç çš„å¼€å¤´ã€‚
    \\d+ï¼šåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—ï¼Œç”¨äºå›½å®¶ç ã€‚
    -ï¼šå­—é¢æ„ä¹‰ä¸Šçš„çŸ­åˆ’çº¿ï¼Œç”¨äºåˆ†éš”å›½å®¶ç å’ŒåŒºå·ã€‚
    \\d+ï¼šå†æ¬¡åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—ï¼Œç”¨äºåŒºå·ã€‚
    -ï¼šåˆä¸€ä¸ªå­—é¢æ„ä¹‰ä¸Šçš„çŸ­åˆ’çº¿ï¼Œç”¨äºåˆ†éš”åŒºå·å’Œç”µè¯å·ç ã€‚
    [\\d#]+ï¼šåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—æˆ–äº•å· (#)ï¼Œç”¨äºç”µè¯å·ç ã€‚
    $ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²çš„ç»“æŸã€‚
    è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ç”¨äºåŒ¹é…å›½é™…ç”µè¯å·ç ï¼Œå…¶ä¸­å·ç éƒ¨åˆ†å¯ä»¥åŒ…å«æ•°å­—å’Œäº•å·ã€‚

æˆ‘é  ç›´æ¥æ­£åˆ™è¡¨è¾¾å¼è¿˜å†™ä¸ªæ¯›

å¦‚æœæ˜¯å†™æ™®é€šé€»è¾‘è¿˜å¥½

ç¬¬ä¸€é¢˜æŒºéº»çƒ¦çš„ï¼Œå°±æ˜¯å­—ç¬¦ä¸²æ¨¡æ‹Ÿï¼Œç”¨æ­£åˆ™å°±æ›´å·¥ç¨‹åŒ–ä¸€ç‚¹ã€‚

å­—ç¬¦ä¸²æ¨¡æ‹Ÿé€šå¸¸æŒ‡çš„æ˜¯åœ¨ç¼–ç¨‹é¢˜ç›®ä¸­ï¼Œå¯¹å­—ç¬¦ä¸²çš„æ“ä½œæˆ–å¤„ç†è¿›è¡Œæ¨¡æ‹Ÿã€‚è¿™ç±»é¢˜ç›®ä¸€èˆ¬è¦æ±‚ä½ æ¨¡æ‹ŸæŸäº›å­—ç¬¦ä¸²æ“ä½œï¼Œå¦‚æ’å…¥ã€åˆ é™¤ã€æ›¿æ¢ã€åè½¬ã€æŸ¥æ‰¾å­ä¸²ç­‰ï¼Œæˆ–è€…å¯¹å­—ç¬¦ä¸²è¿›è¡ŒæŸç§å˜æ¢å’Œå¤„ç†ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

å‡è®¾æœ‰ä¸€é“é¢˜ç›®è¦æ±‚ä½ æ¨¡æ‹Ÿä¸€ä¸ªå­—ç¬¦ä¸²çš„å˜æ¢æ“ä½œï¼Œæ¯”å¦‚å°†å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å…ƒéŸ³å­—æ¯ï¼ˆa, e, i, o, uï¼‰æ›¿æ¢æˆæ•°å­—1ï¼Œå…¶ä»–å­—ç¬¦ä¿æŒä¸å˜ã€‚

é—®é¢˜æè¿°ï¼š
ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·å°†å…¶ä¸­çš„å…ƒéŸ³å­—æ¯æ›¿æ¢æˆæ•°å­—1ï¼Œè¿”å›å¤„ç†åçš„å­—ç¬¦ä¸²ã€‚

è¾“å…¥ï¼š"hello world"

è¾“å‡ºï¼š"h1ll1 w1rld"

è§£é¢˜æ€è·¯ï¼š

éå†å­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦ã€‚
å¦‚æœå­—ç¬¦æ˜¯å…ƒéŸ³å­—æ¯ï¼Œæ›¿æ¢ä¸ºæ•°å­—1ã€‚
å…¶ä½™å­—ç¬¦ä¿æŒä¸å˜ã€‚
å°†æœ€ç»ˆçš„å­—ç¬¦ä¸²è¿”å›ã€‚
ç¤ºä¾‹ä»£ç ï¼ˆPythonï¼‰ï¼š

    python
    å¤åˆ¶ä»£ç 
    def replace_vowels(s):
        vowels = "aeiouAEIOU"
        result = []
        for char in s:
            if char in vowels:
                result.append('1')
            else:
                result.append(char)
        return ''.join(result)

    # æµ‹è¯•
    input_str = "hello world"
    output_str = replace_vowels(input_str)
    print(output_str)  # è¾“å‡ºï¼š"h1ll1 w1rld"
æ€»ç»“ï¼š
å­—ç¬¦ä¸²æ¨¡æ‹Ÿé¢˜ç›®ä¸»è¦è€ƒå¯Ÿçš„æ˜¯å¯¹å­—ç¬¦ä¸²çš„æ“ä½œå’Œå¤„ç†èƒ½åŠ›ã€‚é€šå¸¸è¦æ±‚ç†Ÿç»ƒä½¿ç”¨å­—ç¬¦ä¸²æ“ä½œçš„åŸºæœ¬æ–¹æ³•å’ŒæŠ€å·§ï¼Œæ¯”å¦‚éå†ã€ç´¢å¼•ã€åˆ‡ç‰‡ã€æ‹¼æ¥ç­‰ã€‚

    def is_valid_email(s):
        if '@' not in s or s.count('@') != 1:
            return False
        username, domain = s.split('@')
        if '.' not in domain or domain.count('.') != 1:
            return False
        domain_name, domain_suffix = domain.split('.')
        
        if (username.isalnum() or '_' in username) and (domain_name.isalnum() or '_' in domain_name) and domain_suffix.isalnum():
            return True
        return False


å¦‚æœèƒ½ç›´æ¥å¤åˆ¶ç¡®å®å¥½

    def is_valid_ip(s):
        parts = s.split('.')
        if len(parts) != 4:
            return False
        for part in parts:
            if not part.isdigit() or not 0 <= int(part) <= 255:
                return False
        return True



    def is_valid_phone(s):
        if not s.startswith('+'):
            return False
        parts = s[1:].split('-')
        if len(parts) != 3:
            return False
        country_code, area_code, number = parts
        if not country_code.isdigit() or not area_code.isdigit():
            return False
        for ch in number:
            if not ch.isdigit() and ch != '#':
                return False
        return True

å°† username.isalnum() è½¬æ¢ä¸ºäºŒè¿›åˆ¶å¤„ç†çš„æ–¹å¼ä¼šæ˜¾å¾—æ¯”è¾ƒå¤æ‚ï¼Œä½†ç¡®å®å¯ä»¥é€šè¿‡é€ä¸ªå­—ç¬¦æ£€æŸ¥çš„æ–¹å¼æ¥æ›¿ä»£ isalnum()ï¼Œå¹¶é€šè¿‡åˆ¤æ–­æ¯ä¸ªå­—ç¬¦çš„ ASCII å€¼æ˜¯å¦åœ¨å­—æ¯æˆ–æ•°å­—çš„èŒƒå›´å†…æ¥å®ç°ã€‚

å­—ç¬¦æ£€æŸ¥ï¼š

å­—æ¯çš„ ASCII èŒƒå›´ï¼š'A' åˆ° 'Z' å’Œ 'a' åˆ° 'z'ã€‚
æ•°å­—çš„ ASCII èŒƒå›´ï¼š'0' åˆ° '9'ã€‚
ä¸‹åˆ’çº¿çš„ ASCII å€¼ä¸º 95ï¼ˆ'_'ï¼‰ã€‚
é€å­—ç¬¦éå†ï¼š

éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œå°†å…¶ ASCII å€¼ä¸ä¸Šè¿°èŒƒå›´è¿›è¡Œå¯¹æ¯”ã€‚


    def is_alnum_or_underscore(s):
        for char in s:
            ascii_value = ord(char)
            if not (ord('A') <= ascii_value <= ord('Z') or
                    ord('a') <= ascii_value <= ord('z') or
                    ord('0') <= ascii_value <= ord('9') or
                    ascii_value == ord('_')):
                return False
        return True

æˆ‘çš„æ°´å¹³èƒ½æƒ³åˆ°è¿™ä¸ª ä½†è¿˜æ˜¯å†™ä¸å‡ºå®Œæ•´


ä½¿ç”¨ ASCII ç è¿›è¡Œå­—ç¬¦åˆ¤æ–­
é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥æ›´çµæ´»åœ°æ§åˆ¶å­—ç¬¦çš„æ ¡éªŒï¼Œè€Œä¸ä»…ä»…ä¾èµ–äº isalnum()ï¼Œä½¿ä»£ç æ›´å…·å¯è¯»æ€§å’Œå¯æ‰©å±•æ€§ã€‚

if (username.isalnum() or '_' in username) è¿™ä¸œè¥¿ç¡®å®æ²¡æ¥è§¦è¿‡         



### ç¬¬äºŒé¢˜ æœ€å¤§å…¬çº¦æ•° ç´ æ•°ä»£ç è®¡ç®—å’Œåˆ¤æ–­ ä¸åš

çœŸç¦»è°± å¤§å…¬å¸æ ¡æ‹›è¿˜æœ‰hcå— ä¸å¦‚ä¸åšäº†



é¢˜æ„
å°ç¾å¯¹ gcd (æœ€å¤§å…¬çº¦æ•°) å¾ˆæ„Ÿå…´è¶£ï¼Œå¥¹ä¼šè¯¢é—®ä½ tæ¬¡ã€‚

æ¯æ¬¡è¯¢é—®ç»™å‡ºä¸€ä¸ªå¤§äº1çš„æ­£æ•´æ•°nï¼Œä½ æ˜¯å¦æ‰¾åˆ°ä¸€ä¸ªæ•°å­— m (2 â‰¤ m â‰¤ n)ï¼Œä½¿å¾— gcd(n,m)ä¸ºç´ æ•°ã€‚

è¾“å…¥æè¿°
æ¯ä¸ªæµ‹è¯•æ–‡ä»¶å‡åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° T (1 â‰¤ T â‰¤ 100) ä»£è¡¨æ•°æ®ç»„æ•°ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®æè¿°å¦‚ä¸‹ï¼š

åœ¨ä¸€è¡Œä¸Šè¾“å…¥ä¸€ä¸ªæ•´æ•° n (2 â‰¤ n â‰¤ 10^5)ä»£è¡¨ç»™å®šçš„æ•°å­—ã€‚

è¾“å‡ºæè¿°
å¯¹äºæ¯ä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œåœ¨ä¸€è¡Œä¸Šè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ•°å­—mã€‚ å¦‚æœæœ‰å¤šç§åˆæ³•ç­”æ¡ˆï¼Œæ‚¨å¯ä»¥è¾“å‡ºä»»æ„ä¸€ç§ã€‚

ç¤ºä¾‹ï¼š
è¾“å…¥ï¼š

    2
    114
    15
è¾“å‡ºï¼š

    57
    5


æ€è·¯ä¸ä»£ç 
é¢˜ç»™å·²ç»æ˜ç¡®çš„è¯´å‡º m çš„èŒƒå›´æ˜¯ 2 â‰¤ m â‰¤ nï¼Œå› æ­¤åŸºæœ¬æ€è·¯å°±æ˜¯åœ¨[2,n]è¿™ä¸ªèŒƒå›´å†…å¯»æ‰¾ä¸€ä¸ªæ•°mï¼Œæ»¡è¶³gcd(n,m)æ˜¯ä¸€ä¸ªç´ æ•°ã€‚


    public class GCDPrime {
        // å‡½æ•°ï¼šè®¡ç®—ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼ˆGCDï¼‰
        public static int gcd(int a, int b) {
            while (b != 0) {
                int temp = b;
                b = a % b;
                a = temp;
            }
            return a;
        }

        // å‡½æ•°ï¼šæ£€æŸ¥ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°
        public static boolean isPrime(int num) {
            if (num <= 1) return false;
            if (num <= 3) return true;
            if (num % 2 == 0 || num % 3 == 0) return false;
            for (int i = 5; i * i <= num; i += 6) {
                if (num % i == 0 || num % (i + 2) == 0) return false;
            }
            return true;
        }

        public static void main(String[] args) {
            Scanner scanner = new Scanner(System.in);
            int T = scanner.nextInt(); 

            ArrayList<Integer> data = new ArrayList<>();
            for (int i = 0; i < T; i++) {
                data.add(scanner.nextInt()); 
            }

            ArrayList<Integer> result = new ArrayList<>();

            for (int n : data) {
                boolean found = false;
                for (int m = 2; m <= n; ++m) {
                    int gcdVal = gcd(n, m); // è®¡ç®—gcd(n, m)
                    if (isPrime(gcdVal)) { // æ£€æŸ¥gcdæ˜¯å¦ä¸ºç´ æ•°
                        result.add(m);
                        found = true;
                        break; 
                    }
                }
                if (!found) {
                    result.add(-1); 
                }
            }

            for (int res : result) {
                System.out.println(res);
            }

            scanner.close();
        }
    }


è¿™ä¸ªå¾ˆæ˜æ˜¾ä¸çŸ¥é“ä¸¤ä¸ªæ ¸å¿ƒä»£ç çš„æ•°å­¦å«ä¹‰

è§£é¢˜æ€è·¯ï¼š
éå† mï¼šå¯¹äºæ¯ä¸ª nï¼Œæˆ‘ä»¬å¯ä»¥ä» m = 2 å¼€å§‹ï¼Œç›´åˆ° m = nï¼Œè®¡ç®— gcd(n, m)ã€‚ä¸€æ—¦å‘ç° gcd(n, m) ä¸ºç´ æ•°ï¼Œå°±è¾“å‡ºè¿™ä¸ª mã€‚
ä¼˜åŒ–ï¼šè€ƒè™‘åˆ° gcd(n, m) çš„å®šä¹‰ï¼Œå¦‚æœæˆ‘ä»¬ä» n çš„çº¦æ•°å¼€å§‹å¯»æ‰¾ mï¼Œå¯ä»¥æ›´å¿«æ‰¾åˆ°è§£ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä» m = n//2 å¼€å§‹å¾€å‰æ‰¾ï¼Œè¿™æ ·å¯ä»¥å‡å°‘éå†çš„æ¬¡æ•°ã€‚
ç´ æ•°åˆ¤æ–­ï¼šåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¸è§„çš„ç´ æ•°åˆ¤æ–­æ–¹æ³•ï¼Œæ¯”å¦‚è¯•é™¤æ³•ã€‚



    import math

    def is_prime(x):æ£€æŸ¥ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°
        if x <= 1:
            return False
        if x == 2:
            return True
        if x % 2 == 0:
            return False
        for i in range(3, int(math.sqrt(x)) + 1, 2):è¿™ä¸ªä¹Ÿå¤¸å¼  è¿™éƒ½ä»€ä¹ˆé¢˜ï¼Ÿ
            if x % i == 0: è¯•é™¤æ³• å“ªé‡Œå­¦è¿‡å—ï¼Ÿ
                return False
        return True

    def find_m(n):
        # ä» n//2 å¼€å§‹æŸ¥æ‰¾
        for m in range(n//2, n+1):
            g = math.gcd(n, m) ï¼Ÿï¼Ÿï¼Ÿè¿™ä¸ªè®¡ç®—ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼ˆGCDï¼‰æ›´å¤¸å¼ 
            if is_prime(g):æ£€æŸ¥ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°
                return m
        # ç†è®ºä¸Šä¼šæ‰¾åˆ°ç­”æ¡ˆï¼Œå› æ­¤ä¸€èˆ¬ä¸ä¼šåˆ°è¿™é‡Œ
        return None

    # å¤„ç†è¾“å…¥å’Œè¾“å‡º
    T = int(input())
    results = []
    for _ in range(T):
        n = int(input())
        results.append(find_m(n))

    # è¾“å‡ºç»“æœ
    for result in results:
        print(result)


ç´ æ•°åˆ¤æ–­å¤ªéš¾

ç®€å•çš„å°±ä¸€ä¸ªè®¡ç®—gcd

åœ¨ä¸ä½¿ç”¨ math æ¨¡å—çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å®ç°è®¡ç®—ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼ˆGCDï¼‰çš„æ–¹æ³•ã€‚é€šå¸¸ä½¿ç”¨çš„ç®—æ³•æ˜¯ æ¬§å‡ é‡Œå¾—ç®—æ³• (Euclidean algorithm)ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼š

    å¦‚æœ b ä¸º 0ï¼Œé‚£ä¹ˆ GCD(a, b) = aã€‚
    å¦åˆ™ï¼ŒGCD(a, b) = GCD(b, a % b)ï¼Œä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ° b ä¸º 0ã€‚


æ¬§å‡ é‡Œå¾—ç®—æ³•çš„å®ç°ï¼š
ä»¥ä¸‹æ˜¯ä½¿ç”¨é€’å½’å’Œè¿­ä»£ä¸¤ç§æ–¹å¼å®ç°æ¬§å‡ é‡Œå¾—ç®—æ³•çš„ç¤ºä¾‹ã€‚

é€’å½’å®ç°ï¼šè¿˜æ˜¯è¿™ç§æ˜äº†

    def gcd(a, b):
        if b == 0:
            return a
        else:
            return gcd(b, a % b)
è¿­ä»£å®ç°ï¼š

    def gcd(a, b):
        while b != 0:
            a, b = b, a % b
        return a

### ç¬¬ä¸‰é¢˜ åŠ¨ä¸¤ä¸ª æå·®æœ€å° ç›´æ¥å¹³å‡å€¼ä¸‹ç•Œï¼Œä¸ç®¡è¾¹ç•Œæ¡ä»¶ èƒ½ç‹—å‡ºæ¥å°±è¡Œ



é¢˜æ„
å°ç¾æœ‰ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©ä¸¤ä¸ªä¸‹æ ‡iå’Œ jï¼Œå°† ai å‡å» 1ï¼Œå°† aj åŠ ä¸Š 1ã€‚å°ç¾æƒ³çŸ¥é“æœ€å°‘éœ€è¦å¤šå°‘æ¬¡æ“ä½œï¼Œå¯ä»¥ä½¿æ•°ç»„æå·®æœ€å°ã€‚

æ•°ç»„çš„æå·®ä¸ºæ•°ç»„ä¸­æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®ã€‚

è¾“å…¥æè¿°
ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° n (2 â‰¤  n â‰¤ 10^5)ä»£è¡¨æ•°ç»„çš„é•¿åº¦ã€‚

ç¬¬äºŒè¡Œè¾“å…¥å‡  ä¸ªæ•´æ•° a1,a2,...,an (1 â‰¤ ai â‰¤ 10^9) ä»£è¡¨æ•°ç»„çš„å…ƒç´ ã€‚

è¾“å‡ºæè¿°
åœ¨ä¸€è¡Œä¸Šè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘éœ€è¦å¤šå°‘æ¬¡æ“ä½œã€‚

ç¤ºä¾‹ï¼š
è¾“å…¥ï¼š

    5
    1 2 3 4 5
è¾“å‡ºï¼š

    3
è¯´æ˜ï¼š

ä¸‰æ¬¡æ“ä½œåˆ†åˆ«ä¸º (a1,a5), (a2,a5), (a1,a4)ã€‚æœ€ç»ˆæ•°ç»„ä¸º[3,3,3,3,3]ï¼Œæå·®ä¸º0ã€‚


è¿™ç§å¤ªå¤šè€ƒè™‘çš„æ²¡åŠæ³• ç›´æ¥æ­»æœº æ²¡æ€è·¯

å›æº¯æ‰¾å‡ºæ‰€æœ‰ï¼Ÿ        
dpæ‰¾å‡ºæœ€ä¼˜ æ€ä¹ˆdp?????        



æ€è·¯ä¸ä»£ç 
è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæ˜¯è¦é€šè¿‡ä¸€ç³»åˆ—å¢å‡æ“ä½œæ¥ä½¿æ•°ç»„ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼å°½å¯èƒ½æ¥è¿‘ï¼Œä»è€Œæœ€å°åŒ–æ•°ç»„çš„æå·®ã€‚è¿™å¯ä»¥é€šè¿‡è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ ä¸æ•°ç»„å¹³å‡å€¼ä¹‹é—´çš„å·®å¼‚æ¥å®Œæˆã€‚

è¦å®ç°ç›®æ ‡ï¼Œæˆ‘ä»¬åº”è€ƒè™‘å°†æ‰€æœ‰å…ƒç´ è°ƒæ•´åˆ°ä¸€ä¸ªå…±åŒçš„ç›®æ ‡å€¼ä¸Šï¼Œè¿™ä¸ªç›®æ ‡å€¼æœ€æ¥è¿‘æ•´ä¸ªæ•°ç»„çš„å¹³å‡å€¼ã€‚ç”±äºæ¯æ¬¡æ“ä½œæ˜¯å°†ä¸€ä¸ªå…ƒç´ å‡å» 1ï¼Œå¦ä¸€ä¸ªå…ƒç´ åŠ ä¸Š 1ï¼Œè¿™æ„å‘³ç€æ•°ç»„çš„æ€»å’Œåœ¨æ“ä½œå‰åä¿æŒä¸å˜ã€‚å› æ­¤ï¼Œæœ€ä½³ç­–ç•¥æ˜¯å°è¯•ä½¿æ‰€æœ‰å…ƒç´ è¾¾åˆ°æ•°ç»„æ€»å’Œé™¤ä»¥æ•°ç»„é•¿åº¦çš„ç»“æœï¼ˆå‘ä¸‹å–æ•´çš„ç»“æœï¼‰ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Œå³å¹³å‡å€¼ã€‚

ok æ€è·¯è¯•æ‰€æœ‰å…ƒç´ è¾¾åˆ°å‡å€¼ æ€ä¹ˆä¿è¯ï¼Ÿä¸€æ¬¡å˜ä¸¤ä¸ªï¼Œæ¯æ¬¡ä¸€ä¸ªä¸ªå¤§äºå°äºéå†ï¼Ÿæˆ–è€…è¯´å…ˆçœ‹ç¬¬ä¸€ä¸ªå·®å€¼ å†éå†æ‰¾åˆé€‚çš„ç¬¬äºŒä¸ªï¼Ÿ


    long avg = sum / n;  // è®¡ç®—å¹³å‡å€¼ï¼ˆå‘ä¸‹å–æ•´ï¼‰
    long extra = sum % n;  // è®¡ç®—ä½™æ•°ï¼Œå°½ç®¡è¿™ä¸ªå˜é‡åœ¨æ­¤ä»£ç ä¸­æœªä½¿ç”¨

    // è®¡ç®—éœ€è¦æ“ä½œçš„æœ€å°æ¬¡æ•°
    long minMoves = 0;
    long need = 0;
    for (int i = 0; i < n; i++) {
        need += a[i] - avg;  // æ›´æ–°å·®å€¼ç´¯è®¡
        minMoves = Math.max(minMoves, Math.abs(need));  // æ›´æ–°æœ€å¤§æ“ä½œæ¬¡æ•°
    }


å¾ˆ6 ä½†ä¸ºä»€ä¹ˆæ˜¯å‘ä¸‹å–æ•´ è€Œä¸æ˜¯å‘ä¸Šï¼Ÿ


gemini

    def min_diff(nums):
        n = len(nums)
        nums.sort()
        avg = sum(nums) // n

        # è®¡ç®—æ¯ä¸ªå…ƒç´ éœ€è¦ç§»åŠ¨çš„è·ç¦»
        moves = 0
        for num in nums:
            moves += abs(num - avg)

        return moves // 2  # å› ä¸ºæ¯æ¬¡æ“ä½œä¼šåŒæ—¶æ”¹å˜ä¸¤ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æ€»æ“ä½œæ¬¡æ•°é™¤ä»¥2

    # ç¤ºä¾‹
    nums = [1, 2, 3, 4, 5]
    result = min_diff(nums)
    print(result)  # è¾“å‡ºï¼š3


ä¸ºä»€ä¹ˆè¿™æ ·å¯è¡Œï¼Ÿ
å¹³å‡å€¼ä½œä¸ºç›®æ ‡ï¼š å°†æ‰€æœ‰å…ƒç´ å‘å¹³å‡å€¼é æ‹¢ï¼Œå¯ä»¥æœ‰æ•ˆç¼©å°æå·®ã€‚
ç§»åŠ¨è·ç¦»ï¼š ç§»åŠ¨è·ç¦»çš„æ€»å’Œä»£è¡¨äº†è°ƒæ•´æ‰€æœ‰å…ƒç´ åˆ°ç›®æ ‡çŠ¶æ€æ‰€éœ€çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚
é™¤ä»¥2çš„åŸå› ï¼š æ¯æ¬¡æ“ä½œä¼šåŒæ—¶æ”¹å˜ä¸¤ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æ€»æ“ä½œæ¬¡æ•°éœ€è¦é™¤ä»¥2ã€‚
ä¼˜åŒ–ä¸æ‹“å±•
å¤§æ•°å¤„ç†ï¼š å¦‚æœæ•°ç»„å…ƒç´ éå¸¸å¤§ï¼Œå¯ä»¥ä½¿ç”¨æ›´é€‚åˆå¤§æ•°è¿ç®—çš„æ•°æ®ç±»å‹æˆ–ç®—æ³•ã€‚
ç‰¹æ®Šæƒ…å†µï¼š å¯ä»¥è€ƒè™‘æ•°ç»„ä¸­å…ƒç´ å…¨ç›¸ç­‰æˆ–åªæœ‰ä¸¤ä¸ªä¸åŒå…ƒç´ ç­‰ç‰¹æ®Šæƒ…å†µï¼Œè¿›è¡Œä¼˜åŒ–ã€‚
å…¶ä»–æ“ä½œï¼š å¦‚æœå…è®¸æ›´å¤æ‚çš„æ“ä½œï¼Œå¯ä»¥æ¢ç´¢æ›´é«˜çº§çš„ç®—æ³•ã€‚
æ€»ç»“
é€šè¿‡å°†æ•°ç»„å…ƒç´ å‘å¹³å‡å€¼é æ‹¢ï¼Œå¹¶è®¡ç®—æ¯ä¸ªå…ƒç´ éœ€è¦ç§»åŠ¨çš„è·ç¦»ï¼Œæˆ‘ä»¬èƒ½æœ‰æ•ˆåœ°æ±‚è§£å‡ºæœ€å°åŒ–æ•°ç»„æå·®æ‰€éœ€çš„æœ€å°‘æ“ä½œæ¬¡æ•°ã€‚


ä¹Ÿå¯ä»¥ å°±ç®—ä¸èƒ½å…¨a


## 810
### ç¬¬ä¸€é¢˜ å°ç¾çš„å¯†ç 
å°ç¾å‡†å¤‡ç™»å½•ç¾å›¢ï¼Œéœ€è¦è¾“å…¥å¯†ç ï¼Œå°ç¾å¿˜è®°äº†å¯†ç ï¼Œåªè®°å¾—å¯†ç å¯èƒ½æ˜¯ nä¸ªå­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªã€‚å°ç¾ä¼šæŒ‰ç…§å¯†ç çš„é•¿åº¦ä»å°åˆ°å¤§ä¾æ¬¡å°è¯•æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹äºç›¸åŒé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œå°ç¾éšæœºå°è¯•ï¼Œå¹¶ä¸”ç›¸åŒçš„å¯†ç åªä¼šå°è¯•ä¸€æ¬¡ã€‚å°ç¾æƒ³çŸ¥é“ï¼Œå¥¹æœ€å°‘éœ€è¦å°è¯•å¤šå°‘æ¬¡æ‰èƒ½ç™»å½•æˆåŠŸï¼Œæœ€å¤šéœ€è¦å°è¯•å¤šå°‘æ¬¡æ‰èƒ½ç™»å½•æˆåŠŸã€‚å°ç¾ä¸ä¼šé‡æ–°å°è¯•å·²ç»å°è¯•è¿‡çš„å­—ç¬¦ä¸²ã€‚æˆåŠŸç™»å½•åä¼šç«‹å³åœæ­¢å°è¯•ã€‚

è¾“å…¥æè¿°ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° n(1<=n<=1000)ä»£è¡¨å¯†ç å­—ç¬¦ä¸²çš„ä¸ªæ•°ã€‚ç¬¬äºŒè¡Œè¾“å…¥ä¸€ä¸ªåªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² s(1<=|s|<=1000)ä»£è¡¨æ­£ç¡®çš„å¯†ç ã€‚æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡ 1000çš„å­—ç¬¦ä¸²ï¼Œä»£è¡¨å°ç¾è®°å¾—çš„å¯†ç ã€‚

è¾“å‡ºæè¿°åœ¨ä¸€è¡Œä¸Šè¾“å‡ºä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘å’Œæœ€å¤šå°è¯•æ¬¡æ•°ã€‚ç¤ºä¾‹ 1è¾“å…¥

    4
    ab
    abc
    ab
    ac
    ac

è¾“å‡º

1Â 2



    fromÂ collectionsÂ importÂ defaultdict

    nÂ =Â int(input())
    ansÂ =Â input()

    posÂ =Â defaultdict(set)
    forÂ _Â inÂ range(n):
    Â Â Â Â pÂ =Â input()
    Â Â Â Â pos[len(p)].add(p)

    posÂ =Â dict(sorted(pos.items()))

    stepÂ =Â 0
    MIN,MAXÂ =Â -1,-1
    forÂ k,vÂ inÂ pos.items():
    Â Â Â Â ifÂ ansÂ inÂ v:
    Â Â Â Â Â Â Â Â MINÂ =stepÂ +Â 1
    Â Â Â Â Â Â Â Â MAXÂ =Â stepÂ +Â len(v)
    Â Â Â Â else:
    Â Â Â Â Â Â Â Â stepÂ +=Â len(v)

    print(MIN,Â MAX)

å¾ˆç®€å• ä½†æ˜¯ç­”æ¡ˆæ¯”æˆ‘æƒ³çš„æ›´ç®€å•

å› ä¸ºæœ‰å……åˆ†åˆ©ç”¨äº†é”®å€¼ å’Œ é›†åˆ

### ç¬¬äºŒé¢˜ å°ç¾çš„æ•°ç»„åˆ é™¤

å°ç¾æœ‰ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ a1,a2,....,an ï¼Œä»–å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼šâ— åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´  a1ï¼ŒåŒæ—¶æ•°ç»„çš„é•¿åº¦å‡ä¸€ï¼ŒèŠ±è´¹ä¸º xã€‚â— åˆ é™¤æ•´ä¸ªæ•°ç»„ï¼ŒèŠ±è´¹ä¸º k*MEX(a) ï¼ˆå…¶ä¸­ MEX(a) è¡¨ç¤º a ä¸­æœªå‡ºç°è¿‡çš„æœ€å°éè´Ÿæ•´æ•°ã€‚ä¾‹å¦‚ [0,1,2,4] çš„ MEX ä¸º 3 ï¼‰ã€‚å°ç¾æƒ³çŸ¥é“å°† a æ•°ç»„å…¨éƒ¨æ¸…ç©ºçš„æœ€å°ä»£ä»·æ˜¯å¤šå°‘ï¼Œè¯·ä½ å¸®å¸®ä»–å§ã€‚

è¾“å…¥æè¿°

æ¯ä¸ªæµ‹è¯•æ–‡ä»¶å‡åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° T(1<=T<=1000) ä»£è¡¨æ•°æ®ç»„æ•°ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®æè¿°å¦‚ä¸‹ï¼šç¬¬ä¸€è¡Œè¾“å…¥ä¸‰ä¸ªæ­£æ•´æ•° n,k,x(1<=n<=2*10^5, 1<=k,x<=10^9) ä»£è¡¨æ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡ã€åˆ é™¤æ•´ä¸ªæ•°ç»„çš„èŠ±è´¹ç³»æ•°ã€åˆ é™¤å•ä¸ªå…ƒç´ çš„èŠ±è´¹ã€‚ç¬¬äºŒè¡Œè¾“å…¥ n ä¸ªæ•´æ•° a1,a2,....,an(0<=ai<=n)ï¼Œè¡¨ç¤ºæ•°ç»„å…ƒç´ ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¿è¯æ‰€æœ‰çš„ n ä¹‹å’Œä¸è¶…è¿‡ 2*10^5ã€‚


è¾“å‡ºæè¿°

å¯¹äºæ¯ä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œåœ¨ä¸€è¡Œä¸Šè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºå°†æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ å…¨éƒ¨åˆ é™¤çš„æœ€å°èŠ±è´¹ã€‚


è¾“å…¥

1
6Â 3Â 3
4Â 5Â 2Â 3Â 1Â 0

è¾“å‡º15

è¯´æ˜è‹¥ä¸æ‰§è¡Œæ“ä½œä¸€å°±å…¨éƒ¨åˆ é™¤ï¼ŒMEX{4,5,2,3,1,0}Â = 6ï¼ŒèŠ±è´¹ 18 ï¼›
è‹¥æ‰§è¡Œä¸€æ¬¡æ“ä½œä¸€åå…¨éƒ¨åˆ é™¤ï¼ŒMEX{5,2,3,1,0}Â = 4ï¼ŒèŠ±è´¹ 3+12ï¼›
è‹¥æ‰§è¡Œä¸¤æ¬¡æ“ä½œä¸€åå…¨éƒ¨åˆ é™¤ï¼ŒMEX{2,3,1,0}Â = 4ï¼ŒèŠ±è´¹ 6+12 ï¼›
è‹¥æ‰§è¡Œä¸‰æ¬¡æ“ä½œä¸€åå…¨éƒ¨åˆ é™¤ï¼ŒMEX{3,1,0}Â = 2ï¼ŒèŠ±è´¹ 9+6 ï¼›
è‹¥æ‰§è¡Œå››æ¬¡æ“ä½œä¸€åå…¨éƒ¨åˆ é™¤ï¼ŒMEX{1,0}Â = 2ï¼ŒèŠ±è´¹ 12+6 ï¼›
è‹¥æ‰§è¡Œäº”æ¬¡æ“ä½œä¸€åå…¨éƒ¨åˆ é™¤ï¼ŒMEX{0}Â = 1ï¼ŒèŠ±è´¹ 15+3ï¼›
è‹¥æ‰§è¡Œå…­æ¬¡æ“ä½œä¸€ï¼ŒMEX{}Â =Â 0ï¼ŒèŠ±è´¹ 18ï¼›

å¤ªç»•äº†

ç›´æ¥å°±æ˜¯éå† min å¯¹ç€ç¤ºä¾‹è¾“å‡º

æ€è·¯å’Œä»£ç 

åŠ¨æ€è§„åˆ’+ç»´æŠ¤åŠ¨æ€æœ€å°æœªå‡ºç°çš„æ•´æ•°ã€‚f[i]è¡¨ç¤ºä»iå¾€åè€ƒè™‘çš„æœ€å°èŠ±è´¹ï¼Œé€‰æ‹©å°±æ˜¯é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ æˆ–è€…ç›´æ¥åˆ é™¤åç»­æ‰€æœ‰çš„å…ƒç´ ã€‚

å¯¹äºåˆ é™¤åç»­æ‰€æœ‰çš„å…ƒç´ çš„é€‰é¡¹ï¼Œæˆ‘ä»¬å¿…é¡»è¦ç›´åˆ°MEXæ˜¯å¤šå°‘ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åœ¨æ›´æ–°dpçš„è¿‡ç¨‹ä¸­ï¼Œç”¨ä¸€ä¸ªsuffixä¸æ–­åœ°æ›´æ–°å½“å‰çš„æœ€å°æœªå‡ºç°çš„æ•´æ•°ã€‚è™½ç„¶è¿™é‡Œå‡ºç°äº†ä¸¤å±‚å¾ªç¯çš„åµŒå¥—ï¼Œä½†æ˜¯å¹¶ä¸ä¼šé‡ç½®å‚æ•°ï¼Œå› æ­¤å¤æ‚åº¦æ˜¯O(n).

ç¬¬äºŒé¢˜éœ€è¦ä¸€ç‚¹å°æŠ€å·§ï¼ŒåŒ…è£…åœ¨æ›´æ–°è¿‡ç¨‹ä¸­å¯ä»¥çº¿æ€§çš„ç»´æŠ¤æ ¸å¿ƒçš„å€¼å³å¯ï¼Œéš¾åº¦ä¹Ÿä¸ç®—å¾ˆå¤§ã€‚



    fromÂ mathÂ importÂ inf

    TÂ =Â int(input())
    forÂ _Â inÂ range(T):
    Â Â Â Â n,k,xÂ =Â map(int,Â input().split())
    Â Â Â Â AÂ =Â [int(c)Â forÂ cÂ inÂ input().split()]
    Â Â Â Â dpÂ =Â [inf]*(n+1)
    Â Â Â Â dp[n]Â =Â 0
    Â Â Â Â vstÂ =Â set()
    Â Â Â Â suffix_MEXÂ =Â 0
    Â Â Â Â forÂ iÂ inÂ range(n-1,-1,-1):
    Â Â Â Â Â Â Â Â vst.add(A[i])
    Â Â Â Â Â Â Â Â whileÂ suffix_MEXÂ inÂ vst:
    Â Â Â Â Â Â Â Â Â Â Â Â suffix_MEXÂ +=Â 1
    Â Â Â Â Â Â Â Â dp[i]Â =Â min(dp[i+1]+x,Â k*suffix_MEX)
    Â Â Â Â print(dp[0])

ä»åå¾€å‰ç®— æ–¹ä¾¿ suffix_MEXÂ  åŒæ—¶ dpè®¾ç½®ä¹Ÿå¾ˆå·§å¦™

è€Œä¸” suffix_MEXÂ ä¸ä¼šé‡å¤è®¡ç®—

ä¿è¯ o(n)è§£å†³ï¼Ÿ


### ç¬¬ä¸‰é¢˜ å°ç¾çš„å½©å¸¦

å°ç¾çš„å½©å¸¦æ˜¯ç”±ä¸€æ¡é•¿åº¦ä¸º n çš„å½©å¸¦ä¸€ç›´æ— é™å¾ªç¯å¾—åˆ°çš„ï¼Œå½©å¸¦çš„æ¯ä¸€ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªé¢œè‰²ï¼Œç”¨ ai è¡¨ç¤ºã€‚å› æ­¤å½“ i>n æ—¶ï¼Œai = ai-n Â ã€‚å°ç¾æ¯æ¬¡ä¼šä»å·¦å¾€åæˆ–ä»å³å¾€å·¦å‰ªä¸€æ®µé•¿åº¦ä¸º x çš„å½©å¸¦ï¼Œå¥¹æƒ³çŸ¥é“å¥¹æ¯æ¬¡å‰ªä¸‹æ¥çš„å½©å¸¦æœ‰å¤šå°‘ç§é¢œè‰²ã€‚

è¾“å…¥æè¿°

ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° n,q(1<=n,q<=2*10^5) ä»£è¡¨å½©å¸¦é•¿åº¦ã€å‰ªå½©å¸¦æ¬¡æ•°ã€‚ç¬¬äºŒè¡Œè¾“å…¥ n ä¸ªæ•´æ•° a1,a2,...,an(1<=ai<=10^9) ä»£è¡¨å½©å¸¦æ¯ä¸€ä¸ªä½ç½®çš„é¢œè‰²ã€‚æ­¤å q è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦ c å’Œä¸€ä¸ªæ•´æ•° x(1<=x<=10^9; câˆˆL,R) ä»£è¡¨è£å‰ªæ–¹å‘å’Œè£å‰ªé•¿åº¦ï¼Œå…¶ä¸­ 'L' è¯´æ˜ä»å·¦å¾€å³å‰ªï¼Œ 'R' è¯´æ˜ä»å³å¾€å·¦å‰ª ã€‚


è¾“å‡ºæè¿°

å¯¹äºæ¯ä¸€æ¬¡è£å‰ªå½©å¸¦ï¼Œåœ¨ä¸€è¡Œä¸Šè¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨é¢œè‰²æ•°é‡ã€‚


è¾“å…¥

    6Â 3
    1Â 1Â 4Â 5Â 1Â 4
    LÂ 2
    LÂ 3
    RÂ 12
è¾“å‡º

    1
    3
    3

è¯´æ˜ç¬¬ä¸€æ¬¡å‰ªå½©å¸¦ï¼Œå‰ªä¸‹æ¥çš„æ˜¯Â [1,1]Â ï¼Œæœ‰Â {1}Â è¿™ 1 ç§é¢œè‰²ï¼›
ç¬¬äºŒæ¬¡å‰ªå½©å¸¦ï¼Œå‰ªä¸‹æ¥çš„æ˜¯Â [4,5,1]Â ï¼Œæœ‰Â {1,4,5}Â è¿™ 3 ç§é¢œè‰²ï¼›
ç¬¬ä¸‰æ¬¡å‰ªå½©å¸¦ï¼Œå‰ªä¸‹æ¥çš„æ˜¯Â [1,1,4,5,1,4,1,1,4,5,1,4]Â ï¼Œæœ‰Â {1,4,5}Â è¿™ 3 ç§é¢œè‰²ã€‚


é¢˜ç›®çœ‹ä¸æ‡‚ æ”¾å¼ƒ

è¡¨è¾¾ä¸æ¸…æ™° å°±æ˜¯å¾—ç…§ç€ç¤ºä¾‹å†™ä»£ç 


ç›´æ¥forå¾ªç¯ç”¨setè§£å†³


å¤ªå¤æ‚äº†

    MAXN = 2000007

    a = [0] * MAXN
    ans = [0] * MAXN
    hsh = [0] * MAXN
    vis = [0] * MAXN
    c = [0] * MAXN

    def lowbit(x):
        return x & -x

    def update(x, k):
        while x < MAXN:
            c[x] += k
            x += lowbit(x)

    def getsum(x):
        sum = 0
        while x > 0:
            sum += c[x]
            x -= lowbit(x)
        return sum

    def main():
        n, q = map(int, input().split())
        queries = []

        for i in range(1, n + 1):
            a[i] = int(input())
            hsh[i] = a[i]

        hsh = sorted(set(hsh[1:n+1]))  # ç›´æ¥å»é‡æ’åº
        idx_map = {v: i + 1 for i, v in enumerate(hsh)}  # å€¼åˆ°ç´¢å¼•çš„æ˜ å°„

        for i in range(1, n + 1):
            a[i] = a[n + i] = idx_map[a[i]]  # åŒå€æ•°ç»„

        nl, nr = 1, n * 2

        for i in range(q):
            direction, x = input().split()
            x = min(int(x), n)
            if direction == 'L':
                queries.append((nl, nl + x - 1, i))
                nl += x
                if nl > n:
                    nl -= n
            else:
                queries.append((nr - x + 1, nr, i))
                nr -= x
                if nr <= n:
                    nr += n

        queries.sort(key=lambda q: q[1])

        cur = 1
        for l, r, i in queries:
            while cur <= r:
                if vis[a[cur]]:
                    update(vis[a[cur]], -1)
                update(cur, 1)
                vis[a[cur]] = cur
                cur += 1
            ans[i] = getsum(r) - getsum(l - 1)

        for i in range(q):
            print(ans[i])

    if __name__ == "__main__":
        main()

lowbit(x)ï¼šè®¡ç®—xçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€ä½ä½çš„1å¯¹åº”çš„æ•°å€¼ã€‚è¿™ä¸ªå‡½æ•°ç”¨äºå®ç°æ ‘çŠ¶æ•°ç»„ï¼ˆFenwick Treeï¼‰çš„ç´¢å¼•æ›´æ–°ã€‚

    def lowbit(x):
        return x & -x


    def update(x, k):
        while x < MAXN:
            c[x] += k
            x += lowbit(x)
update(x, k)ï¼šæ›´æ–°æ ‘çŠ¶æ•°ç»„cï¼Œå°†å€¼kåŠ åˆ°ä½ç½®xåŠå…¶å½±å“çš„åç»­ä½ç½®ã€‚ç”¨äºç»´æŠ¤åŒºé—´å’Œä¿¡æ¯ã€‚


    def getsum(x):
        sum = 0
        while x > 0:
            sum += c[x]
            x -= lowbit(x)
        return sum
getsum(x)ï¼šè®¡ç®—ä»1åˆ°xä¹‹é—´çš„å‰ç¼€å’Œã€‚é€šè¿‡æ ‘çŠ¶æ•°ç»„å¿«é€Ÿè®¡ç®—æŸä¸€åŒºé—´çš„å’Œã€‚

å‰ç¼€å’Œçš„å®šä¹‰
å¯¹äºä¸€ä¸ªç»™å®šçš„æ•°åˆ—Aï¼Œä»–çš„å‰ç¼€å’Œæ•°ä¸­ S ä¸­ S[ i ] è¡¨ç¤ºä»ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°ç¬¬ i ä¸ªå…ƒç´ çš„æ€»å’Œã€‚

å¦‚ä¸‹å›¾ï¼šç»¿è‰²åŒºåŸŸçš„å’Œå°±æ˜¯å‰ç¼€å’Œæ•°ç»„ä¸­çš„ S [ 6 ]ã€‚


![alt text](assets_picture/ç‰›å®¢é¢˜/image-18.png)


2. ä¸€ç»´å‰ç¼€å’Œ
2.1 è®¡ç®—å…¬å¼
å‰ç¼€å’Œæ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯å¯ä»¥é€šè¿‡åŸåºåˆ—ä»¥é€’æ¨çš„æ–¹å¼æ¨å‡ºæ¥çš„ï¼Œé€’æ¨å…¬å¼å°±æ˜¯ï¼šS[ i ] = S[  i - 1 ] + A[ i ]ã€‚S[  i - 1 ] è¡¨ç¤ºå‰ i - 1 ä¸ªå…ƒç´ çš„å’Œï¼Œåœ¨è¿™åŸºç¡€ä¸ŠåŠ ä¸Š A[ i ]ï¼Œå°±å¾—åˆ°äº†å‰ i ä¸ªå…ƒç´ çš„å’Œ S [ i ]ã€‚

2.2 ç”¨é€”
ä¸€ç»´å‰ç¼€å’Œçš„ä¸»è¦ç”¨é€”ï¼šæ±‚ä¸€ä¸ªåºåˆ—ä¸­æŸä¸€æ®µåŒºé—´ä¸­æ‰€æœ‰å…ƒç´ çš„å’Œã€‚æœ‰å¦‚ä¸‹ä¾‹å­ï¼š

æœ‰ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°åºåˆ—ã€‚

æ¥ä¸‹æ¥è¾“å…¥ m ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®è¾“å…¥ä¸€å¯¹ lï¼Œrã€‚

å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºåŸåºåˆ—ä¸­ç¬¬ l ä¸ªæ•°åˆ°ç¬¬ r ä¸ªæ•°çš„å’Œã€‚


queriesï¼šç”¨äºå­˜å‚¨æ¯ä¸ªæŸ¥è¯¢çš„ä¿¡æ¯ã€‚


    for i in range(1, n + 1):
        a[i] = int(input())
        hsh[i] = a[i]
è¯»å–nä¸ªæ•´æ•°ï¼Œå¹¶å­˜å…¥æ•°ç»„aå’Œhshä¸­ã€‚hshæ•°ç»„ç”¨äºåç»­å»é‡å’Œæ’åºã€‚


    hsh = sorted(set(hsh[1:n+1]))
    idx_map = {v: i + 1 for i, v in enumerate(hsh)}
hshï¼šé€šè¿‡setå»é‡ï¼Œå¹¶sortedæ’åºï¼Œå¾—åˆ°å”¯ä¸€ä¸”æœ‰åºçš„å…ƒç´ åˆ—è¡¨ã€‚
idx_mapï¼šå°†è¿™äº›å”¯ä¸€å…ƒç´ æ˜ å°„åˆ°å®ƒä»¬å¯¹åº”çš„ç´¢å¼•ï¼Œç”¨äºå‹ç¼©åŸå§‹æ•°æ®ï¼ˆå³å°†åŸå§‹å€¼æ˜ å°„åˆ°ä¸€ä¸ªè¾ƒå°çš„èŒƒå›´å†…ï¼‰ã€‚


    for i in range(1, n + 1):
        a[i] = a[n + i] = idx_map[a[i]]
ä½¿ç”¨idx_mapå¯¹æ•°ç»„aä¸­çš„å…ƒç´ è¿›è¡Œå€¼å‹ç¼©ï¼Œå¹¶å°†å…¶åŒå€å¤åˆ¶åˆ°açš„ååŠéƒ¨åˆ†ï¼Œç”¨äºå¤„ç†åŒºé—´æŸ¥è¯¢æ—¶çš„å¾ªç¯é€»è¾‘ã€‚

è¿™ç§å­—å…¸ä¸­æŸ¥å­—å…¸çš„è¡Œä¸ºçœŸå¤ªä¹±äº†


   queries.sort(key=lambda q: q[1])
å°†æ‰€æœ‰æŸ¥è¯¢æŒ‰ç…§å³è¾¹ç•Œrä»å°åˆ°å¤§æ’åºã€‚è¿™æ ·å¯ä»¥åœ¨å¤„ç†æ—¶é«˜æ•ˆåœ°æ›´æ–°åŒºé—´å’Œã€‚

å¯¹æ¯ä¸ªæŸ¥è¯¢è¿›è¡Œå¤„ç†ã€‚éå†ä»curåˆ°rçš„èŒƒå›´ï¼Œæ›´æ–°æ ‘çŠ¶æ•°ç»„ï¼Œå¹¶è®°å½•æ¯ä¸ªå…ƒç´ æœ€åå‡ºç°çš„ä½ç½®ã€‚
è®¡ç®—å½“å‰æŸ¥è¯¢åŒºé—´çš„å’Œï¼Œå­˜å‚¨åœ¨ansæ•°ç»„ä¸­


æ ¸å¿ƒé€»è¾‘
æ ‘çŠ¶æ•°ç»„ï¼šç”¨äºå¿«é€Ÿç»´æŠ¤å’ŒæŸ¥è¯¢åŒºé—´å’Œï¼Œé€šè¿‡updateå’Œgetsumå®ç°ã€‚
æŸ¥è¯¢å¤„ç†ï¼šæ ¹æ®å·¦å³è¾¹ç•Œçš„ä¸åŒç§»åŠ¨æ–¹å‘ï¼Œè°ƒæ•´åŒºé—´ä½ç½®ï¼Œæœ€åé€šè¿‡æ’åºå’Œæ ‘çŠ¶æ•°ç»„çš„é«˜æ•ˆè®¡ç®—ï¼Œå¾—å‡ºç»“æœã€‚
æ€»ç»“
è¿™æ®µä»£ç é€šè¿‡å‹ç¼©æ•°æ®ã€ä½¿ç”¨æ ‘çŠ¶æ•°ç»„å’ŒåŒå€æ•°ç»„æŠ€å·§ï¼Œæœ‰æ•ˆå¤„ç†äº†ä¸€ç³»åˆ—åŒºé—´æŸ¥è¯¢ã€‚ä¼˜åŒ–åçš„ä»£ç ç®€æ´æ˜äº†ï¼Œä¿ç•™äº†å…³é”®çš„ç®—æ³•æ€è·¯ï¼ŒåŒæ—¶å»é™¤äº†å†—ä½™å’Œå¤æ‚çš„éƒ¨åˆ†ã€‚


a[i] = a[n + i] = idx_map[a[i]] è¿™è¡Œä»£ç ä¸­çš„ä¸¤ä¸ªç­‰å·å®ç°äº†é“¾å¼èµ‹å€¼çš„æ“ä½œã€‚

é“¾å¼èµ‹å€¼çš„åŸç†
é“¾å¼èµ‹å€¼çš„å«ä¹‰æ˜¯ä»å³åˆ°å·¦ä¾æ¬¡è¿›è¡Œèµ‹å€¼ã€‚å…·ä½“åˆ°è¿™è¡Œä»£ç ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š

æœ€å³ä¾§çš„è¡¨è¾¾å¼è®¡ç®—ï¼šé¦–å…ˆè®¡ç®—å³ä¾§çš„è¡¨è¾¾å¼ï¼Œå³ idx_map[a[i]]ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚

èµ‹å€¼ç»™æœ€å·¦ä¾§çš„å˜é‡ï¼šå°†è¿™ä¸ªå€¼èµ‹ç»™ a[n + i]ã€‚

ç»§ç»­èµ‹å€¼ç»™å·¦ä¾§çš„å¦ä¸€ä¸ªå˜é‡ï¼šæ¥ç€å°†è¿™ä¸ªå€¼èµ‹ç»™ a[i]ã€‚

å…·ä½“ä½œç”¨
æ‰€ä»¥ï¼Œè¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯ï¼š

å…ˆè®¡ç®— idx_map[a[i]]ï¼Œè¿™ä¸ªè¡¨è¾¾å¼å°† a[i] çš„å€¼æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„ç´¢å¼•å€¼ã€‚
ç„¶åï¼Œå°†è¿™ä¸ªæ–°ç´¢å¼•å€¼åŒæ—¶èµ‹å€¼ç»™ a[i] å’Œ a[n + i]ã€‚


å‡è®¾ï¼š

n = 5
i = 2
idx_map[a[i]] = 10
é‚£ä¹ˆæ‰§è¡Œ a[i] = a[n + i] = idx_map[a[i]] åï¼Œa[2] å’Œ a[7] éƒ½ä¼šè¢«èµ‹å€¼ä¸º 10ã€‚

ä½œç”¨
è¿™ä¸ªæ“ä½œçš„ä¸»è¦ç›®çš„æ˜¯å°†æ•°ç»„ a ä¸­ç¬¬ i ä¸ªä½ç½®çš„å€¼æ›´æ–°ä¸º idx_map æ˜ å°„åçš„æ–°å€¼ï¼Œå¹¶ä¸”åŒæ—¶æ›´æ–°æ•°ç»„ a ä¸­ç¬¬ n + i ä¸ªä½ç½®çš„å€¼ä¸ºç›¸åŒçš„å€¼ã€‚è¿™åœ¨ç®—æ³•ä¸­å¯èƒ½ç”¨äºæ„é€ åŒå€æ•°ç»„æˆ–è¿›è¡Œæ•°æ®å‹ç¼©çš„å¤„ç†ã€‚

x & -x æ˜¯ä¸€ä¸ªå¸¸è§çš„äºŒè¿›åˆ¶è¿ç®—æ“ä½œï¼Œç”¨äºæå–æ•´æ•° x çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€ä½ä½çš„1æ‰€å¯¹åº”çš„å€¼ã€‚


è´Ÿæ•°çš„è¡¥ç è¡¨ç¤ºï¼š

åœ¨è®¡ç®—æœºä¸­ï¼Œè´Ÿæ•°æ˜¯ä»¥è¡¥ç å½¢å¼å­˜å‚¨çš„ã€‚å¯¹äºä¸€ä¸ªæ•´æ•° xï¼Œå®ƒçš„è´Ÿæ•° -x å¯ä»¥é€šè¿‡å–åå¹¶åŠ 1å¾—åˆ°ã€‚
ä¾‹å¦‚ï¼Œå¦‚æœ x = 6ï¼Œå®ƒçš„äºŒè¿›åˆ¶æ˜¯ 0110ã€‚-x çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ 1010ã€‚


æŒ‰ä½ä¸è¿ç®—ï¼š

& æ˜¯æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼Œå¯¹åº”ä½ç½®çš„ä¸¤ä¸ªäºŒè¿›åˆ¶ä½éƒ½ä¸º1æ—¶ï¼Œç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚
è®¡ç®— x & -xï¼š

x & -x ä¼šå°† x çš„æœ€ä½ä½çš„1ä¿ç•™ä¸‹æ¥ï¼Œå…¶ä»–ä½éƒ½å˜ä¸º0ã€‚


ä¾‹å­ 1ï¼šx = 6
x çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ 0110ã€‚
-x çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ 1010ã€‚
x & -x çš„ç»“æœï¼š
plaintext
å¤åˆ¶ä»£ç 
0110   (x)
&
1010   (-x)
----
0010   (ç»“æœ)
æ‰€ä»¥ï¼Œx & -x = 2ï¼Œå³ 0010ã€‚
ä¾‹å­ 2ï¼šx = 12
x çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ 1100ã€‚
-x çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯ 0100ã€‚
x & -x çš„ç»“æœï¼š
plaintext
å¤åˆ¶ä»£ç 
1100   (x)
&
0100   (-x)
----
0100   (ç»“æœ)
æ‰€ä»¥ï¼Œx & -x = 4ï¼Œå³ 0100ã€‚



ç”¨é€”
x & -x åœ¨ç®—æ³•ä¸­æœ‰å¤šç§ç”¨é€”ï¼Œå…¶ä¸­æœ€å¸¸è§çš„æ˜¯ï¼š

æå–æœ€ä½ä½çš„1ï¼šåœ¨æ ‘çŠ¶æ•°ç»„ï¼ˆFenwick Treeï¼‰ä¸­ï¼Œx & -x ç”¨æ¥æ‰¾åˆ°ä¸€ä¸ªä½ç½®çš„æœ€ä½ä½1ï¼Œå¸¸ç”¨äºå¿«é€Ÿå®šä½å’Œæ›´æ–°åŒºé—´ã€‚
æ£€æŸ¥æ˜¯å¦ä¸º2çš„å¹‚ï¼šå¦‚æœ x æ˜¯2çš„å¹‚ï¼Œé‚£ä¹ˆå®ƒåªæœ‰ä¸€ä¸ªäºŒè¿›åˆ¶ä½ä¸º1ï¼Œx & -x çš„ç»“æœç­‰äº x æœ¬èº«ã€‚
æ€»ç»“
x & -x æ˜¯ä¸€ä¸ªç®€å•è€Œæœ‰æ•ˆçš„æ“ä½œï¼Œå¯ä»¥å¿«é€Ÿæå–æ•´æ•°çš„æœ€ä½ä½1æ‰€åœ¨çš„å€¼ï¼Œå¹¿æ³›åº”ç”¨äºå„ç§ç®—æ³•å’Œä½è¿ç®—æ“ä½œä¸­ã€‚


ç¦»è°±



# æ·±ä¿¡æœ äº‹ååªä¼šå†™ç¬¬äºŒé¢˜
åªçŸ¥é“ dfsæ·±åº¦æœ‰é™æœç´¢ï¼ŒåŠ¨æ€è§„åˆ’         
ä¸çŸ¥é“å›æº¯æ³•      
æˆ‘ç†è§£å°±æ˜¯å¯ä»¥å›é€€ ç„¶åæ‰¾å‡ºæ‰€æœ‰å¯èƒ½        
è¿™å’Œdfsä¸å°±æ˜¯ä¸€æ ·å—ï¼Ÿ            



## ç¬¬ä¸€é¢˜
ç”¨dpç†ä¸æ¸…é€»è¾‘ï¼Œåˆ«äººä¹Ÿæœ‰å†™å‡ºéƒ¨åˆ†çš„        
ç‰›å®¢è¯´ç”¨å›æº¯æ³•ï¼Ÿèƒ½å†™å‡ºå¤§éƒ¨åˆ†           

ç±»ä¼¼lc 44é¢˜



1.åƒè±†å­ï¼Œæˆ‘ç”¨ä¸¤ä¸ªæŒ‡é’ˆå’Œcountè®¡æ•°ï¼Œä¸æ˜¯æ˜Ÿå·å°±ä¸€èµ·å‰è¿›ï¼Œæ˜¯æ˜Ÿå·å°±è·³è¿‡åŒ¹é…çš„è±†å­ï¼Œç„¶åæ˜Ÿå·åœ¨æœ«å°¾å°±é€€å‡ºï¼Œç»“æœè¿™é¢˜å°±è¿‡äº†ä¸€åŠå·¦å³ä¸çŸ¥é“ä¸ºå•¥ã€‚
2.é­”æ³•æ•°å­—ï¼Œç”¨dpå¤„ç†kä¹‹å‰çš„å’Œkä¹‹åçš„ï¼Œç»“æœä¹Ÿå°±è¿‡äº†ä¸€åŠ
3.ç–²åŠ³åº¦ç®—çš„ä¸å¤ªå¯¹ï¼Œä¹Ÿæ²¡æ—¶é—´å¤„ç†è¾“å…¥è¾“å‡ºçš„ï¼Œç»“æœæ²¡æäº¤ï¼Œç›´æ¥åšå¡«ç©ºé¢˜äº†

ç¬¬ä¸€é¢˜ä»–çš„æ€è·¯ç¡®å®ç®€å• ä½†æ˜¯è¦æ˜¯æ¶‰åŠdpæˆ‘ç›´æ¥æ‡µäº†ç¬¬ä¸€é¢˜





## ç¬¬äºŒé¢˜ 

    class Solution:
        def twoSum(self, n,k,num):
            dp = [0] * (n+1)
            for i in range(1,n+1):
                if i<k :
                    dp[i]=num[i-1]
                else:
                    dp[i] = max(dp[i-1], dp[i-k]+num[i-1])
            return dp[n]
    print(Solution().twoSum(5,2,[3,2,5,10,7]))


æ ¹æ®ç‰›å®¢åˆ«äººçš„è¯´æ³•ï¼Œç«Ÿç„¶ç¡®å®èƒ½ç¡¬ç‹—å‡ºæ¥ å¯èƒ½ä¸èƒ½ç™¾åˆ†ç™¾é€šè¿‡        
ç‰›å®¢æç¤º dp ç„¶ååˆ†æƒ…å†µ å¯¹kåˆ†æƒ…å†µ    
è‡ªå·±æƒ³å°±æ˜¯ å…ˆå†™å‡ºçŠ¶æ€è½¬ç§» ç¡¬ç¡®å®š maxåˆ†æ³•ï¼Œç›´æ¥å°±è®¾ç½®dp[i-1]ä¸ºå‰ i-1çš„æœ€å¤§


ç¬¬äºŒé¢˜å¯èƒ½å­˜åœ¨è´Ÿæ•°çš„æƒ…å†µï¼Œæ‰€ä»¥dpæ¡ä»¶æˆ‘è®¾ç½®çš„æ˜¯dp[i] = Max[å½“å‰çš„, dp[i-1]ï¼Œdp[i-k]+å½“å‰çš„]ï¼Œè¿™æ ·å°±ä»è¿‡90å˜æˆè¿‡100äº†   


åƒè±†å­æˆ‘ç”¨æ ˆå†™çš„ï¼Œè¿‡äº†78%ï¼ŒçœŸä¸çŸ¥é“å¡åœ¨å“ªé‡Œäº†     
1
å›å¤
åˆ†äº«
å‘å¸ƒäº 08-18 21:30
åŒ—äº¬
æ¥è‡ªiOSå®¢æˆ·ç«¯

èººå¹³äº†777

å›å¤
åŒæŒ‡é’ˆä¹Ÿæ˜¯aäº†78     
1
å›å¤
å‘å¸ƒäº æ˜¨å¤© 13:27
æ¹–å—

ç™½é¢ç¥å›ä¸ç™½é¢

å›å¤
å…ˆåˆ‡å‰²å­—ç¬¦ä¸²ï¼Œå†ç”¨çš„setï¼Œ78   

è¿™ä¸ªsetå¥½åƒæœ‰ç‚¹ç‰›é€¼ï¼Ÿ













## ç¬¬ä¸‰é¢˜æ®è¯´å›æº¯

æˆ‘çš„ç¬”è¯•ä¸€å…±æœ‰å››é“ç®—æ³•ã€‚ç¬¬ä¸€é“æ˜¯01èƒŒåŒ…ï¼Œç®—æ˜¯ç­¾åˆ°é¢˜å§ï¼Œé™¤äº†æè¿°ä¹‹å¤–ä¹Ÿæ²¡æœ‰æ”¹åˆ«çš„æ¡ä»¶ï¼Œæœ‰åˆ·è¿‡dpçš„åŒå­¦åº”è¯¥é—®é¢˜ä¸å¤§ã€‚è¿™ä¹Ÿæ˜¯ç¬”è¯•ä¼ ç»Ÿäº†ï¼Œç¬¬ä¸€é“é¢˜é€šå¸¸éš¾åº¦ä¸ä¼šå¤ªå¤§ï¼Œå¤§å®¶ä¸ç”¨å¤ªè¿‡äºæ‹…å¿ƒã€‚ç¬¬äºŒé“æ˜¯å¸¦æƒå›¾çš„æœ€çŸ­è·¯å¾„ï¼Œåœ¨acmæ¨¡å¼ä¸‹å›¾è®ºçš„é¢˜ç›®æ¯”è¾ƒå›°éš¾çš„å°±æ˜¯æ„å»ºäº†ï¼Œä½†æ˜¯åªè¦è€å¿ƒè¯»æ‡‚é¢˜ç›®ï¼Œæ„å»ºå‡ºé‚»æ¥è¡¨ï¼Œdfs/bfså³å¯ç ´è§£ã€‚ç¬¬ä¸‰ã€ç¬¬å››é“åˆ†åˆ«æ˜¯ä»»åŠ¡å¤„ç†å’Œæ±‰è¯ºå¡”ï¼Œè¿™é‡Œä¸å±•å¼€è®²äº†ã€‚


å¯ä»¥ç•™æ„åˆ°ï¼Œå¤šé“ç®—æ³•é¢˜çš„è§£é¢˜æ€è·¯å¤§æ¦‚ç‡æ˜¯ä¸é‡å¤çš„ï¼Œ`dpã€å›¾è®ºã€å›æº¯ã€äºŒåˆ†ã€è´ªå¿ƒã€æ ˆã€å †ã€æ ‘`éƒ½æœ‰å¯èƒ½è€ƒå¯Ÿåˆ°ï¼Œæ‰€ä»¥å¯¹äºå¦‚ä½•å‡†å¤‡ç¬”è¯•ï¼Œæˆ‘æ€»ç»“ä»¥ä¸‹è¿™å‡ ç‚¹ï¼š

1ã€å¯¹äºå¤šç±»ç®—æ³•ï¼Œå…ˆå¹¿åº¦ä¼˜å…ˆåœ°å­¦ä¹ ï¼Œæ¯ç§ç®—æ³•éƒ½ç®€å•è¿‡ä¸€éï¼Œèƒ½ç”¨è¿™äº›ç®—æ³•è§£å†³easyé¢˜ï¼Œå¯¹æ¯ä¸ªç®—æ³•æœ‰åŸºç¡€çš„æ¦‚å¿µä¹‹åï¼Œå†æ·±å…¥å­¦ä¹ æŸä¸€ç±»ç®—æ³•ï¼›

2ã€ç®—æ³•æ˜¯æ—¥ç§¯æœˆç´¯çš„ï¼ŒåŸ¹å…»ä¸€å¤©åˆ·1ï½2é“é¢˜çš„ä¹ æƒ¯

3ã€ç®—æ˜¯æˆ‘æ€»ç»“çš„å·æœºå°æŠ€å·§ï¼Œåœ¨æ—¶é—´ç´§è¿«ä¸‹ï¼Œ`é“¾è¡¨å’Œæ ‘å¯ä»¥è®¾ä¸ºä¼˜å…ˆçº§è¾ƒä½çš„ç±»å‹`ï¼Œå› ä¸ºç»“æ„çš„ç‰¹æ®Šï¼Œacmæ¨¡å¼å¾ˆå°‘ä¼šå‡ºé“¾è¡¨å’Œæ ‘ç›¸å…³çš„é¢˜ç›®ï¼Œå½“ç„¶è¿™å¹¶ä¸ç»å¯¹ï¼Œä»…å¯¹äºæ—¶é—´ç´§æ€¥æƒ…å†µã€‚


2ã€ä¸ç”¨ææƒ§æ‰‹æ’•ï¼Œæ‰‹æ’•é€šå¸¸æ¥è¯´æ˜¯æ¯”ç¬”è¯•ç®€å•çš„ï¼Œå¦‚æœç¬”è¯•èƒ½aå‡ºæ¥é¢˜ç›®ï¼Œæ‰‹æ’•æ›´ä¸æ˜¯é—®é¢˜äº†ï¼Œæˆ‘é¢è¯•è¿‡ç¨‹çš„å”¯ä¸€ä¸€é“æ‰‹æ’•æ˜¯LRUï¼Œæœ‰åˆ·ç®—æ³•çš„åŒå­¦åº”è¯¥çŸ¥é“è¿™ä¸æ˜¯ä¸€é“éš¾é¢˜ï¼›



LRU-least recently used-æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•ï¼Œæ˜¯ä¸€ç§å†…å­˜æ•°æ®æ·˜æ±°ç­–ç•¥ï¼Œä½¿ç”¨å¸¸è§æ˜¯å½“å†…å­˜ä¸è¶³æ—¶ï¼Œéœ€è¦æ·˜æ±°æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®ã€‚LRUå¸¸ç”¨è¯­ç¼“å­˜ç³»ç»Ÿçš„æ·˜æ±°ç­–ç•¥ã€‚


4.Redis LRUç®—æ³•å®ç°

åˆ†æRedis LRUå®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹Redisç¼“å­˜æ·˜æ±°ç­–ç•¥ã€‚

å½“Rediså†…å­˜è¶…å‡ºç‰©ç†å†…å­˜é™åˆ¶æ—¶ï¼Œå†…å­˜ä¼šé¢‘ç¹çš„ç£ç›˜swapåŒºäº¤æ¢æ•°æ®ï¼Œè€Œäº¤æ¢ä¼šå¯¼è‡´rediså¯¹å¤–æœåŠ¡æ€§èƒ½çš„æ€¥å‰§ä¸‹é™ï¼Œè¿™åœ¨ç”Ÿäº§ç¯å¢ƒæ˜¯ä¸å…è®¸çš„ã€‚è¯´å¾—æ›´æ˜ç™½äº›ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒæ˜¯ä¸å…è®¸äº¤æ¢è¡Œä¸ºçš„ï¼Œé€šè¿‡è®¾ç½®maxmemoryå¯é™åˆ¶å†…å­˜è¶…è¿‡æœŸæœ›å¤§å°ã€‚









## å›æº¯æ³•
å›æº¯æ³•ï¼ˆBacktrackingï¼‰æ˜¯ä¸€ç§é€šè¿‡æ¢ç´¢æ‰€æœ‰å¯èƒ½çš„å€™é€‰è§£æ¥æ‰¾å‡ºæ‰€æœ‰è§£çš„ç®—æ³•ã€‚å¦‚æœå€™é€‰è§£è¢«ç¡®è®¤ä¸æ˜¯ä¸€ä¸ªè§£ï¼ˆæˆ–è€…è‡³å°‘ä¸æ˜¯æœ€åä¸€ä¸ªè§£ï¼‰ï¼Œå›æº¯ç®—æ³•ä¼šé€šè¿‡åœ¨ä¸Šä¸€æ­¥è¿›è¡Œä¸€äº›å˜åŒ–æ¥æ’¤é”€ä¸Šä¸€æ­¥æˆ–ä¸Šå‡ æ­¥çš„è®¡ç®—ï¼Œå³é€šè¿‡â€œå›æº¯â€æ¥å°è¯•å…¶ä»–çš„å€™é€‰è§£ã€‚å›æº¯æ³•é€šå¸¸ç”¨äºè§£å†³ç»„åˆé—®é¢˜ã€æ’åˆ—é—®é¢˜ã€å­é›†é—®é¢˜ã€å›¾çš„ç€è‰²é—®é¢˜ã€æ—…è¡Œå•†é—®é¢˜ï¼ˆTSPï¼‰ç­‰ã€‚

ä¾‹å­ï¼šè§£å†³å…«çš‡åé—®é¢˜
å…«çš‡åé—®é¢˜æ˜¯ä¸€ä¸ªç»å…¸çš„é—®é¢˜ï¼Œè¦æ±‚åœ¨ä¸€ä¸ª8x8çš„`æ£‹ç›˜ä¸Šæ”¾ç½®å…«ä¸ªçš‡åï¼Œä½¿å¾—å¥¹ä»¬äº’ä¸æ”»å‡»ï¼Œå³ä»»æ„ä¸¤ä¸ªçš‡åéƒ½ä¸åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€å¯¹è§’çº¿ä¸Š`ã€‚

    è§£é¢˜æ€è·¯
    åˆå§‹åŒ–ï¼šåˆ›å»ºä¸€ä¸ª8x8çš„æ£‹ç›˜ï¼Œå¹¶åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„æ¥è®°å½•æ¯ä¸€åˆ—ä¸Šçš‡åçš„ä½ç½®ï¼ˆå³è¡Œå·ï¼‰ã€‚
    æ”¾ç½®çš‡åï¼šä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œå°è¯•åœ¨æ¯ä¸€åˆ—æ”¾ç½®çš‡åã€‚
    æ£€æŸ¥å†²çªï¼šå¯¹äºæ¯ä¸€ä¸ªæ”¾ç½®çš„çš‡åï¼Œæ£€æŸ¥å…¶æ˜¯å¦ä¸å·²æ”¾ç½®çš„çš‡åå†²çªï¼ˆåŒè¡Œã€åŒåˆ—ã€åŒå¯¹è§’çº¿ï¼‰ã€‚
    å›æº¯ï¼šå¦‚æœå½“å‰ä½ç½®æ— æ³•æ”¾ç½®çš‡åï¼ˆå³å­˜åœ¨å†²çªï¼‰ï¼Œåˆ™å›æº¯åˆ°ä¸Šä¸€è¡Œï¼Œå°è¯•åœ¨è¯¥è¡Œçš„ä¸‹ä¸€åˆ—æ”¾ç½®çš‡åã€‚å¦‚æœå½“å‰è¡Œæ‰€æœ‰åˆ—éƒ½å°è¯•å®Œæ¯•ä¸”æ— æ³•æ”¾ç½®ï¼Œåˆ™ç»§ç»­å›æº¯åˆ°ä¸Šä¸€è¡Œã€‚
    æˆåŠŸæ”¾ç½®ï¼šå¦‚æœæˆåŠŸåœ°åœ¨ç¬¬8è¡Œæ”¾ç½®äº†çš‡åï¼Œåˆ™æ‰¾åˆ°äº†ä¸€ä¸ªè§£ã€‚
    å¯»æ‰¾æ‰€æœ‰è§£ï¼šæ‰¾åˆ°ä¸€ä¸ªè§£åï¼Œå›æº¯åˆ°ä¸Šä¸€è¡Œï¼Œç»§ç»­å¯»æ‰¾å…¶ä»–å¯èƒ½çš„è§£ã€‚

    åˆå§‹åŒ–æ£‹ç›˜å’Œåˆ—ä½ç½®æ•°ç»„  
    for ç¬¬1è¡Œåˆ°ç¬¬8è¡Œ:  
        for ç¬¬1åˆ—åˆ°ç¬¬8åˆ—:  
            å¦‚æœ å½“å‰ä½ç½®å¯ä»¥æ”¾ç½®çš‡å:  
                æ”¾ç½®çš‡å  
                if å½“å‰è¡Œ == 8:  
                    æ‰¾åˆ°ä¸€ä¸ªè§£ï¼Œæ‰“å°æ£‹ç›˜  
                    å›æº¯ï¼ˆç§»é™¤å½“å‰è¡Œçš„çš‡åï¼‰  
                else:  
                    é€’å½’åˆ°ä¸‹ä¸€è¡Œ  
            å›æº¯ï¼ˆå°è¯•å½“å‰è¡Œçš„ä¸‹ä¸€åˆ—ï¼‰

é€šè¿‡å›æº¯æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç³»ç»Ÿåœ°æ¢ç´¢æ‰€æœ‰å¯èƒ½çš„æ”¾ç½®æ–¹å¼ï¼Œç›´åˆ°æ‰¾åˆ°æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„è§£ã€‚è¿™ç§æ–¹æ³•è™½ç„¶å¯èƒ½éœ€è¦æ¢ç´¢å¤§é‡çš„å€™é€‰è§£ï¼Œä½†å®ƒèƒ½ä¿è¯æ‰¾åˆ°`æ‰€æœ‰è§£`ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ã€‚


    def is_safe(board, row, col):  
        # æ£€æŸ¥åˆ—  
        for i in range(row):  # åªæ£€æŸ¥å·²æœ‰çš„ï¼Œèµ°è¿‡çš„ã€‚
            if board[i] == col:  # è¿™æ˜¯ä»€ä¹ˆï¼Ÿ boardç´¢å¼•æ˜¯è¡Œ å€¼æ˜¯åˆ— å‡è®¾0è¡Œ1åˆ—å·²æœ‰å€¼ï¼Œå½“åˆ°è¾¾1è¡Œæ—¶æ£€æŸ¥board å‘ç° for col in range(n): çš„colå…¶å®ä¸å¯ç”¨
                return False  
        
        # æ£€æŸ¥å·¦ä¸Šå¯¹è§’çº¿  
        for i, j in zip(range(row-1, -1, -1), range(col-1, -1, -1)):  # è¿™äº›è®¾ç½®å¾—æ¯”è¾ƒå·§å¦™ 
            if board[i] == j:  
                return False  
        
        # æ£€æŸ¥å³ä¸Šå¯¹è§’çº¿  
        for i, j in zip(range(row-1, -1, -1), range(col+1, len(board))):  
            if board[i] == j:  
                return False  
        
        return True  
    
    def solve_n_queens(n):  # è¿™ä¸ªå‡½æ•°å¤§æ¦‚èƒ½çœ‹æ‡‚
        def backtrack(row, board):  
            if row == n:  
                result = [''.join('Q' if j == col else '.' for j in range(n)) for col in board]  
                print('\n'.join(result))  
                return  
            
            for col in range(n):  
                if is_safe(board, row, col):  
                    board[row] = col  
                    backtrack(row + 1, board)  
                    board[row] = -1  # å›æº¯ï¼Œé‡ç½®å½“å‰è¡Œçš‡åçš„ä½ç½®  
    
        board = [-1] * n  # [-1, -1, -1, -1, -1, -1, -1, -1]
        backtrack(0, board)  
    
    # è°ƒç”¨å‡½æ•°è§£å†³8çš‡åé—®é¢˜  
    solve_n_queens(8)

åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œis_safe å‡½æ•°ç”¨äºæ£€æŸ¥åœ¨æ£‹ç›˜çš„ (row, col) ä½ç½®æ”¾ç½®çš‡åæ˜¯å¦å®‰å…¨ã€‚å®ƒæ£€æŸ¥åŒä¸€åˆ—ã€å·¦ä¸Šå¯¹è§’çº¿å’Œå³ä¸Šå¯¹è§’çº¿ä¸Šæ˜¯å¦æœ‰å…¶ä»–çš‡åã€‚

solve_n_queens å‡½æ•°æ˜¯ä¸»å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•° nï¼Œè¡¨ç¤ºæ£‹ç›˜çš„å¤§å°ï¼ˆn x nï¼‰ã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨å‡½æ•° backtrackï¼Œè¯¥å‡½æ•°é€’å½’åœ°å°è¯•åœ¨æ¯ä¸€è¡Œæ”¾ç½®çš‡åï¼Œå¹¶ä½¿ç”¨ board åˆ—è¡¨æ¥è·Ÿè¸ªæ¯ä¸€è¡Œçš‡åçš„åˆ—ä½ç½®ã€‚å¦‚æœæˆåŠŸåœ°åœ¨ç¬¬ n è¡Œæ”¾ç½®äº†çš‡åï¼Œåˆ™æ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå¹¶å°†å…¶æ‰“å°å‡ºæ¥ã€‚ç„¶åï¼Œå®ƒå›æº¯åˆ°ä¸Šä¸€è¡Œï¼Œå°è¯•å…¶ä»–å¯èƒ½çš„åˆ—ä½ç½®ã€‚

æœ€åï¼Œsolve_n_queens(8) è°ƒç”¨ç”¨äºè§£å†³8çš‡åé—®é¢˜ï¼Œå¹¶æ‰“å°å‡ºæ‰€æœ‰å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨Pythonå®ç°çš„å…«çš‡åé—®é¢˜çš„å…·ä½“ä»£ç ç¤ºä¾‹ã€‚è¿™ä¸ªç¤ºä¾‹ä½¿ç”¨äº†å›æº¯æ³•æ¥æ‰¾åˆ°æ‰€æœ‰å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶å°†æ¯ä¸ªè§£å†³æ–¹æ¡ˆæ‰“å°åˆ°æ§åˆ¶å°ä¸Šã€‚


    Q.......
    ....Q...
    .......Q
    .....Q..
    ..Q.....
    ......Q.
    .Q......
    ...Q....
    Q.......
    .....Q..
    .......Q
    ..Q.....
    ......Q.
    ...Q....

# åä¸º
åä¸ºçš„ç¬”è¯•æ¨¡æ‹Ÿé¢˜çš„æ¯”ä¾‹éå¸¸å¤§ï¼Œå¯¹äºç†è§£èƒ½åŠ›è¦æ±‚æ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥è¯»é¢˜ä¸€å®šè¦ååˆ†ä»”ç»†ã€‚è¿™ä¸¤å¹´åä¸ºçš„offerå«é‡‘é‡ä¸Šå‡å¤§å®¶ä¹Ÿéƒ½çŸ¥é“ï¼Œhcæ•°é‡ä¹Ÿä¸ä¼šå¤ªå°‘ï¼Œè¿˜æ˜¯è¦è®¤çœŸå¯¹å¾…çš„ã€‚

æœ¬æ¬¡ç¬”è¯•éš¾åº¦é€‚ä¸­ï¼Œä½†ä¾æ—§æ˜¯åä¸ºæ¯”è¾ƒæ˜æ˜¾çš„é£æ ¼ï¼Œä»£ç ä¸æ˜¯å¤ªå¥½å†™ã€‚

ç¬¬1é¢˜æ˜¯æ¯”è¾ƒåŸºç¡€çš„æ¨¡æ‹Ÿé¢˜ï¼Œç†è§£å¥½é¢˜ç›®ï¼Œè¿›è¡Œæ¨¡æ‹Ÿæ“ä½œå³å¯ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„é‡Œé¢çš„ä¸€äº›ç‰¹æ®Šè¦æ±‚ï¼Œå¦åˆ™å¾ˆå®¹æ˜“æ²¡åˆ†ã€‚

ç¬¬2é¢˜ä¹Ÿæ˜¯åå‘äºæ¨¡æ‹Ÿçš„é¢˜ï¼Œä½†å…¶ä¸­æœ‰ä¸€ä¸ªæ€ç»´çš„å°ç‚¹éœ€è¦ååº”å¾—è¿‡æ¥ï¼Œå¦åˆ™ä¹Ÿå¾ˆå®¹æ˜“æ‹¿ä¸åˆ°å¤§çš„åˆ†æ•°ã€‚

ç¬¬3é¢˜åˆ™æ˜¯ä¸€ä¸ªæš´åŠ›è§£çš„é¢˜ç›®ï¼Œæšä¸¾çš„æ€è·¯æ¯”è¾ƒç¹çï¼Œä½†æ˜¯éš¾åº¦ä¹Ÿä¸å¤§çš„ï¼Œæ³¨æ„å¥½æœ‰æ•ˆçš„å‰ªæå³å¯ã€‚(è¿™ä¸€é¢˜å¯ä»¥å‚è€ƒç±³å“ˆæ¸¸20240813çš„ç¬¬äºŒé¢˜)

## ç¬¬1é¢˜ nums = [int(c) for c in input().split()] ã€‚ä½¿ç”¨set TypeError: unhashable type: 'list'ã€‚listä¸èƒ½ç›´æ¥å½“æˆsetæˆ–å­—å…¸çš„é”®ï¼Œåªèƒ½å½“å€¼

æ•°æ®é‡åˆ 
æ•°æ®é‡åˆ æ˜¯ä¸€ç§èŠ‚çº¦å­˜å‚¨ç©ºé—´çš„æŠ€æœ¯ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨æ•°æ®å­˜å‚¨æ± å†…æ˜¯æœ‰å¾ˆå¤šé‡å¤çš„æ•°æ®å—ï¼Œé‡åˆ åˆ™æ˜¯å°†è¿™äº›é‡å¤çš„æ•°æ®å—æ‰¾å‡ºå¹¶å¤„ç†çš„æŠ€æœ¯ã€‚ç®€å•åœ°è¯´é‡åˆ ï¼Œå°±æ˜¯å°†Nä»½é‡å¤çš„æ•°æ®å—ä»…ä¿ç•™1ä»½ï¼Œå¹¶å°†N-1ä»½æ•°æ®çš„åœ°å€æŒ‡é’ˆæŒ‡å‘å”¯ä¸€çš„é‚£ä¸€ä»½ã€‚ æˆ‘ä»¬è¾“å…¥ä¸€ä¸²å­˜å‚¨çš„æ•°æ®ï¼Œç”¨Nè¡¨ç¤ºæ•°æ®ä¸ªæ•°ï¼Œç”¨Kè¡¨ç¤ºæ•°æ®å—çš„å¤§å°ï¼Œè®¾è®¡ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­å½“å‰æ•°æ®å—æ˜¯å¦å’Œå‰é¢çš„æ•°æ®å—æœ‰é‡å¤ï¼Œä¸¤ä¸ªæ•°æ®å—å†…å®¹å®Œå…¨ä¸€æ ·åˆ™è¡¨ç¤ºé‡å¤ï¼Œå¦‚æœé‡å¤åˆ™å°†è¿™ä¸ªæ•°æ®å—åˆ é™¤ï¼Œå¹¶ä¸”åœ¨ç¬¬ä¸€ä¸ªå‡ºç°æ•°æ®å—çš„åé¢å¢åŠ é‡å¤æ•°æ®çš„è®¡æ•°ï¼Œè¾“å‡ºç»è¿‡é‡åˆ ä¹‹åçš„æ•°æ®å†…å®¹ã€‚

è¾“å…¥
8 è¾“å…¥æ•°æ®çš„ä¸ªæ•° 2 æ•°æ®å—çš„å¤§å° 1 2 3 4 1 2 3 4 ä¾æ¬¡æ˜¯æ•°æ®å€¼

æ³¨æ„ï¼š è¾“å…¥çš„æ•°æ®å€¼éƒ½æ˜¯æ­£æ•´æ•° 1 <= K <= 10^6 1<= N <= 10^2

è¾“å‡º
1 2 2 3 4 2 è¾“å‡ºç»“æœä¸ºå»é™¤é‡å¤æ•°æ®åçš„ç»“æœï¼Œè¾“å‡ºç»“æœæœ€åæ²¡æœ‰ç©ºæ ¼ï¼Œä»¥æ•°å­—ç»“å°¾ï¼Œè¾“å‡ºå†…å®¹ä¸æ”¹å˜è¾“å…¥æ•°æ®å—çš„é¡ºåº

æ ·ä¾‹1
è¾“å…¥ï¼š

    8 
    2 
    1 2 3 4 1 2 3 4
è¾“å‡ºï¼š

    1 2 2 3 4 2
è§£é‡Šï¼š

æ€»å…±8ä¸ªæ•°æ®ï¼Œæ•°æ®å—çš„å¤§å°ä¸º2ï¼ŒæŒ‰ç…§çª—å£2è¿›è¡Œåˆ‡ç‰‡è¡¨ç¤ºä¸€ä¸ªæ•°æ®å—ï¼Œåˆ†åˆ«å¾—åˆ°æ•°æ®å—ä¸º [1, 2]ï¼Œ[3, 4]ï¼Œ[1, 2]ï¼Œ[3, 4]ã€‚å…¶ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å—å’Œç¬¬ä¸‰ä¸ªæ•°æ®å—ç›¸åŒï¼Œç¬¬äºŒä¸ªæ•°æ®å—å’Œç¬¬å››ä¸ªæ•°æ®å—ç›¸åŒï¼Œå¯ä»¥åˆ†åˆ«è¿›è¡Œé‡åˆ ã€‚é‡åˆ ä¹‹åæ•°æ®å—[1,2]çš„è®¡æ•°å˜ä¸º2ï¼Œè¡¨ç¤ºæœ‰ä¸¤ä¸ªç›¸åŒçš„æ•°æ®å—[1,2]ï¼›åŒç†[3,4]çš„æ•°æ®å—è®¡æ•°ä¹Ÿå˜ä¸º2

æ ·ä¾‹2
è¾“å…¥ï¼š

    8 
    3 
    3 4 5 3 4 5 5 4
è¾“å‡ºï¼š

    3 4 5 2 5 4 1
è§£é‡Šï¼š

æ€»å…±8ä¸ªæ•°æ®ï¼Œæ•°æ®å—çš„å¤§å°ä¸º3ï¼ŒæŒ‰ç…§çª—å£3è¿›è¡Œåˆ‡ç‰‡è¡¨ç¤ºä¸€ä¸ªæ•°æ®å—ï¼Œåˆ†åˆ«å¾—åˆ°æ•°æ®å—ä¸º [3, 4, 5]ï¼Œ[3, 4, 5]ï¼Œ[5, 4]ï¼Œå…¶ä¸­ [3, 4, 5] å’Œ [3, 4, 5] æ˜¯é‡å¤çš„çª—å£ï¼Œå¯ä»¥è¿›è¡Œé‡åˆ ã€‚é‡åˆ ä¹‹åæ•°æ®å—[3,4,5]çš„è®¡æ•°å˜ä¸º2ï¼Œç”±äºå‰©ä½™æ•°æ®å—ä¸æ»¡è¶³3ä¸ªè¿ç»­æ•°æ®ï¼Œæ‰€ä»¥ä¸‹ä¸€ä¸ªæ•°æ®å—åªåŒ…å« [5, 4]ï¼Œ[5,4]å’Œå‰é¢çš„æ•°æ®å—ä¸åŒï¼Œæ‰€ä»¥ä¿ç•™ä¸‹æ¥ï¼Œåªæœ‰ä¸€ä»½ã€‚


å…ˆç›´æ¥inputè¯»split mapè½¬int list       
ç„¶åæ ¹æ® ç¬¬äºŒä¸ªæ•° åˆ’åˆ†ç¬¬ä¸‰ç»„æ•°      
æ„æˆæ–°list å–set?     
å¯ä»¥ç›´æ¥forå¾ªç¯è®¡æ•°        

    print(set([[1,2],[1,2],[2]]))
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: unhashable type: 'list'

æ€è·¯ä¸ä»£ç 

å“ˆå¸Œè¡¨æ¨¡æ‹Ÿã€‚

é¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œç”¨pythonå¤„ç†èµ·æ¥ä¼šæ–¹ä¾¿å¤ªå¤šäº†ã€‚å¤§ä½“çš„æ€æƒ³å°±æ˜¯æŒ‰ç…§é¢˜ç›®è¦æ±‚å»æˆªå–å­—ç¬¦ä¸²ï¼Œç„¶åç”¨å“ˆå¸Œè¡¨æ¥ç»Ÿè®¡å‡ºç°æ¬¡æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦ç»Ÿè®¡æ¯ä¸ªæ•°æ®å—ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œæœ€åçš„è¾“å‡ºç»“æœéœ€è¦æŒ‰ç…§è¿™ä¸ªä¸‹æ ‡æ¥æ’åºã€‚ï¼ˆæœ€åä¸è¦æœ‰ç©ºæ ¼æˆ–è€…æ¢è¡Œç¬¦ï¼‰

éœ€è¦ç»Ÿè®¡æ¯ä¸ªæ•°æ®å—ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡       
ä¹Ÿä¸æ˜¯ä¸è¡Œ

    N = int(input())
    blk = int(input())
    nums = [int(c) for c in input().split()]

    res = {}

    for i in range(0, N, blk):æŒºè®²ç©¶
        cur_blk = nums[i:i + blk]
        tp = tuple(cur_blk) # 
        if tp not in res:
            res[tp] = [i, 1]  # ä¸‹æ ‡ã€å‡ºç°æ¬¡æ•°
        else:
            res[tp][1] += 1

        æŒºå¥½çš„

    sorted_res = sorted(res.items(), key=lambda x: x[1][0]) å«ä¹‰æœªçŸ¥
    ans = []
    for key, value in sorted_res:
        ans.extend(key)  # å°†æ•´ä¸ªæ•°æ®å—åŠ å…¥ç»“æœ
        ans.append(value[1])  # åŠ å…¥è®¡æ•°

    print(' '.join(map(str, ans)))

è®²ç©¶

    res = {}
    tp = tuple([1]) #   
    res[tp] = [1, 1] 
    print(res)

{(1,): [1, 1]}


    res = {}
    tp = [12] 
    res[tp] = [1, 1] 
    print(res)
    print(a)


    res[tp] = [1, 1]
    ~~~^^^^
TypeError: unhashable type: 'list'

æœç„¶listä¸èƒ½ç›´æ¥å½“æˆsetæˆ–å­—å…¸çš„é”®ï¼Œåªèƒ½å½“å€¼


1 2 2 3 4 2 è¾“å‡ºç»“æœä¸ºå»é™¤é‡å¤æ•°æ®åçš„ç»“æœï¼Œè¾“å‡ºç»“æœæœ€åæ²¡æœ‰ç©ºæ ¼ï¼Œä»¥æ•°å­—ç»“å°¾ï¼Œè¾“å‡ºå†…å®¹ä¸æ”¹å˜è¾“å…¥æ•°æ®å—çš„é¡ºåº

éœ€è¦ç»Ÿè®¡æ¯ä¸ªæ•°æ®å—ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œæœ€åçš„è¾“å‡ºç»“æœéœ€è¦æŒ‰ç…§è¿™ä¸ªä¸‹æ ‡æ¥æ’åºã€‚ï¼ˆæœ€åä¸è¦æœ‰ç©ºæ ¼æˆ–è€…æ¢è¡Œç¬¦ï¼‰

![alt text](assets_picture/ç‰›å®¢é¢˜/image-12.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-13.png)

å­—å…¸è¿›å…¥sortedç«Ÿç„¶å˜æˆå…ƒç»„

å‡ºæ¥åæ˜¯listå’Œå¥—çš„æ–°å…ƒç»„

![alt text](assets_picture/ç‰›å®¢é¢˜/image-14.png)

å…ƒç»„ç«Ÿç„¶ä¹Ÿèƒ½åƒlistä¸€æ ·è¢«extend


## ç¬¬2é¢˜


DevOpsä»»åŠ¡è°ƒåº¦
æŸDevopsç³»ç»Ÿæœ‰ä¸€æ‰¹å¹¶å‘ä»»åŠ¡éœ€è¦åŒ¹é…åˆé€‚çš„æ‰§è¡Œæœºè°ƒåº¦æ‰§è¡Œï¼Œä»»åŠ¡å’Œæ‰§è¡Œæœºéƒ½å…·æœ‰CPUå‹ï¼ˆç”¨0è¡¨ç¤ºï¼‰å’ŒIOå‹ï¼ˆç”¨1è¡¨ç¤ºï¼‰çš„åŒºåˆ«ï¼Œæ­¤å¤–è¿˜æœ‰ä¸€ç§é€šç”¨å‹æ‰§è¡Œæœºï¼ˆç”¨2è¡¨ç¤ºï¼‰ï¼Œä¸€æ‰¹ä»»åŠ¡å’Œæ‰§è¡Œæœºçš„ç±»å‹åˆ†åˆ«ç”¨æ•°ç»„tasksã€machinesè¡¨ç¤ºï¼Œtasks[i]è¡¨ç¤ºç¬¬iä¸ªä»»åŠ¡ï¼Œmachines[i]è¡¨ç¤ºæ‰§è¡Œæœºçš„ç±»å‹ã€‚æ¯å°CPUå‹ã€IOå‹æ‰§è¡Œæœºåªèƒ½æ‰§è¡Œä¸€ä¸ªå¯¹åº”ç±»å‹çš„ä»»åŠ¡ï¼Œè€Œé€šç”¨å‹æ‰§è¡Œæœºæ—¢èƒ½æ‰§è¡ŒCPUç±»å‹ä»»åŠ¡ä¹Ÿèƒ½æ‰§è¡ŒIOç±»å‹ä»»åŠ¡ã€‚

å‡è®¾ç°æœ‰çš„åŒ¹é…ç­–ç•¥å¦‚ä¸‹: ä»»åŠ¡éœ€è¦æŒ‰ç…§ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ä¾æ¬¡åŒ¹é…æ‰§è¡Œæœºï¼ˆi=0ä¼˜å…ˆçº§æœ€é«˜ï¼‰,å› æ­¤æ¯ä¸€è½®é€‰æ‹©ä»»åŠ¡æ•°ç»„å¤´éƒ¨(i=0)çš„ä»»åŠ¡å»åŒ¹é…ç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ï¼ˆi=0ï¼‰çš„æ‰§è¡Œæœºï¼Œè‹¥ä»»åŠ¡ä¸æ‰§è¡Œæœºç±»å‹åŒ¹é…ï¼Œåˆ™ä»£è¡¨è¯¥ä»»åŠ¡è°ƒåº¦æˆåŠŸï¼ŒæŠŠè¯¥æ‰§è¡Œæœºä»ç©ºç½®æ‰§è¡Œæœºæ•°ç»„ä¸­ç§»é™¤ã€‚è‹¥ä»»åŠ¡ä¸æ‰§è¡Œæœºçš„ç±»å‹ä¸åŒ¹é…ï¼Œåˆ™å°†æ‰§è¡Œæœºæ”¾åˆ°æ‰§è¡Œæœºæ•°ç»„å°¾éƒ¨ï¼Œå¾ªç¯è¯¥è¿‡ç¨‹ç›´åˆ°ä»»åŠ¡å…¨éƒ¨åŒ¹é…æˆåŠŸæˆ–å½“å‰ä»»åŠ¡æ— æ³•è¢«æ‰€æœ‰å‰©ä½™ç©ºç½®æ‰§è¡ŒæœºåŒ¹é…ã€‚

ç°è§„å®šä»»æ„æ—¶åˆ»éƒ½å¯ä»¥é€‰æ‹©ä½¿ç”¨é€šç”¨æ‰§è¡Œæœºï¼Œä½†ä¸€æ—¦é€‰æ‹©å°†æŸä¸ªç±»å‹çš„ä»»åŠ¡åŒ¹é…é€šç”¨å‹æ‰§è¡Œæœºï¼Œåˆ™æ‰€æœ‰é€šç”¨å‹æœºå™¨éƒ½åªèƒ½ç”¨äºæ‰§è¡Œè¯¥ç±»å‹çš„ä»»åŠ¡ï¼Œä¸ºäº†é¿å…ä»»åŠ¡æ’é˜Ÿé˜»å¡ï¼Œè¯·è¿”å›ç°æœ‰åŒ¹é…ç­–ç•¥ä¸‹å‰©ä¸‹çš„æœ€å°ç©ºç½®æ‰§è¡Œæœºæ•°é‡ã€‚


è¾“å…¥
è¾“å…¥å…±3è¡Œ
é¦–è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°nï¼Œè¡¨ç¤ºä»»åŠ¡æ•°é‡ä»¥åŠæ‰§è¡Œæœºæ•°é‡
ç¬¬2è¡ŒåŒ…å«nä¸ªæ•´æ•°ï¼Œä»¥ç©ºæ ¼åˆ†éš”ï¼Œè¡¨ç¤ºä¸ºä»»åŠ¡æ•°ç»„tasks
ç¬¬3è¡ŒåŒ…å«nä¸ªæ•´æ•°ï¼Œä»¥ç©ºæ ¼åˆ†éš”ï¼Œè¡¨ç¤ºä¸ºç©ºç½®æ‰§è¡Œæœºæ•°ç»„machines
æ•°æ®èŒƒå›´ï¼š1<=n<=100, 0<=tasks[i]<=1ï¼Œ0<=machines[i]<=2ã€‚
è¾“å‡º
ä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨å½“å‰åŒ¹é…ç­–ç•¥ä¸‹å‰©ä¸‹çš„æœ€å°ç©ºç½®æ‰§è¡Œæœºæ•°é‡ã€‚

æ ·ä¾‹1
è¾“å…¥ï¼š

    3 
    1 0 1 
    1 2 0
è¾“å‡ºï¼š

    0
è§£é‡Šï¼š

ç¬¬ä¸€è½® ä»»åŠ¡æ•°ç»„å¤´éƒ¨ç±»å‹1ï¼Œç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ç±»å‹1ï¼ŒåŒ¹é…æˆåŠŸï¼Œä»»åŠ¡æ•°ç»„å˜ä¸º[0, 1],ç©ºç½®æ‰§è¡Œæœºæ•°ç»„å˜ä¸º[2, 0] ç¬¬äºŒè½® ä»»åŠ¡æ•°ç»„å¤´éƒ¨ç±»å‹0ï¼Œç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ç±»å‹2ï¼Œè‹¥ä¸é€‰æ‹©ç±»å‹2çš„æ‰§è¡Œæœºæ‰§è¡Œç±»å‹0çš„ä»»åŠ¡ï¼Œå°†æ‰§è¡Œæœºæ”¾å›æ•°ç»„å°¾éƒ¨ï¼Œä»»åŠ¡æ•°ç»„ä¸å˜ä¸º[0, 1],ç©ºç½®æ‰§è¡Œæœºæ•°ç»„å˜ä¸º[0, 2] ç¬¬ä¸‰è½® ä»»åŠ¡æ•°ç»„å¤´éƒ¨ç±»å‹0ï¼Œç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ç±»å‹0ï¼ŒåŒ¹é…æˆåŠŸï¼Œä»»åŠ¡æ•°ç»„å˜ä¸º[1],ç©ºç½®æ‰§è¡Œæœºæ•°ç»„å˜ä¸º[2] ç¬¬å››è½® ä»»åŠ¡æ•°ç»„å¤´éƒ¨ç±»å‹1ï¼Œç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ç±»å‹2ï¼Œä»»åŠ¡ç±»å‹1é€‰æ‹©åŒ¹é…æ‰§è¡Œæœºç±»å‹2ï¼Œå› æ­¤å‰©ä¸‹çš„æœ€å°ç©ºç½®æ‰§è¡Œæœºæ•°é‡ä¸º0

æ ·ä¾‹2
è¾“å…¥ï¼š

    4 
    1 0 1 1 
    1 0 2 0 
è¾“å‡ºï¼š

    1
è§£é‡Šï¼š

ç¬¬ä¸€è½® ä»»åŠ¡æ•°ç»„å¤´éƒ¨ç±»å‹1ï¼Œç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ç±»å‹1ï¼Œè°ƒåº¦æˆåŠŸï¼Œä»»åŠ¡æ•°ç»„å˜ä¸º[0,1,1],ç©ºç½®æ‰§è¡Œæœºæ•°ç»„å˜ä¸º[0,2,0] ç¬¬äºŒè½® ä»»åŠ¡æ•°ç»„å¤´éƒ¨ç±»å‹0ï¼Œç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ç±»å‹0ï¼Œè°ƒåº¦æˆåŠŸï¼Œä»»åŠ¡æ•°ç»„å˜ä¸º[1,1],ç©ºç½®æ‰§è¡Œæœºæ•°ç»„å˜ä¸º[2,0] ç¬¬ä¸‰è½® ä»»åŠ¡æ•°ç»„å¤´éƒ¨ç±»å‹1ï¼Œç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ç±»å‹2ï¼Œç±»å‹1çš„ä»»åŠ¡é€‰æ‹©åŒ¹é…ç±»å‹2çš„æ‰§è¡Œæœºï¼Œä»»åŠ¡æ•°ç»„å˜ä¸º[1],ç©ºç½®æ‰§è¡Œæœºæ•°ç»„å˜ä¸º[0] ç¬¬å››è½® ä»»åŠ¡æ•°ç»„å¤´éƒ¨ç±»å‹1ï¼Œç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ç±»å‹0ï¼Œæ— æ³•åŒ¹é…ï¼Œå‰©ä¸‹çš„æœ€å°ç©ºç½®æ‰§è¡Œæœºæ•°é‡ä¸º1

ä»»åŠ¡å’Œæ‰§è¡Œæœºéƒ½å…·æœ‰CPUå‹ï¼ˆç”¨0è¡¨ç¤ºï¼‰å’ŒIOå‹ï¼ˆç”¨1è¡¨ç¤ºï¼‰çš„åŒºåˆ«ï¼Œæ­¤å¤–è¿˜æœ‰ä¸€ç§é€šç”¨å‹æ‰§è¡Œæœºï¼ˆç”¨2è¡¨ç¤ºï¼‰ï¼Œä¸€æ‰¹ä»»åŠ¡å’Œæ‰§è¡Œæœºçš„ç±»å‹åˆ†åˆ«ç”¨æ•°ç»„tasksã€machinesè¡¨ç¤ºï¼Œtasks[i]è¡¨ç¤ºç¬¬iä¸ªä»»åŠ¡ï¼Œmachines[i]è¡¨ç¤ºæ‰§è¡Œæœºçš„ç±»å‹ã€‚æ¯å°CPUå‹ã€IOå‹æ‰§è¡Œæœºåªèƒ½æ‰§è¡Œä¸€ä¸ªå¯¹åº”ç±»å‹çš„ä»»åŠ¡ï¼Œè€Œé€šç”¨å‹æ‰§è¡Œæœºæ—¢èƒ½æ‰§è¡ŒCPUç±»å‹ä»»åŠ¡ä¹Ÿèƒ½æ‰§è¡ŒIOç±»å‹ä»»åŠ¡ã€‚

çœ‹èµ·æ¥ç›´æ¥éå†åˆ—è¡¨å†™åŒ¹é…å°±è¡Œäº† ä¸è¡Œå°±åˆ‡ç‰‡å»æ‰ç„¶åappend


å‡è®¾ç°æœ‰çš„åŒ¹é…ç­–ç•¥å¦‚ä¸‹: ä»»åŠ¡éœ€è¦æŒ‰ç…§ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ä¾æ¬¡åŒ¹é…æ‰§è¡Œæœºï¼ˆi=0ä¼˜å…ˆçº§æœ€é«˜ï¼‰,å› æ­¤æ¯ä¸€è½®é€‰æ‹©ä»»åŠ¡æ•°ç»„å¤´éƒ¨(i=0)çš„ä»»åŠ¡å»åŒ¹é…ç©ºç½®æ‰§è¡Œæœºæ•°ç»„å¤´éƒ¨ï¼ˆi=0ï¼‰çš„æ‰§è¡Œæœºï¼Œè‹¥ä»»åŠ¡ä¸æ‰§è¡Œæœºç±»å‹åŒ¹é…ï¼Œåˆ™ä»£è¡¨è¯¥ä»»åŠ¡è°ƒåº¦æˆåŠŸï¼ŒæŠŠè¯¥æ‰§è¡Œæœºä»ç©ºç½®æ‰§è¡Œæœºæ•°ç»„ä¸­ç§»é™¤ã€‚è‹¥ä»»åŠ¡ä¸æ‰§è¡Œæœºçš„ç±»å‹ä¸åŒ¹é…ï¼Œåˆ™å°†æ‰§è¡Œæœºæ”¾åˆ°æ‰§è¡Œæœºæ•°ç»„å°¾éƒ¨ï¼Œå¾ªç¯è¯¥è¿‡ç¨‹ç›´åˆ°ä»»åŠ¡å…¨éƒ¨åŒ¹é…æˆåŠŸæˆ–å½“å‰ä»»åŠ¡æ— æ³•è¢«æ‰€æœ‰å‰©ä½™ç©ºç½®æ‰§è¡ŒæœºåŒ¹é…ã€‚

ç°è§„å®šä»»æ„æ—¶åˆ»éƒ½å¯ä»¥é€‰æ‹©ä½¿ç”¨é€šç”¨æ‰§è¡Œæœºï¼Œä½†ä¸€æ—¦é€‰æ‹©å°†æŸä¸ªç±»å‹çš„ä»»åŠ¡åŒ¹é…é€šç”¨å‹æ‰§è¡Œæœºï¼Œåˆ™æ‰€æœ‰é€šç”¨å‹æœºå™¨éƒ½åªèƒ½ç”¨äºæ‰§è¡Œè¯¥ç±»å‹çš„ä»»åŠ¡ï¼Œä¸ºäº†é¿å…ä»»åŠ¡æ’é˜Ÿé˜»å¡ï¼Œè¯·è¿”å›ç°æœ‰åŒ¹é…ç­–ç•¥ä¸‹å‰©ä¸‹çš„æœ€å°ç©ºç½®æ‰§è¡Œæœºæ•°é‡ã€‚


å¥½åƒè¿˜æ˜¯æœ‰éš¾åº¦çš„ å› ä¸º2çš„å­˜åœ¨ è€Œä¸”2ä¼šå˜èº«

ç„¶åä¼˜å…ˆçº§å…¶å®ä¹Ÿä¸å¤ªæ˜ç™½


æ€è·¯ä¸ä»£ç 

æšä¸¾+é˜Ÿåˆ—æ¨¡æ‹Ÿã€‚

æ ¸å¿ƒæ˜¯è¿™å¥è¯ï¼šå¯¹äºé€šç”¨æ€§çš„æœºå™¨2ï¼Œæ— éå°±ä¸¤ç§é€‰æ‹©ï¼šæ”¹æˆ0æˆ–è€…æ”¹æˆ1ï¼Œæˆ‘ä»¬å°è¯•ä¸¤ç§æ–¹æ¡ˆï¼Œå–æœ€å°å€¼å³å¯ã€‚


è¿™å¥è¯çœ‹ä¸æ˜ç™½         
æ¨¡æ‹Ÿçš„è¿‡ç¨‹å¯ä»¥ç”¨ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—æ¥è¿›è¡Œï¼Œåªè¦å½“å‰ä»»åŠ¡ä¸å½“å‰æ‰§è¡Œæœºä¸åŒ¹é…ï¼Œé‚£ä¹ˆå°±æŠŠæ‰§è¡Œæœºæ¢åˆ°é˜Ÿå°¾ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ€å¤šæ‰§è¡Œçš„æ¬¡æ•°ä¸å¾—è¶…è¿‡å½“å‰æ‰§è¡Œæœºçš„é˜Ÿåˆ—é•¿åº¦ã€‚æœ€åè¿”å›æ‰§è¡Œæœºé˜Ÿåˆ—çš„å‰©ä½™é•¿åº¦å³å¯ï¼Œå› ä¸ºæ— æ³•åŒ¹é…çš„æœºå™¨å°±ç­‰ä»·äºæ— æ³•åŒ¹é…çš„ä»»åŠ¡ã€‚


    from collections import deque

    n = int(input())
    tasks = [int(c) for c in input().split()]
    machines = [int(c) for c in input().split()]

    # ä¸¤ç§é€‰æ‹©ï¼Œè¦ä¹ˆè½¬0ï¼Œè¦ä¹ˆè½¬1

    def solve(machines):
        machines = deque(machines)
        for i, task in enumerate(tasks):
            cnt = 0
            while cnt <= len(machines) and task != machines[0]:
                left = machines.popleft()
                machines.append(left)
                cnt += 1

            if cnt >= len(machines):
                break
            if task == machines[0]:
                machines.popleft()
        return len(machines)


    print(min(solve([0 if x == 2 else x for x in machines]) , solve([1 if x == 2 else x for x in machines])))

    # ä¸¤ç§é€‰æ‹©ï¼Œè¦ä¹ˆè½¬0ï¼Œè¦ä¹ˆè½¬1

ä»–ç›´æ¥æŠŠä¸¤ç§é€‰æ‹©ç»“æœå…¨éƒ¨ç®—å‡ºæ¥ å–min

æŠŠä»¥ä¸‹é—®é¢˜è§£å†³
å¥½åƒè¿˜æ˜¯æœ‰éš¾åº¦çš„ å› ä¸º2çš„å­˜åœ¨ è€Œä¸”2ä¼šå˜èº«

ç„¶ååˆå…¨éƒ¨ç®—ç§»åŠ¨æ¬¡æ•° åªè¦ç§»åŠ¨æ¬¡æ•°ä¸è¶…è¿‡å‰©ä½™é•¿åº¦å°±ç›´è‡³ç§»åŠ¨

é¢˜ç›®ä¹Ÿæ²¡è¯´æ•°æ®é‡çº§

é»˜è®¤æšä¸¾

    while cnt <= len(machines) and task != machines[0]:
        left = machines.popleft()
        machines.append(left)
        cnt += 1

ä»–ç”šè‡³ä¸è€ƒè™‘å‰©ä½™é•¿åº¦ ç›´æ¥æ•´ä¸ªé•¿åº¦

        machines.popleft()
    return len(machines)

æ ¸å¿ƒå°±æ˜¯éå† task       
pop machine è¿”å›machineé•¿åº¦

è¿˜è¡Œå§ å°±æ˜¯æŒºæºœçš„


### deque å¾ˆæ–¹ä¾¿ åè½¬åˆ—è¡¨-å…¶å®ä¹Ÿå¯ä»¥åˆ‡ç‰‡åè½¬ æˆ–è€… appendleft popleft extendleftã€‚åŸºæœ¬å°±æ˜¯åœ¨åˆ—è¡¨å¤–ï¼Œå¥—ä¸€å±‚åˆ›å»ºèµ·æ¥ï¼Œç„¶ååŠ äº†å‡ ä¸ªleftåŠŸèƒ½

![alt text](assets_picture/ç‰›å®¢é¢˜/image-15.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-16.png)

åˆ—è¡¨ç«Ÿç„¶è¿˜èƒ½æŒ‡å®špop index



d = deque([1, 2, 3])


append(x): åœ¨é˜Ÿåˆ—çš„å³ç«¯æ·»åŠ ä¸€ä¸ªå…ƒç´  xã€‚

python
å¤åˆ¶ä»£ç 
d.append(4)  # d -> deque([1, 2, 3, 4])
appendleft(x): åœ¨é˜Ÿåˆ—çš„å·¦ç«¯æ·»åŠ ä¸€ä¸ªå…ƒç´  xã€‚

python
å¤åˆ¶ä»£ç 
d.appendleft(0)  # d -> deque([0, 1, 2, 3, 4])
pop(): ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å³ç«¯çš„å…ƒç´ ã€‚

python
å¤åˆ¶ä»£ç 
d.pop()  # è¿”å› 4, d -> deque([0, 1, 2, 3])
popleft(): ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å·¦ç«¯çš„å…ƒç´ ã€‚

python
å¤åˆ¶ä»£ç 
d.popleft()  # è¿”å› 0, d -> deque([1, 2, 3])
extend(iterable): å°† iterable ä¸­çš„å…ƒç´ æ·»åŠ åˆ°é˜Ÿåˆ—çš„å³ç«¯ã€‚

python
å¤åˆ¶ä»£ç 
d.extend([4, 5])  # d -> deque([1, 2, 3, 4, 5])
extendleft(iterable): å°† iterable ä¸­çš„å…ƒç´ é€†åºæ·»åŠ åˆ°é˜Ÿåˆ—çš„å·¦ç«¯ã€‚

python
å¤åˆ¶ä»£ç 
d.extendleft([0, -1])  # d -> deque([-1, 0, 1, 2, 3, 4, 5])
rotate(n): å‘å³æ—‹è½¬é˜Ÿåˆ— n æ­¥ï¼ˆå¦‚æœ n ä¸ºè´Ÿï¼Œåˆ™å‘å·¦æ—‹è½¬ï¼‰ã€‚

python
å¤åˆ¶ä»£ç 
d.rotate(1)  # d -> deque([5, -1, 0, 1, 2, 3, 4])
d.rotate(-1) # d -> deque([-1, 0, 1, 2, 3, 4, 5])
clear(): æ¸…ç©ºé˜Ÿåˆ—ã€‚

python
å¤åˆ¶ä»£ç 
d.clear()  # d -> deque([])
count(x): è¿”å›é˜Ÿåˆ—ä¸­å…ƒç´  x çš„ä¸ªæ•°ã€‚

python
å¤åˆ¶ä»£ç 
d = deque([1, 2, 3, 1, 1])
d.count(1)  # è¿”å› 3
reverse(): å°†é˜Ÿåˆ—åè½¬ï¼ˆin-place æ“ä½œï¼‰ã€‚

python
å¤åˆ¶ä»£ç 
d.reverse()  # d -> deque([5, 4, 3, 2, 1, 0, -1])
maxlen: deque å¯ä»¥è®¾å®šæœ€å¤§é•¿åº¦ï¼Œè¶…å‡ºé•¿åº¦æ—¶ä¼šä»å¦ä¸€ç«¯åˆ é™¤å…ƒç´ ã€‚

python
å¤åˆ¶ä»£ç 
d = deque([1, 2, 3], maxlen=3)
d.append(4)  # d -> deque([2, 3, 4])
è¿™äº›æ–¹æ³•ä½¿å¾— deque åœ¨å¤„ç†éœ€è¦é¢‘ç¹ä»ä¸¤ç«¯æ“ä½œå…ƒç´ çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ï¼Œå¦‚å®ç°é˜Ÿåˆ—ã€åŒç«¯é˜Ÿåˆ—ç­‰æ•°æ®ç»“æ„ã€‚

### å­—ç¬¦ä¸²åœ¨pythoné‡Œèƒ½ç›´æ¥reverseå—
ChatGPT è¯´ï¼š
ChatGPT
åœ¨ Python ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„å¯¹è±¡ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥ä¿®æ”¹å®ƒä»¬ã€‚ä¸è¿‡ï¼Œä½ å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²çš„åè½¬ç‰ˆæœ¬ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„æ–¹æ³•ï¼š

1. ä½¿ç”¨åˆ‡ç‰‡ï¼ˆSlicingï¼‰
è¿™æ˜¯æœ€å¸¸ç”¨å’Œç®€å•çš„æ–¹æ³•ã€‚

python
å¤åˆ¶ä»£ç 
s = "hello"
reversed_s = s[::-1]
print(reversed_s)  # è¾“å‡º: "olleh"
2. ä½¿ç”¨ reversed() å‡½æ•°å’Œ join()
reversed() å‡½æ•°è¿”å›ä¸€ä¸ªåè½¬çš„è¿­ä»£å™¨ï¼Œå¯ä»¥ç»“åˆ join() å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

python
å¤åˆ¶ä»£ç 
s = "hello"
reversed_s = ''.join(reversed(s))
print(reversed_s)  # è¾“å‡º: "olleh"
3. ä½¿ç”¨å¾ªç¯
ä½ å¯ä»¥é€šè¿‡å¾ªç¯æ‰‹åŠ¨æ„å»ºåè½¬çš„å­—ç¬¦ä¸²ã€‚

python
å¤åˆ¶ä»£ç 
s = "hello"
reversed_s = ""
for char in s:
    reversed_s = char + reversed_s
print(reversed_s)  # è¾“å‡º: "olleh"
4. ä½¿ç”¨ reduce() å‡½æ•°
reduce() å‡½æ•°å¯ä»¥å°†å­—ç¬¦ä¸²é€æ­¥ç´¯ç§¯åè½¬ã€‚

python
å¤åˆ¶ä»£ç 
from functools import reduce

s = "hello"
reversed_s = reduce(lambda x, y: y + x, s)
print(reversed_s)  # è¾“å‡º: "olleh"


## ç¬¬ä¸‰é¢˜ å‹‰å¼ºèƒ½ç†è§£ dfså›æº¯ è®°å½•æœ€å°time å¤šæ¬¡æ”¾å…¥ è¿”å›æ¢å¤


# å¿«æ‰‹ 823

ç¬¬ä¸€é¢˜æ˜¯åŸºç¡€çš„æ ˆæ¨¡æ‹Ÿï¼Œéš¾åº¦æ¯”è¾ƒä½ã€‚

ç¬¬äºŒé¢˜ä¹Ÿæ˜¯åŸºç¡€çš„åŠ¨æ€è§„åˆ’ï¼Œéš¾åº¦æ¯”è¾ƒä½ã€‚

ç¬¬ä¸‰é¢˜éš¾åº¦æ¯”è¾ƒå¤§ï¼Œéœ€è¦å…ˆé¢„å¤„ç†ï¼Œç„¶åä½¿ç”¨çŠ¶å‹æ¥å®ç°dpï¼Œè¿™ä¸ªè€ƒç‚¹å¹¶ä¸å¸¸è§ã€‚

## é¢˜ç›®ä¸€
é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']' çš„å­—ç¬¦ä¸² sï¼ˆ1 <= s.length <= 1e4) ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚å¦‚æœæœ‰æ•ˆï¼Œè¾“å‡ºæœ‰æ•ˆæ‹¬å·çš„ä¸ªæ•°ã€‚å¦‚æœæ— æ•ˆï¼Œåˆ™è¾“å‡ºFalseã€‚

æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼šå·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚æ¯ä¸ªå³æ‹¬å·éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚


è¾“å…¥

    5
    ()
    ([])
    ([[}]]){
    ){}()
    ))(())
è¾“å‡º

    1
    2
    False
    False
    False

### é˜Ÿåˆ—
å¤ªç®€å• åˆ—è¡¨è½»æ¾å®ç° ç”šè‡³ç”¨ä¸åˆ°é‚£ä¸ªåŒç«¯åˆ—è¡¨

    from collections import deque
    d = deque([1, 2, 3])

å°è£…ä¹Ÿå¾ˆç®€å•

rotate(n): å‘å³æ—‹è½¬é˜Ÿåˆ— n æ­¥ï¼ˆå¦‚æœ n ä¸ºè´Ÿï¼Œåˆ™å‘å·¦æ—‹è½¬ï¼‰ã€‚

rotate

reverse

extendleft

popleft

appendleft

    [1,2,3].reverse   <built-in method reverse of list object at 0x000001FA470AD100> è¿™å¥½åƒæ˜¯è·å¾—äº†ä¸€ä¸ªæ–¹æ³•ï¼Ÿ
    [1,2,3].reverse()   None



    a=[1,2,3]
    a.reverse   [1, 2, 3]
    a=[1,2,3]
    a.reverse()   [3, 2, 1]


    a=[1,2,3]
    a.reverse   [1, 2, 3]
    a=[1,2,3]
    a.reverse()   [3, 2, 1]
    a=3e-5  3e-05
    a*10  0.00030000000000000003
    a*100  0.003



## é¢˜ç›®äºŒ

é¢˜ç›®æè¿°

Michaelå–œæ¬¢æ»‘é›ªç™¾è¿™å¹¶ä¸å¥‡æ€ªï¼Œ å› ä¸ºæ»‘é›ªçš„ç¡®å¾ˆåˆºæ¿€ã€‚å¯æ˜¯ä¸ºäº†è·å¾—é€Ÿåº¦ï¼Œæ»‘çš„åŒºåŸŸå¿…é¡»å‘ä¸‹å€¾æ–œï¼Œè€Œä¸”å½“ä½ æ»‘åˆ°å¡åº•ï¼Œä½ ä¸å¾—ä¸å†æ¬¡èµ°ä¸Šå¡æˆ–è€…ç­‰å¾…å‡é™æœºæ¥è½½ä½ ã€‚Michaelæƒ³çŸ¥é“è½½ä¸€ä¸ªåŒºåŸŸä¸­æœ€é•¿åº•æ»‘å¡ã€‚åŒºåŸŸç”±ä¸€ä¸ªäºŒç»´æ•°ç»„ç»™å‡ºã€‚æ•°ç»„çš„æ¯ä¸ªæ•°å­—ä»£è¡¨ç‚¹çš„é«˜åº¦ã€‚

    1Â 2Â 3Â 4Â 5
    16Â 17Â 18Â 19Â 6
    15Â 24Â 25Â 20Â 7
    14Â 23Â 22Â 21Â 8
    13Â 12Â 11Â 10Â 9
ä¸€ä¸ªäººå¯ä»¥ä»æŸä¸ªç‚¹æ»‘å‘ä¸Šä¸‹å·¦å³ç›¸é‚»å››ä¸ªç‚¹ä¹‹ä¸€ï¼Œå½“ä¸”ä»…å½“é«˜åº¦å‡å°ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸€æ¡å¯æ»‘è¡Œçš„æ»‘å¡ä¸º24-17-16-1ã€‚å½“ç„¶25-24-23-...-3-2-1æ›´é•¿ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯æœ€é•¿çš„ä¸€æ¡ã€‚ç­”æ¡ˆå°±æ˜¯25.

è¾“å…¥çš„ç¬¬ä¸€è¡Œè¡¨ç¤ºåŒºåŸŸçš„è¡Œæ•°Rå’Œåˆ—æ•°C(1 <= R,C <= 100)ã€‚ä¸‹é¢æ˜¯Rè¡Œï¼Œæ¯è¡Œæœ‰Cä¸ªæ•´æ•°ï¼Œä»£è¡¨é«˜åº¦hï¼Œ0<=h<=10000ã€‚

è¾“å‡ºæœ€é•¿åŒºåŸŸçš„é•¿åº¦ã€‚

è¾“å…¥

    5Â 5
    1Â 2Â 3Â 4Â 5
    16Â 17Â 18Â 19Â 6
    15Â 24Â 25Â 20Â 7
    14Â 23Â 22Â 21Â 8
    13Â 12Â 11Â 10Â 9
è¾“å‡º25


æ„Ÿè§‰æ˜¯å›æº¯ åŒæ—¶è®°å½•æœ€é•¿é“ï¼Ÿä½†æœ€é«˜ä¸ä¸€å®šæœ€é•¿æŠŠ         
dp?       

å¥½éš¾å†™

æœ€ç®€å•çš„å°±æ˜¯å¯¹ç€ç”¨ä¾‹ç›´æ¥è§£å†³

å•¥éƒ½ä¸è€ƒè™‘ ç›´æ¥æ‰¾æœ€é¡¶ç‚¹ ç„¶åè´ªå¿ƒç›´æ¥æ‰¾ ä¸ç®¡ä»€ä¹ˆçª—å£å¤§å° ç„¶åè®°å½• ç›´æ¥è¾“å‡ºç­”æ¡ˆ

ç¬¬äºŒé¢˜ä¹Ÿæ˜¯åŸºç¡€çš„åŠ¨æ€è§„åˆ’ï¼Œéš¾åº¦æ¯”è¾ƒä½ã€‚

æˆ‘é  éš¾åº¦ä½ï¼Ÿ

è®°å¿†åŒ–æœç´¢ï¼Œç”¨dp{i,j}è¡¨ç¤ºä»(i,j)å‡ºå‘èƒ½æ»‘çš„æœ€è¿œè·ç¦»ï¼Œç”¨dfsæœç´¢ï¼Œè‹¥dp{i,j}>0å³å·²ç»è®¡ç®—è¿‡ï¼Œç›´æ¥è¿”å›å€¼å³å¯ï¼Œå¦åˆ™æŒ‰ç…§dfsæ€è·¯é€’æ¨è®¡ç®—å…¶æœ€å¤§å€¼ï¼Œé€’æ¨å¼ä¸ºï¼šdp{i,j}=max(dp{i,j},dfs(x,y)+1)ï¼ˆï¼ˆi,j)ä¸(x,y)ç›¸é‚»ï¼Œä¸”a{ x, y}<a{i, j}ï¼‰


è¿˜å¯ä»¥ä½†æ˜¯æƒ³ä¸åˆ°

ä»–è¿™ä¸ªå°±æ˜¯æœç´¢æ‰€æœ‰ç­”æ¡ˆ ä¸è§å¾—å¤æ‚åº¦ä½ ä½†æ˜¯ä»–èƒ½å½¢æˆä»£ç å•Š æˆ‘çš„é€»è¾‘æ„Ÿè§‰æ²¡æœ‰é‚£ä¹ˆä¸¥è°¨ ç®€æ´


    #include<cstdio>
    #include<algorithm>
    usingÂ namespaceÂ std;

    intÂ r,c,res;
    intÂ a[105][105],dp[105][105];
    intÂ go[4][2]={-1,0,0,1,1,0,0,-1}; è¿™ä¸ªæŒºå¥½

    intÂ dfs(intÂ x,intÂ y){
    Â Â Â Â if(dp[x][y]>0)Â returnÂ dp[x][y];
    Â Â Â Â dp[x][y]=1;
    Â Â Â Â for(intÂ i=0;i<4;++i){
    Â Â Â Â Â Â Â Â intÂ xx=x+go[i][0],yy=y+go[i][1];
    Â Â Â Â Â Â Â Â if(xx>=0&&xx<r&&yy>=0&&yy<c&&a[xx][yy]<a[x][y])
    Â Â Â Â Â Â Â Â Â Â Â Â dp[x][y]=max(dp[x][y],dfs(xx,yy)+1); è¿™ä¸ªæŒºæ ¸å¿ƒçš„ã€‚è¿™ä¸ªå¥½åƒæ˜¯ä»å¶å­èŠ‚ç‚¹æ‰¾åˆ°æœ€å¤§æ‰è¿”å› è¿™æ˜¯ä¸æ˜¯æœ‰ç‚¹è¯´æ³•ï¼Ÿ åæ­£ä¸ç®¡ dpå°±æ˜¯ä¸€è‚¡è„‘æ‰¾æœ€å¤§ ä¸ç®¡æ˜¯äºŒç»´è¿˜æ˜¯ä¸€ç»´dp
    Â Â Â Â }
    Â Â Â Â returnÂ dp[x][y]; éå†å®Œå››ä¸ªæ–¹å‘ è´ªå¿ƒå–å‡º æ‰€ä»¥ä¹Ÿåªæ˜¯ç®€å•çš„è´ªå¿ƒ åŒæ—¶éå†å®Œæ‰€æœ‰çš„å¯èƒ½
    }

    intÂ main(){
    Â Â Â Â scanf("%d%d",&r,&c);
    Â Â Â Â for(intÂ i=0;i<r;++i)
    Â Â Â Â Â Â Â Â for(intÂ j=0;j<c;++j)
    Â Â Â Â Â Â Â Â Â Â Â Â scanf("%d",&a[i][j]);
    Â Â Â Â for(intÂ i=0;i<r;++i)
    Â Â Â Â Â Â Â Â for(intÂ j=0;j<c;++j){
    Â Â Â Â Â Â Â Â Â Â Â Â intÂ tmp=dfs(i,j); ç›´æ¥å¯¹æ¯ä¸ªç‚¹æ‰¾ ä¸ºäº†é€šè¿‡ç‡çœŸå®æ‹¼äº† å¤æ‚åº¦å—–å—–æ¶¨
    ä½†æ˜¯æœ¬è´¨è¿˜æ˜¯æœ€è¿‘è´ªå¿ƒ
    Â Â Â Â Â Â Â Â Â Â Â Â if(tmp>res)Â res=tmp;
    Â Â Â Â Â Â Â Â }
    Â Â Â Â printf("%d\n",res);
    Â Â Â Â returnÂ 0;
    }


## ç¬¬ä¸‰é¢˜ å¤ªéš¾çœ‹ä¸æ‡‚è¯´ä¸æ¸…


# shopee 0825
è¿‡è™¾çš®å¯èƒ½å­¦å†å¡çš„æ¯”è¾ƒç´§ä¸€ç‚¹ï¼Œhcä¸å¤šçš„ï¼Œæ‹›è˜å‘¨æœŸä¹Ÿä¸é•¿ã€‚æ²¡æŠ•çš„å¾—èµ¶ç´§æŠ•äº†ã€‚

æœ¬æ¬¡ç¬”è¯•éš¾åº¦æ¯”è¾ƒä½ï¼Œæœ‰ä¸€å®šåˆ·é¢˜åŸºç¡€çš„åŒå­¦åº”è¯¥éƒ½å¯ä»¥è§£å†³ã€‚ç¬¬ä¸€é¢˜æ˜¯LCç»å…¸çš„é“¾è¡¨å¤„ç†é¢˜äº†ï¼Œæ³¨æ„å¥½é“¾è¡¨çš„æŒ‡é’ˆæ“ä½œå³å¯ã€‚ç¬¬äºŒé¢˜åˆ™æ˜¯åŸºç¡€çš„æ•°ç»„æœç´¢é—®é¢˜ï¼Œæ’åºååŒæŒ‡é’ˆå³å¯ã€‚ç¬¬ä¸‰é¢˜æ˜¯åŸºç¡€çš„DPï¼Œå¥—ç”¨æ¨¡æ¿å³å¯ã€‚



## ç¬¬ä¸€é¢˜
ç»™å®šå•é“¾è¡¨å¤´èŠ‚ç‚¹head,å®ç°ä¸€ä¸ªè°ƒæ•´å•é“¾è¡¨çš„å‡½æ•°ï¼Œä½¿å¾—æµ·kä¸ªèŠ‚ç‚¹ä¹‹é—´é€†åºï¼Œå¦‚æœæœ€åä¸ å¤ŸKä¸ªèŠ‚ç‚¹ï¼Œåˆ™ä¸è¿›è¡Œè°ƒæ•´ã€‚

è¾“å…¥

1,2,3,4,5,6,7,8,9,10,11,12,13,3

è¾“å‡º

3,2,1,6,5,4,9,8,7,12,11,10,13


åŠ›æ‰£25é¢˜åŸé¢˜ï¼Œå¯å‚è€ƒå®˜æ–¹é¢˜è§£,è™¾çš®å‡ä¸ºåŠ›æ‰£æ¨¡å¼ï¼Œä¸éœ€è¦æ‰‹å†™è¾“å…¥è¾“å‡º


    ListNode*Â reverseKGroup(ListNode*Â head,Â intÂ k)Â {
Â Â Â Â Â Â Â Â ListNode*Â dummyÂ =Â newÂ ListNode(0,Â head);
Â Â Â Â Â Â Â Â ListNode*Â curÂ =Â dummy;
Â Â Â Â Â Â Â Â whileÂ (true)Â {
Â Â Â Â Â Â Â Â     autoÂ cur1Â =Â cur;
Â Â Â Â Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â kÂ &&Â cur1;Â i++)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur1Â =Â cur1->next;
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (!cur1)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;
Â Â Â Â Â Â Â Â Â Â Â Â autoÂ aÂ =Â cur->next,Â bÂ =Â a->next;
Â Â Â Â Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â kÂ -Â 1;Â i++)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â autoÂ cÂ =Â b->next;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â b->nextÂ =Â a;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â aÂ =Â b,Â bÂ =Â c;
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â autoÂ tÂ =Â cur->next;
Â Â Â Â Â Â Â Â Â Â Â Â cur->next->nextÂ =Â b;
Â Â Â Â Â Â Â Â Â Â Â Â cur->nextÂ =Â a;
Â Â Â Â Â Â Â Â Â Â Â Â curÂ =Â t;
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â returnÂ dummy->next;
Â Â Â Â }


å†™å¾—å¤ªä¹± å®Œå…¨æ— æ³•æ˜ç™½å«ä¹‰


## ç¬¬äºŒé¢˜
åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³è¦æ±‚çš„ä¸¤ä¸ªæ•° è¯¦ç»†æè¿° ç»™å®šæ­£æ•´æ•°X,ä¸¤ä¸ªæ­£æ•´æ•°æ•°ç»„Arr1å’ŒArr2,è¯·åœ¨Arr1å’ŒArr2ä¸­å„æ‰¾ä¸€ä¸ªæ•°ï¼Œä½¿å¾—è¿™ä¸¤ä¸ªæ•°å­—ä¹‹ å’Œä¸Xæœ€æ¥è¿‘ï¼Œè¾“å‡ºä¸¤ä¸ªå€¼å¯¹åº”çš„ä¸‹æ ‡ã€‚



è¾“å…¥[1,5,13,15],[10,11,17,20],20è¾“å‡º[0,3]


è¿™ä¹Ÿä¸ç®€å•å•Š

ç¬¬äºŒé¢˜åˆ™æ˜¯åŸºç¡€çš„æ•°ç»„æœç´¢é—®é¢˜ï¼Œæ’åºååŒæŒ‡é’ˆå³å¯

ä¸€æ­¥ä¸€æ­¥ ä¾æ¬¡ç§»åŠ¨ï¼Ÿ


æ€è·¯ä¸ä»£ç 


å¯¹æ•°ç»„ Arr1 å’Œ Arr2 åˆ†åˆ«è¿›è¡Œæ’åºï¼Œå¹¶ä¿ç•™å®ƒä»¬çš„åŸå§‹ä¸‹æ ‡ã€‚ä½¿ç”¨åŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ Arr1 çš„èµ·å§‹ä½ç½®ï¼Œå¦ä¸€ä¸ªæŒ‡å‘ Arr2 çš„æœ«å°¾ã€‚è®¡ç®—å½“å‰ä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘å…ƒç´ çš„å’Œä¸ç›®æ ‡å€¼ X çš„å·®è·ï¼Œå¹¶æ ¹æ®å·®è·è°ƒæ•´æŒ‡é’ˆçš„ç§»åŠ¨æ–¹å‘ã€‚è®°å½•æœ€å°å·®è·åŠå…¶å¯¹åº”çš„ä¸‹æ ‡ã€‚å½“ä¸¤ä¸ªæŒ‡é’ˆç›¸é‡æ—¶ï¼Œè¾“å‡ºå¯¹åº”çš„ä¸‹æ ‡ã€‚


ä¸‹æ ‡å¦‚ä½•ä¿ç•™

ï¼Ÿï¼Ÿ

Â    vector<int>Â findClosetPair(vector<int>&Â arr1,Â vector<int>&Â arr2,Â intÂ x)Â {
Â Â Â Â Â Â Â Â intÂ n1Â =Â arr1.size();
Â Â Â Â Â Â Â Â intÂ n2Â =Â arr2.size();
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â //Â å­˜å‚¨åŸå§‹ä¸‹æ ‡çš„æ•°ç»„
Â Â Â Â Â Â Â Â vector<pair<int,Â int>>Â arr1Indexed,Â arr2Indexed;
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â n1;Â ++i)Â {
Â Â Â Â Â Â Â Â Â Â Â Â arr1Indexed.push_back({arr1[i],Â i});  ç«Ÿç„¶ç”¨å­—å…¸å­˜ä¸‹æ ‡ï¼Ÿé‡å¤å‘¢ï¼Ÿ
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â n2;Â ++i)Â {
Â Â Â Â Â Â Â Â Â Â Â Â arr2Indexed.push_back({arr2[i],Â i});
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â //Â å¯¹ä¸¤ä¸ªæ•°ç»„æŒ‰å€¼æ’åº
Â Â Â Â Â Â Â Â sort(arr1Indexed.begin(),Â arr1Indexed.end());
Â Â Â Â Â Â Â Â sort(arr2Indexed.begin(),Â arr2Indexed.end());
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â intÂ leftÂ =Â 0;
Â Â Â Â Â Â Â Â intÂ rightÂ =Â n2Â -Â 1; å¥½åƒæœ‰äº›å·§å¦™å•Š èƒ½é¿å…é”™è¿‡ï¼Ÿ
Â Â Â Â Â Â Â Â intÂ closestSumÂ =Â INT_MAX;
Â Â Â Â Â Â Â Â intÂ closestLeftÂ =Â 0,Â closestRightÂ =Â 0;
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â //Â ä½¿ç”¨åŒæŒ‡é’ˆæ³•
Â Â Â Â Â Â Â Â whileÂ (leftÂ <Â n1Â &&Â rightÂ >=Â 0)Â {
Â Â Â Â Â Â Â Â Â Â Â Â intÂ sumÂ =Â arr1Indexed[left].firstÂ +Â arr2Indexed[right].first;
Â Â Â Â Â Â Â Â Â Â Â Â intÂ diffÂ =Â abs(sumÂ -Â x);
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â //Â å¦‚æœæ‰¾åˆ°æ›´æ¥è¿‘çš„å€¼ï¼Œæ›´æ–°æœ€è¿‘çš„ä¸‹æ ‡
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (diffÂ <Â closestSum)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â closestSumÂ =Â diff;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â closestLeftÂ =Â arr1Indexed[left].second;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â closestRightÂ =Â arr2Indexed[right].second;
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â //Â æ ¹æ®sumå’Œxçš„æ¯”è¾ƒç»“æœæ¥ç§»åŠ¨æŒ‡é’ˆ
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (sumÂ <Â x)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â left++; 
Â Â Â Â Â Â Â Â Â Â Â Â }Â elseÂ {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â right--;
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â returnÂ {closestLeft,Â closestRight};
Â Â Â Â }


å¥½åƒä¸æ˜¯å­—å…¸ è€Œæ˜¯å…ƒç»„ é‡å¤æ²¡å…³ç³»


    from typing import List, Tuple

    def find_closest_pair(arr1: List[int], arr2: List[int], x: int) -> Tuple[int, int]:
        n1 = len(arr1)
        n2 = len(arr2)
        
        # å­˜å‚¨åŸå§‹ä¸‹æ ‡çš„æ•°ç»„
        arr1_indexed = [(value, idx) for idx, value in enumerate(arr1)] å·§å¦™
        arr2_indexed = [(value, idx) for idx, value in enumerate(arr2)]
        
        # å¯¹ä¸¤ä¸ªæ•°ç»„æŒ‰å€¼æ’åº
        arr1_indexed.sort()
        arr2_indexed.sort()
        
        left = 0
        right = n2 - 1
        closest_sum = float('inf')
        closest_left = 0
        closest_right = 0
        
        # ä½¿ç”¨åŒæŒ‡é’ˆæ³• æ¯”è¾ƒå·§å¦™
        while left < n1 and right >= 0:
            sum_value = arr1_indexed[left][0] + arr2_indexed[right][0]
            diff = abs(sum_value - x)
            
            # å¦‚æœæ‰¾åˆ°æ›´æ¥è¿‘çš„å€¼ï¼Œæ›´æ–°æœ€è¿‘çš„ä¸‹æ ‡
            if diff < closest_sum:
                closest_sum = diff
                closest_left = arr1_indexed[left][1]
                closest_right = arr2_indexed[right][1]
            
            # æ ¹æ®sumå’Œxçš„æ¯”è¾ƒç»“æœæ¥ç§»åŠ¨æŒ‡é’ˆ
            if sum_value < x:
                left += 1
            else:
                right -= 1
        
        return (closest_left, closest_right)



arr1_indexed.sort() æ˜¯ä¾æ® value è¿›è¡Œæ’åºçš„ã€‚

åœ¨ Python ä¸­ï¼Œsort() å‡½æ•°é»˜è®¤æ ¹æ®å…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå³ valueï¼‰è¿›è¡Œæ’åºã€‚å¦‚æœ value ç›¸åŒï¼Œå®ƒä¼šè¿›ä¸€æ­¥æ ¹æ®ç¬¬äºŒä¸ªå…ƒç´ ï¼ˆå³ idxï¼‰æ’åºï¼Œä½†åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œä¸»è¦æ˜¯ä¾æ® value è¿›è¡Œæ’åºã€‚

å…ƒç»„è®°å½•ä¿¡æ¯ ç„¶ååˆç”¨äº† ä¸¤è¾¹çš„åŒæŒ‡é’ˆ










## ç¬¬ä¸‰é¢˜

å‡è®¾è´§è½¦çš„å®¹é‡ä¸ºV(æ­£æ•´æ•°ï¼Œ0<=V<=20000),è´§ç‰©çš„æ€»ä¸ªæ•°ä¸º(0<n<=32)ã€‚è¯·ä½ å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºå¦‚ä½•å°†è´§è½¦çš„å®¹é‡å……åˆ†åˆ©ç”¨ï¼ˆå‰©ä½™ç©ºé—´æœ€å°ï¼‰ã€‚è¾“å…¥ï¼šVè´§è½¦çš„å®¹é‡ï¼Œæ•°ç»„nè¡¨ç¤ºæ¯ä¸ªè´§ç‰©å çš„ä½“ç§¯è¾“å‡ºï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè´§è½¦çš„å‰©ä½™å®¹é‡

è¾“å…¥24,8,3,12,7,9,7

è¾“å‡º0

æ²¡å†™æ¸…æ¥š


æ€è·¯ä¸ä»£ç 


è¿™ä¸ªé—®é¢˜å¯ä»¥çœ‹ä½œæ˜¯â€œèƒŒåŒ…é—®é¢˜â€çš„å˜ç§ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ç§è´§ç‰©çš„ç»„åˆï¼Œä½¿å¾—å…¶æ€»å®¹é‡å°½é‡æ¥è¿‘è´§è½¦çš„å®¹é‡Vï¼Œè¿™æ ·å‰©ä½™ç©ºé—´æœ€å°ã€‚ä½¿ç”¨ä¸€äºŒç»´æ•°ç»„dp[i][j]è¡¨ç¤º`å‰iä¸ªè´§ç‰©ä¸­é€‰æ‹©ä½“ç§¯ä¸è¶…è¿‡jçš„æœ€å¤§ä½“ç§¯`ï¼Œè¿™æ ·æœ€åå¯ä»¥é€šè¿‡V - dp[n][V]æ¥å¾—åˆ°æœ€å°çš„å‰©ä½™ç©ºé—´ã€‚

ç¬¬ä¸‰é¢˜æ˜¯åŸºç¡€çš„DPï¼Œå¥—ç”¨æ¨¡æ¿å³å¯ã€‚


        intÂ bestFit(intÂ v,Â vector<int>&Â item)Â {
    Â Â Â Â Â Â Â Â intÂ nÂ =Â item.size();
    Â Â Â Â Â Â Â Â vector<int>Â dp(vÂ +Â 1,Â 0);

    Â Â Â Â Â Â Â Â //Â åŠ¨æ€è§„åˆ’ï¼Œè®¡ç®—åœ¨å®¹é‡ä¸ºvçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè£…è½½çš„æœ€å¤§ä½“ç§¯
    Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ <Â n;Â ++i)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â forÂ (intÂ jÂ =Â v;Â jÂ >=Â item[i];Â --j)Â { 
        jä»£è¡¨å¯è£…é‡é‡ ä½†æ˜¯ä¸ºä»€ä¹ˆæ˜¯å€’ç€æ¥ åŒæ—¶ç‰©å“iå´ä»0å¼€å§‹ï¼Ÿ
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dp[j]Â =Â max(dp[j],Â dp[jÂ -Â item[i]]Â +Â item[i]); i=0çš„æ—¶å€™æ›´æ–°ä¾æ¬¡ å³ dp[v]æœ€å¤§é‡é‡æ˜¯item[i]ã€‚ ç„¶ååˆé€’å‡dp[j]ï¼Œ åŸºæœ¬ä¸ŠæŠŠitem[0]éƒ½èµ‹å€¼ç»™äº†æ‰€æœ‰æœ€å¤§é‡é‡ä¸‹ã€‚ 
    
    å†éå†i=1,å¾€ä¸Šä¸€ç›´èµ°ã€‚ åˆå…ˆæ›´æ–°dp[v] ç›´æ¥å°±æ˜¯æ¯”è¾ƒç°æœ‰ dp[v]å’Œ ä¹‹å‰å·®å€¼ådpåŠ ä¸Šç°åœ¨item[1]çš„ç»“æœï¼Œå…¶ç»“æœå°±æ˜¯ dp[v]è¢«å¼ºåˆ¶æ›´æ–°ä¸ºvä¸Šé™ä¸‹çš„æœ€å¤§å€¼ 
    
    è€Œä¸”è¿™æ ·ä»¿ä½›ä¸ä¼šé‡å¤ä½¿ç”¨item?  å…¶ä»–dpå¯ä»¥æš‚æ—¶ä¸ç®¡

    åæ­£æˆ‘çŸ¥é“çš„æ˜¯dp[v]ä¼šä¸€ç›´ä»¥æœ€å¤§å€¼æ›´æ–°ï¼Œåªè¦èƒ½å¡è¿›å»ï¼ŒåŒæ—¶æœ€è¿‘çš„æ˜¯æœ€åçš„é‚£ä¸ªitemã€‚åªèƒ½è¯´ä¸€å®šä¿è¯äº†æœ€å¤§ã€‚ä½†æ˜¯æœ‰æ²¡æœ‰é‡å¤å‘¢ï¼Ÿ

    ä¼¼ä¹åˆæ²¡æœ‰ï¼Œå› ä¸ºä»–æ˜¯ç›´æ¥å€’ç€æ¥çš„ï¼Œè¿™é¿å…äº†é‡å¤ã€‚çœŸç‰›é€¼

    è¿™ç§ç»“æ„æ•°æ®æ”¾ç»™å¤§è¯­è¨€èƒ½å­¦ä¹ å°±ç‰›é€¼äº†ï¼Œå¦‚æœè¿˜æœ‰æ³›åŒ–æ€§ï¼Œé‚£æ›´ç‰›é€¼


    Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â }

    Â Â Â Â Â Â Â Â //Â è¿”å›å‰©ä½™ç©ºé—´
    Â Â Â Â Â Â Â Â returnÂ vÂ -Â dp[v];
    Â Â Â Â }

py

    from typing import List

    def best_fit(v: int, item: List[int]) -> int:
        n = len(item)
        dp = [0] * (v + 1)

        # åŠ¨æ€è§„åˆ’ï¼Œè®¡ç®—åœ¨å®¹é‡ä¸ºvçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè£…è½½çš„æœ€å¤§ä½“ç§¯
        for i in range(n):
            for j in range(v, item[i] - 1, -1):
                dp[j] = max(dp[j], dp[j - item[i]] + item[i])

        # è¿”å›å‰©ä½™ç©ºé—´
        return v - dp[v]

dp æ•°ç»„ç”¨äºå­˜å‚¨åœ¨ä¸åŒå®¹é‡ä¸‹å¯ä»¥è£…è½½çš„æœ€å¤§ä½“ç§¯ã€‚
å¤–å±‚å¾ªç¯éå†æ¯ä¸ªç‰©å“ï¼Œå†…å±‚å¾ªç¯ä»å½“å‰å®¹é‡ v å€’åºæ›´æ–° dp æ•°ç»„ï¼Œç¡®ä¿æ¯ä¸ªç‰©å“åªè¢«è®¡ç®—ä¸€æ¬¡ã€‚
æœ€ç»ˆè¿”å›çš„æ˜¯æ€»å®¹é‡ v å‡å»å¯ä»¥è£…è½½çš„æœ€å¤§ä½“ç§¯ï¼Œå³å‰©ä½™çš„ç©ºé—´ã€‚


æ²¡çœ‹æ‡‚ é¢˜ç›®å’Œé¢˜è§£éƒ½å¤ªä¹±

92ç¡®å®å¾ˆå·§å¦™


## 93è€ƒè¯•
### ç¬¬ä¸€é¢˜ ï¼ˆé«˜ä¼˜å…ˆï¼‰--å·²é€šè¿‡é€’å½’è§£å†³ï¼šè§£ææ‹¬å·å’Œæ•°å­—ã€‚ reåŒ¹é… éº»çƒ¦åšä¸å‡º
gptå†™å¾—ç‹—é€¼ ç°åœ¨å†™ä¸‰æ¬¡éƒ½ä¸å¯¹ï¼Œå¯èƒ½æœ‰äº›å°å…¬å¸å¾ˆç‰›ï¼Œä½†æ²¡æœ‰çŸ¥ååº¦ï¼Œå¯èƒ½è¯´æ˜¯ä½ è§†é‡å°ï¼Œä½†å…¶å®è¿˜æ˜¯ä¸çŸ¥å


geminiå·®ç‚¹å…¨å¯¹ï¼ŒäºŒè¿‡ä¸€

å…¶å®ä¹Ÿåƒåœ¾ æ¨¡æ¿åŒ¹é…ä¸€ç›´å†™ä¸å¯¹ ä¸‰æ¬¡äº†

ä¸€ä¸ªä¸ªé—®è¿˜å¯ä»¥ å†å»é—®Gpt pattern

è‡ªå·±å†æ”¹ä¸€ä¸‹


    import re

    def process_string(s):
        # å…ˆå¤„ç†æ‰€æœ‰çš„å¤§å°å†™è½¬æ¢

        # å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼ŒåŒ¹é… #(upper)[...] çš„ç»“æ„
        pattern = r"#\(upper\)\[([^\]]+)\]"

        # ä½¿ç”¨re.subè¿›è¡Œæ›¿æ¢ï¼ŒåŒ¹é…åˆ°çš„å†…å®¹ç”¨lambdaå‡½æ•°æ¥è½¬æ¢ä¸ºå¤§å†™
        output_str = re.sub(pattern, lambda match: f"{match.group(1).upper()}", s)

        # å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼ŒåŒ¹é… #(upper)[...] çš„ç»“æ„
        pattern = r"#\(lower\)\[([^\]]+)\]"

        # ä½¿ç”¨re.subè¿›è¡Œæ›¿æ¢ï¼ŒåŒ¹é…åˆ°çš„å†…å®¹ç”¨lambdaå‡½æ•°æ¥è½¬æ¢ä¸ºå¤§å†™
        output_str = re.sub(pattern, lambda match: f"{match.group(1).lower()}", output_str)

        s = output_str
        
        result = ""
        i = 0
        while i < len(s):
            if s[i].isdigit():
                # è·å–é‡å¤æ¬¡æ•°
                count = int(s[i])
                i += 1
                # å¤„ç†æ‹¬å·å†…çš„å†…å®¹
                if s[i] == '[':
                    j = i + 1
                    depth = 1
                    while depth > 0:
                        if s[j] == '[':
                            depth += 1
                        elif s[j] == ']':
                            depth -= 1
                        j += 1
                    sub_result = process_string(s[i+1:j-1])
                    result += sub_result * count
                    i = j
                else:
                    # å¤„ç†å•ä¸ªå­—ç¬¦çš„é‡å¤
                    result += s[i] * count
                    i += 1
            else:
                # å¤„ç†æ™®é€šå­—ç¬¦
                result += s[i]
                i += 1
        return result

    def apply_functions(s):
        # å¤„ç†upperã€lowerç­‰å‡½æ•°
        # è¿™é‡Œå¯ä»¥æ‰©å±•ï¼Œæ”¯æŒæ›´å¤šçš„å‡½æ•°
        return process_string(s)
        

    # ç¤ºä¾‹ç”¨æ³•
    s1 = "3[a]2[bc]"
    s2 = "3[#(upper)[a]2[bc]]"
    print(apply_functions(s1))  # è¾“å‡º aaabcbc
    print(apply_functions(s2))  # è¾“å‡º AbcbcAbcbcAbcbc

s1 = "3[[a]2#(upper)[bc]]"
print(apply_functions(s1)) 

[a]BBC[a]BBC[a]BBC

![alt text](assets_picture/ç‰›å®¢é¢˜/image-19.png)

æœ‰ç‚¹å„¿å¿˜è®°é¢˜æ„äº†

åŸºæœ¬æ€è·¯æ˜¯æ­£ç¡®çš„

è¿™ä¸ªæ²¡ç”¨stackåªç”¨æŒ‡é’ˆä¹Ÿå¤„ç†å¾—å¾ˆå¥½

é€’å½’åšçš„ï¼Œä¹Ÿè¿˜å¯ä»¥ï¼Œæ¯ä¸ªæ‹¬å·æ·±åº¦ç›´æ¥å°±é€’å½’è¿›å»ï¼Œè®°ä¸‹æ•°å­—ï¼Œè¿›å‡ºå¤„ç†å®Œåï¼Œå‡ºæ¥å†ä¹˜          

æ¯”æ ˆå¥½ç†è§£ä¸€äº›

ä¸ºä»€ä¹ˆè€ƒè™‘ä½¿ç”¨æ ˆï¼Ÿ

æ ˆçš„ç‰¹ç‚¹ï¼š æ ˆæ˜¯ä¸€ç§åè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ã€‚åœ¨å¤„ç†åµŒå¥—ç»“æ„æ—¶ï¼Œæ ˆèƒ½å¾ˆå¥½åœ°æ¨¡æ‹Ÿé€’å½’çš„å…¥æ ˆå’Œå‡ºæ ˆè¿‡ç¨‹ã€‚
é—®é¢˜ç‰¹ç‚¹ï¼š æˆ‘ä»¬çš„å­—ç¬¦ä¸²å¤„ç†é—®é¢˜æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåµŒå¥—ç»“æ„çš„è§£æé—®é¢˜ã€‚æ ˆå¯ä»¥ç”¨æ¥è·Ÿè¸ªå½“å‰å¤„ç†çš„åµŒå¥—å±‚çº§ï¼Œä»¥åŠå„ä¸ªå±‚çº§çš„é‡å¤æ¬¡æ•°å’Œå†…å®¹ã€‚


ä½¿ç”¨æ ˆå®ç°çš„æ€è·¯ï¼š

åˆå§‹åŒ–æ ˆï¼š åˆ›å»ºä¸€ä¸ªç©ºæ ˆï¼Œç”¨äºå­˜å‚¨å½“å‰å¤„ç†çš„å…ƒç´ ã€‚
éå†å­—ç¬¦ä¸²ï¼š ä»å·¦åˆ°å³éå†å­—ç¬¦ä¸²ã€‚
é‡åˆ°æ•°å­—ï¼š å°†æ•°å­—å‹å…¥æ ˆä¸­ï¼Œè¡¨ç¤ºå½“å‰å±‚çº§çš„é‡å¤æ¬¡æ•°ã€‚
é‡åˆ° '['ï¼š å°†å½“å‰æ ˆé¡¶å…ƒç´ ï¼ˆå³é‡å¤æ¬¡æ•°ï¼‰å’Œä¸€ä¸ªç©ºåˆ—è¡¨å‹å…¥æ ˆä¸­ï¼Œç©ºåˆ—è¡¨ç”¨äºå­˜å‚¨å½“å‰å±‚çº§çš„å†…å®¹ã€‚
é‡åˆ° ']'ï¼š
å¼¹å‡ºæ ˆé¡¶çš„åˆ—è¡¨å’Œé‡å¤æ¬¡æ•°ã€‚
å°†åˆ—è¡¨ä¸­çš„å…ƒç´ é‡å¤æŒ‡å®šçš„æ¬¡æ•°ï¼Œå¹¶å°†ç»“æœä½œä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å‹å…¥æ ˆé¡¶ã€‚
é‡åˆ°å­—æ¯ï¼š å°†å­—æ¯æ·»åŠ åˆ°æ ˆé¡¶çš„åˆ—è¡¨ä¸­ã€‚
é‡åˆ° #(upper) æˆ– #(lower)ï¼š
å¼¹å‡ºæ ˆé¡¶çš„åˆ—è¡¨ã€‚
å¯¹åˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œå¤§å°å†™è½¬æ¢ã€‚
å°†è½¬æ¢åçš„åˆ—è¡¨å‹å…¥æ ˆé¡¶ã€‚
éå†ç»“æŸåï¼š æ ˆé¡¶çš„å…ƒç´ å³ä¸ºæœ€ç»ˆç»“æœã€‚



    def process_string_with_stack(s):
        stack = []
        for c in s:
            if c.isdigit():
                stack.append(int(c))
            elif c == '[':
                stack.append([])
            elif c == ']':
                count = stack.pop()
                content = stack.pop()
                stack.append(content * count)
            elif c in ['#', '(', ')', 'u', 'p', 'p', 'e', 'r', 'l', 'o', 'w', 'e', 'r']:
                # å¤„ç†å¤§å°å†™è½¬æ¢ï¼Œè¿™é‡Œå¯ä»¥ä¼˜åŒ–
                # ...
            else:
                stack[-1].append(c)
        return ''.join(stack.pop())

geminiå¯èƒ½ä¸å¤ªç†è§£ï¼Œè¿˜æ˜¯å¾—äººæ¥


éº»çƒ¦ç‚¹åœ¨äº stack[-1]çš„popæ—¶æœºä»¥åŠå¯¹emptyçš„è€ƒè™‘ï¼Œç®—äº†

è¿˜æ˜¯é€’å½’è¿›å»å§ï¼Œç”¨[è®°å½•æ·±åº¦ï¼Œç„¶åprocess_string(s[i+1:j-1]) åˆ‡ç‰‡æ”¾è¿›å»ï¼Œé€’å½’è¿›å»ï¼Œresultè®¾ç½®ä¸ºé€’å½’ä¹‹å¤–çš„å…¨å±€å˜é‡ï¼Œä¸å¯¹è¢«åŠ è¿›å»ï¼Œå¹¶ç”¨*countæ§åˆ¶


    if s[i].isdigit():
        # è·å–é‡å¤æ¬¡æ•°
        count = int(s[i])








### äºŒåˆ†å›¾åˆ¤æ–­
æŸ“è‰²æ³•

-1æœªæŸ“è‰² 0çº¢è‰² 1è“è‰²         

ç›´æ¥ä½¿ç”¨dfsä¸€ç›´æ‰¾falseï¼Œæ‰¾ä¸åˆ°å°±æ˜¯true

è¿™é¢˜ä¸»è¦æ”¹çš„åœ°æ–¹æ˜¯ä¸æ˜¯ç»å…¸çš„graph--ç»™å‡ºå•èŠ‚ç‚¹æ‰€æœ‰é‚»æ¥è¡¨ï¼Œè€Œæ˜¯ç»™æ¯æ¡è¾¹ï¼Œè€Œä¸”èŠ‚ç‚¹èµ·å§‹æ˜¯1




### ç¬¬ä¸‰é¢˜ å°±æ˜¯825åŸé¢˜ é”®å†™é”™


    from typing import List

    def best_fit(v: int, item: List[int]) -> int:
        n = len(item)
        dp = [0] * (v + 1)

        # åŠ¨æ€è§„åˆ’ï¼Œè®¡ç®—åœ¨å®¹é‡ä¸ºvçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè£…è½½çš„æœ€å¤§ä½“ç§¯
        for i in range(n):
            for j in range(v, item[i] - 1, -1):
                dp[j] = max(dp[j], dp[j - item[i]] + item[i])  è¿™ä¸ªåœ°æ–¹çš„dp[j - item[i]]å†™é”™ æˆ‘ä¹ æƒ¯å†™ -1ï¼Œæ²¡åšå‡ºæ¥ã€‚åŒºåˆ«åœ¨å“ªé‡Œï¼Œå¯èƒ½æ˜¯valueè¿˜è¦æœ€å¤§ï¼ŒåŒæ—¶limitæ»¡è¶³ï¼Œå¤šäº†ä¸€ä¸ªæ¡ä»¶ã€‚è¿™é“é¢˜åªæ˜¯éå†ä¸€ä¸ªåˆ—è¡¨æ‰¾å‡ºè£…è´§çš„æœ€å¤§ã€‚93é¢˜å…¶å®æ˜¯åœ¨væœ€å¤§å®¹é‡ä¸‹ï¼Œæ»¡è¶³limits(åˆ°è¿™é‡Œå’Œæœ¬é¢˜ç›¸åŒï¼Œæˆ‘ä¹Ÿæ˜¯è¿™ä¸ªæ€è·¯å†™)ï¼ŒåŒæ—¶valueæœ€å¤§ï¼Œå¤šäº†è¿™ä¸ªæ§åˆ¶å˜é‡ã€‚æŒ‰ç…§è¿™é¢˜å†™æ³•ï¼Œå¯èƒ½èƒ½å†™å‡ºæ¥å§ï¼Œåæ­£maxå°±å¯ä»¥äº†ã€‚ä¸ç®¡ã€‚

        # è¿”å›å‰©ä½™ç©ºé—´
        return v - dp[v]

















# ç™¾åº¦ 0825

ç¬¬ä¸€é¢˜æ˜¯åŸºç¡€çš„æ¨¡æ‹Ÿé¢˜ï¼Œä½†æ˜¯å¤„ç†èµ·æ¥æœ‰äº›è®¸éº»çƒ¦ï¼Œéš¾åº¦ä¸å¤§ã€‚

ç¬¬äºŒé¢˜ä¹Ÿæ˜¯åŸºç¡€çš„æ¨¡æ‹Ÿé¢˜ï¼Œä½†æ˜¯è¦æ³¨æ„æ•°æ®è§„æ¨¡ï¼Œéœ€è¦å¯¹äºä¸€äº›caseè¿›è¡Œé¢å¤–çš„å¤„ç†ã€‚

ç¬¬ä¸‰é¢˜è¿é€šå›¾çš„å¤„ç†ï¼Œéš¾åº¦æœ‰äº›è®¸å¤§ï¼Œéœ€è¦åˆ†æå¥½é¢˜æ„é‡Œé¢çš„ç‰¹æ®Šçš„è¿é€šå…³ç³»è¿›è¡Œå¿«é€Ÿçš„å¤„ç†ã€‚

## ç¬¬ä¸€é¢˜ ç¬¬äºŒé¢˜å¯ä»¥ç†è§£
## ç¬¬ä¸‰é¢˜ æµè¨€ç»ˆç»“è€…
åœ¨ä¸€ä¸ªå°é•‡ä½ç€nä¸ªäººï¼Œå…¶ä¸­æœ‰må¯¹æœ‹å‹å…³ç³»ã€‚æœ‹å‹å…³ç³»æ˜¯ç›¸äº’çš„ï¼Œå³Aæ˜¯Bçš„æœ‹å‹ä¹Ÿæ„å‘³ç€Bæ˜¯Açš„æœ‹å‹ã€‚è¿™nä¸ªäººåˆ†ä¸ºä¸¤ç±»ï¼šç¬¬ä¸€ç§äººå¬åˆ°ä¸€ä¸ªæµè¨€ä¹‹åï¼Œä¼šæŠŠå®ƒè¯´ç»™æ‰€æœ‰æ²¡æœ‰å¬è¿‡è¿™ä¸ªæµè¨€çš„æœ‹å‹å¬ã€‚ç¬¬äºŒç§äººå¬åˆ°ä¸€ä¸ªæµè¨€ä¹‹åï¼Œä¸ä¼šæŠŠå®ƒè¯´ç»™ä»»ä½•ä¸€ä¸ªæœ‹å‹å¬ã€‚ç°åœ¨æœ‰qæ¬¡äº‹ä»¶å‘ç”Ÿï¼Œæ¯æ¬¡äº‹ä»¶å½¢å¦‚"æœ‰ä¸€ä¸ªäººuå¬è¯´äº†æŸä¸ªæµè¨€"ï¼Œæ¯æ¬¡äº‹ä»¶ç‹¬ç«‹ã€‚è¯·é—®å¯¹äºæ¯ä¸€æ¬¡äº‹ä»¶ï¼Œæœ‰å¤šå°‘äººæœ€ç»ˆä¼šå¬åˆ°è¿™ä¸ªæµè¨€ï¼Ÿ

è¾“å…¥æè¿°

ç¬¬ä¸€è¡Œæ­£æ•´æ•°n,m,qã€‚

æ¥ä¸‹æ¥mè¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•°å­— u,v(u!=v)ï¼Œè¡¨ç¤ºåˆå§‹çš„ä¸€å¯¹æœ‹å‹å…³ç³»ï¼Œæœ‹å‹å…³ç³»ä¸ä¼šé‡å¤ç»™å‡º

æ¥ä¸‹æ¥ä¸€è¡Œnä¸ªæ•°å­—,æ¯ä¸ªæ•°å­—ä¸º1æˆ–è€…2ï¼Œç¬¬iä¸ªæ•°å­—è¡¨ç¤ºç¬¬iä¸ªäººå±äºç¬¬ä¸€ç§äºº/ç¬¬äºŒç§äººã€‚

æ¥ä¸‹æ¥ä¸€è¡Œqä¸ªæ•´æ•°ï¼Œæ¯ä¸ªæ•´æ•°ä»£è¡¨ä¸€æ¬¡äº‹ä»¶ä¸­æœ€åˆå¬åˆ°çš„æµè¨€çš„äººã€‚

1<=n<=10^5, 1<=q<=210^5, 1<=m<=210^5

è¾“å‡ºæè¿°

å¯¹äºæ¯ä¸ªäº‹ä»¶ï¼Œè¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨å—å½±å“çš„æ€»äººæ•°

ç¤ºä¾‹ 1

è¾“å…¥

    5 5 5
    1 2
    2 3
    3 4
    4 5
    1 5
    1 2 1 1 2
    1 2 3 4 5
è¾“å‡º

    3
    1
    4
    4
    1
è¯´æ˜

ç¬¬ä¸€æ¬¡å¬åˆ°æµè¨€çš„äººä¸º1,2,5ï¼Œç¬¬äºŒã€äº”æ¬¡ä»…æœ‰åˆå§‹æ—¶å¬åˆ°æµè¨€çš„äººå¬åˆ°äº†ï¼Œç¬¬ä¸‰ã€å››æ¬¡æ˜¯2,3,4,5

ç¤ºä¾‹ 2

è¾“å…¥

    6 7 5
    1 2
    1 4
    1 6
    4 6
    3 5
    1 5
    2 6
    1 2 1 1 1 2
    1 2 3 5 6
è¾“å‡º

    6
    1
    6
    6
    1




æˆ‘çš„æ€è·¯ç›´æ¥set ä¸éœ€è¦æ‰¾æ ¹å•¥çš„å¤ªéº»çƒ¦       
å¤šåŠ ä¸€ç‚¹åˆ¤æ–­å³å¯      
ä»–è¿™ä¸ªåˆè¦ç”¨é”®ä¸­å€¼ä½œé”® ç®€ç›´å°±æ˜¯æƒ³åšæˆæ ‘ å¤ªéº»çƒ¦



æ€è·¯ä¸ä»£ç 

ç¦»çº¿å¤„ç†+ å¹¶æŸ¥é›†ã€‚

æˆ‘ä»¬é¦–å…ˆæ€è€ƒä»¥ä¸‹é—®é¢˜ï¼š

å¦‚æœaå’Œbæ˜¯æœ‹å‹ï¼Œå¹¶ä¸”aå’Œbéƒ½æ˜¯ç¬¬ä¸€ç§ç±»å‹çš„ï¼Œè¿™æ ·å°±è·Ÿæœ‹å‹çš„è¿é€šå›¾æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«äº†ï¼Œç›´æ¥unionå³å¯ã€‚
å¦‚æœaå’Œbæ˜¯æœ‹å‹ï¼Œå¹¶ä¸”aå’Œbéƒ½æ˜¯ç¬¬äºŒç§ç±»å‹çš„å‘¢ï¼Ÿæ­¤æ—¶ä»–ä»¬ç›´æ¥çš„è¿é€šå—å…³ç³»å¹¶ä¸ä¼šä¼ æ’­ï¼Œå¯ä»¥ä¸åšä»»ä½•å¤„ç†ã€‚
å¦‚æœaå’Œbæ˜¯æœ‹å‹ï¼Œå¹¶ä¸”åªæœ‰æ˜¯bç¬¬äºŒç§ç±»å‹çš„å‘¢ï¼Ÿæ­¤æ—¶ï¼Œå¯¹äºaçš„è¿é€šå›¾æ¥è®²ï¼Œå¯ä»¥ä¼ æ’­çš„æ•°é‡ä¼š+1ï¼Œè€Œbæ²¡æœ‰ä»»ä½•æ”¹å˜ã€‚
ä½†æ˜¯è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå‡è®¾aå’Œbæ˜¯ç±»å‹1ï¼Œå¹¶ä¸”aå’Œbæ˜¯æœ‹å‹ï¼›æ­¤æ—¶aå’Œcä¹Ÿæ˜¯æœ‹å‹ï¼Œbå’Œcä¹Ÿæ˜¯æœ‹å‹ï¼Œå¹¶ä¸”cæ˜¯ç¬¬äºŒç§ç±»å‹ï¼Œæ­¤æ—¶cåªèƒ½ç»™aå’Œbè¿™ä¸ªè¿é€šå—è´¡çŒ®1æ¬¡ã€‚æ‰€ä»¥æ­¤å¤„éœ€è¦ç¦»çº¿å¤„ç†ï¼Œå°†æ‰€æœ‰çš„ç±»å‹ä¸€çš„èŠ‚ç‚¹å…ˆè¿›è¡ŒUnionï¼Œç„¶åå¯¹äºå­˜åœ¨ç±»å‹äºŒçš„æœ‹å‹å…³ç³»ï¼Œå†å•ç‹¬å¤„ç†ï¼Œç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è¡¨ç¤ºæ¯ä¸ªç±»å‹æœ€å¤šåªèƒ½ç»™ä¸€ä¸ªè¿é€šå—è´¡çŒ®ä¸€æ¬¡ã€‚




    from collections import defaultdict

    n,m,q = map(int, input().split())

    edges = []
    for _ in range(m):
        a,b = map(int, input().split())
        edges.append((a,b))

    types = [0] + [int(c) for c in input().split()]

    fa = [i for i in range(n+1)] ä»–è¿™ä¸ªè®¾ç½®æ„æ€æ˜¯åˆå§‹æ ¹èŠ‚ç‚¹æ˜¯è‡ªå·± 0 1 2 3 4 5
    cnts = [1]*(n+1)
    #æ‰¾åˆ°xçš„æ ¹èŠ‚ç‚¹
    def find(x):
        if x == fa[x]: return x æ˜¯è‡ªå·± è¿”å›ã€‚ä»€ä¹ˆæ—¶å€™ä¸æ˜¯è‡ªå·±ï¼Ÿ
        fa[x] = find(fa[x]) å¾ªç¯æ‰¾çˆ¶èŠ‚ç‚¹ ç›´åˆ°æ²¡æœ‰æŒ‡å‘çš„èŠ‚ç‚¹ è¿™ç§é€šè¿‡ åˆ—è¡¨æ¨¡æ‹Ÿå­—å…¸æ¨¡æ‹Ÿæ ‘ï¼Ÿè¿™ç›´æ¥ä¹±æ­» ç›´æ¥ç‚¹è¿˜å¥½äº›
        return fa[x] æœ€ç»ˆè§„å®šfa[x]ç¡®å®æ˜¯çˆ¶èŠ‚ç‚¹åŒæ—¶èµ‹å€¼ ç„¶åè¿˜è¦è¿”å›çˆ¶èŠ‚ç‚¹

    #åˆå¹¶ä¸¤ä¸ªèŠ‚ç‚¹
    def union(x,y):
        fx, fy = find(x), find(y) æ‰¾çˆ¶èŠ‚ç‚¹ æ ¹èŠ‚ç‚¹
        if fx == fy: return çˆ¶èŠ‚ç‚¹ä¸€æ · ä¸å¤„ç†? è¡¨ç¤ºå·²ç»åœ¨ä¸€ä¸ªUnion
        cnts[fy] += cnts[fx] æ²¡çœ‹æ‡‚ ç»Ÿè®¡å„¿å­ä¸ªæ•°ï¼Ÿ  å½“ä¸ä¸€æ ·çš„æ—¶å€™ åˆå¹¶
        fa[fx] = fy é‡æ–°è®¾ç½®çˆ¶èŠ‚ç‚¹ ååˆ†çš„ä¹± è¿™æ ·ä¸€ä¸ªæ¥ä¸€ä¸ªæ²¡æ„æ€ ç›¸å½“äºåˆ›é€ union
        æœ‰çˆ¶äº² å°±æ˜¯union fyè®¾ç½®ä¸ºfxçš„çˆ¶äº² å¾ªç¯è®¾ç½®

    for a,b in edges:
        if types[a] == types[b] == 1:
            union(a,b) æ¯”è¾ƒå¥½å¥‡ä»–è¿™äº›åœ¨åšä»€ä¹ˆ

    vst = defaultdict(set)

    for a,b in edges:
        if types[a] ==2 or types[b] == 2:
            if types[a] == types[b] ==2: continue
            elif types[a] == 2:
                if find(b) in vst[a]: continue
                vst[a].add(find(b))
                cnts[find(b)] += 1
            else:
                if find(a) in vst[b]: continue
                vst[b].add(find(a))
                cnts[find(a)] += 1


    queries = [int(c) for c in input().split()]

    for query in queries:
        print(cnts[find(query)])







# å¾—ç‰© 0828
## ç¬¬ä¸€é¢˜

    import sys

    n,k = map(int,input().split(' '))
    a= list(map(int,input().split(' ')))

    win_rate=0

    per_win_rate = [[0]*n for _ in range(n)]
    for i in range(n):
        for j in range(n):
            per_win_rate[i][j] = a[i]/(a[i]+a[j])
    win_1_rate=[]

    for i in range(n):
        #if k==1
        temp=1
        for j in range(n):
            if i==j: continue
            temp *= per_win_rate[i][j]
        #if k=2:
        # win_rate += temp
        win_1_rate.append(temp)

    for i in range(n):
        if k==1:
            win_rate+=win_1_rate[i]
        if k==2:
            for j in range(n):
                if j==i: continue
                win_rate+=win_1_rate[i]*win_1_rate[j]
        if k==3:
            for j in range(n):
                if j==i: continue
                for k in range(n):
                    if k==i or k==j: continue
                    win_rate+=win_1_rate[i]*win_1_rate[j]*win_1_rate[k]


    print(f'{win_rate:.2f}')

åªä¼šè¿™ä¹ˆå†™ å¤ªè ¢äº†





æ‚¨å¯ä»¥å°†æ­¤ä»£ç ç®€åŒ–ä¸ºä¸€ä¸ªæ›´é€šç”¨çš„ç‰ˆæœ¬ï¼Œä»¥æ”¯æŒä»»æ„çš„ k å€¼ã€‚è€ƒè™‘åˆ° k å¯èƒ½æ˜¯ä¸€ä¸ªè¾ƒå¤§çš„æœªçŸ¥æ•°ï¼ˆä¾‹å¦‚ 100 æˆ– 200ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é€’å½’æˆ– itertools æ¨¡å—ä¸­çš„ combinations å‡½æ•°æ¥ç”Ÿæˆæ‰€æœ‰çš„ç»„åˆå¹¶è®¡ç®— win_rateã€‚

ä»¥ä¸‹æ˜¯ä½¿ç”¨ itertools.combinations çš„ç®€åŒ–ç‰ˆæœ¬ï¼š

    python
    å¤åˆ¶ä»£ç 
    from itertools import combinations

    win_rate = 0

    # ç”Ÿæˆæ‰€æœ‰é•¿åº¦ä¸º k çš„ç»„åˆ
    for combination in combinations(range(n), k):
        product = 1
        for index in combination:
            product *= win_1_rate[index]
        win_rate += product
è§£é‡Šï¼š
combinations(range(n), k)ï¼šç”Ÿæˆé•¿åº¦ä¸º k çš„æ‰€æœ‰å¯èƒ½ç´¢å¼•ç»„åˆã€‚
éå†æ¯ä¸ªç»„åˆï¼šå¯¹æ¯ä¸ªç»„åˆè®¡ç®—å…¶ä¹˜ç§¯ï¼Œå¹¶å°†ç»“æœç´¯åŠ åˆ° win_rateã€‚
è¿™ç§æ–¹æ³•ç®€åŒ–äº†ä»£ç é€»è¾‘ï¼Œé¿å…äº†å¤šä¸ªåµŒå¥—çš„ for å¾ªç¯ï¼Œä½¿å…¶æ›´åŠ é€šç”¨å’Œçµæ´»ã€‚


è®°å¿†é‡Œå¥½åƒæ˜¯ç”¨ä¸‰ç»´æ•°ç»„åšçš„ ä½†æ˜¯è¿™é‡Œè¯´å»é€’å½’

ä½¿ç”¨é€’å½’æ–¹æ³•æ¥è®¡ç®— win_rateï¼Œæˆ‘ä»¬å¯ä»¥é€’å½’åœ°é€‰æ‹©å½“å‰çš„å…ƒç´ å¹¶è®¡ç®—æ‰€æœ‰å¯èƒ½çš„ç»„åˆä¹˜ç§¯ã€‚é€’å½’çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œåœ¨æ¯ä¸€å±‚é€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åé€’å½’åœ°å¤„ç†å‰©ä½™çš„å…ƒç´ ï¼Œç›´åˆ°è¾¾åˆ°æ‰€éœ€çš„ç»„åˆé•¿åº¦ kã€‚

ä¸‹é¢æ˜¯ä½¿ç”¨é€’å½’æ¥å®ç°çš„ä»£ç ï¼š

    python
    å¤åˆ¶ä»£ç 
    def calculate_win_rate(n, k, win_1_rate):
        def recursive_combination(current_index, current_product, remaining_k):
            # å¦‚æœå·²ç»é€‰æ‹©äº†kä¸ªå…ƒç´ ï¼Œåˆ™å°†å½“å‰ä¹˜ç§¯åŠ å…¥win_rate
            if remaining_k == 0:
                return current_product
            
            win_rate = 0
            # ä»å½“å‰ç´¢å¼•å¼€å§‹ï¼Œé€‰æ‹©ä¸‹ä¸€ä¸ªå…ƒç´ 
            for i in range(current_index, n):
                win_rate += recursive_combination(i + 1, current_product * win_1_rate[i], remaining_k - 1)
            
            return win_rate

        # åˆå§‹è°ƒç”¨ï¼Œå¼€å§‹ç´¢å¼•ä¸º0ï¼Œä¹˜ç§¯ä¸º1ï¼Œå‰©ä½™éœ€è¦é€‰æ‹©çš„kä¸ªå…ƒç´ 
        return recursive_combination(0, 1, k)

    # ç¤ºä¾‹ä½¿ç”¨
    n = 5  # å‡è®¾nçš„å€¼ä¸º5
    k = 3  # å‡è®¾kçš„å€¼ä¸º3
    win_1_rate = [0.1, 0.2, 0.3, 0.4, 0.5]  # å‡è®¾win_1_rateçš„å€¼
    win_rate = calculate_win_rate(n, k, win_1_rate)
    print(win_rate)
è§£é‡Šï¼š
recursive_combination å‡½æ•°:

current_indexï¼šå½“å‰è€ƒè™‘çš„ç´¢å¼•ã€‚
current_productï¼šå½“å‰å·²é€‰æ‹©å…ƒç´ çš„ä¹˜ç§¯ã€‚
remaining_kï¼šè¿˜éœ€è¦é€‰æ‹©çš„å…ƒç´ ä¸ªæ•°ã€‚
é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šå½“ remaining_k == 0 æ—¶ï¼Œè¡¨ç¤ºå·²ç»é€‰æ‹©äº† k ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶è¿”å›å½“å‰çš„ä¹˜ç§¯ã€‚

é€’å½’è°ƒç”¨ï¼šåœ¨æ¯ä¸€æ­¥ï¼Œé€‰æ‹©å½“å‰ç´¢å¼•åçš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶é€’å½’åœ°è®¡ç®—å‰©ä½™çš„ç»„åˆã€‚

åˆå§‹è°ƒç”¨ï¼šä»ç´¢å¼• 0 å¼€å§‹ï¼Œåˆå§‹ä¹˜ç§¯ä¸º 1ï¼Œéœ€è¦é€‰æ‹© k ä¸ªå…ƒç´ ã€‚


å·²ç»æ„Ÿè§‰å¾ˆä¼˜ç¾äº†


dpæœ‰ç‚¹çœ‹ä¸æ‡‚

ä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰å¯ä»¥æœ‰æ•ˆåœ°ä¼˜åŒ–è¿™ä¸ªé—®é¢˜ï¼Œé¿å…é€’å½’å¯èƒ½å¸¦æ¥çš„æ€§èƒ½ç“¶é¢ˆã€‚æˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ª DP æ•°ç»„æ¥ä¿å­˜ä¸­é—´ç»“æœï¼Œä»¥é¿å…é‡å¤è®¡ç®—ã€‚

åŠ¨æ€è§„åˆ’è§£æ³•
æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ dp[i][j] æ¥è¡¨ç¤ºä»å‰ i ä¸ªå…ƒç´ ä¸­é€‰å– j ä¸ªå…ƒç´ çš„ç»„åˆçš„æ€»ä¹˜ç§¯å’Œã€‚æœ€ç»ˆçš„ç­”æ¡ˆ win_rate å°†ä¼šæ˜¯ dp[n][k]ã€‚

åŠ¨æ€è§„åˆ’çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
åˆå§‹åŒ–:

dp[0][0] = 1ï¼šä» 0 ä¸ªå…ƒç´ ä¸­é€‰ 0 ä¸ªçš„ä¹˜ç§¯å’Œæ˜¯ 1ï¼ˆå³æ²¡æœ‰é€‰ä»»ä½•å…ƒç´ ï¼‰ã€‚
dp[i][0] = 1ï¼šä»å‰ i ä¸ªå…ƒç´ ä¸­é€‰ 0 ä¸ªçš„ä¹˜ç§¯å’Œä¹Ÿæ˜¯ 1ï¼ˆæ²¡æœ‰é€‰ä»»ä½•å…ƒç´ çš„ä¹˜ç§¯ï¼‰ã€‚
çŠ¶æ€è½¬ç§»æ–¹ç¨‹:

å¦‚æœ j > 0ï¼Œåˆ™ dp[i][j] = dp[i-1][j] + dp[i-1][j-1] * win_1_rate[i-1]ã€‚
è§£é‡Šï¼šdp[i][j] è¡¨ç¤ºå‰ i ä¸ªå…ƒç´ ä¸­é€‰ j ä¸ªçš„æ€»å’Œã€‚
ä¸é€‰ç¬¬ i ä¸ªå…ƒç´ : dp[i-1][j]
é€‰ç¬¬ i ä¸ªå…ƒç´ : dp[i-1][j-1] * win_1_rate[i-1]
å®ç°ä»£ç ï¼š

    python
    å¤åˆ¶ä»£ç 
    def calculate_win_rate_dp(n, k, win_1_rate):
        # åˆå§‹åŒ–DPæ•°ç»„, å¤§å°ä¸º (n+1) x (k+1)
        dp = [[0] * (k + 1) for _ in range(n + 1)]

        # åˆå§‹åŒ–åŸºå‡†æƒ…å†µ
        dp[0][0] = 1  # ä»0ä¸ªå…ƒç´ ä¸­é€‰æ‹©0ä¸ªçš„æƒ…å†µ
        for i in range(1, n + 1):
            dp[i][0] = 1  # ä»å‰iä¸ªå…ƒç´ ä¸­é€‰æ‹©0ä¸ªçš„æƒ…å†µ

        # å¡«å……DPè¡¨
        for i in range(1, n + 1):
            for j in range(1, k + 1):
                dp[i][j] = dp[i-1][j]  # ä¸é€‰å½“å‰å…ƒç´ 
                if j > 0:
                    dp[i][j] += dp[i-1][j-1] * win_1_rate[i-1]  # é€‰å½“å‰å…ƒç´ 

        # è¿”å›ä»nä¸ªå…ƒç´ ä¸­é€‰å–kä¸ªçš„æ€»ä¹˜ç§¯å’Œ
        return dp[n][k]

    # ç¤ºä¾‹ä½¿ç”¨
    n = 5  # å‡è®¾nçš„å€¼ä¸º5
    k = 3  # å‡è®¾kçš„å€¼ä¸º3
    win_1_rate = [0.1, 0.2, 0.3, 0.4, 0.5]  # å‡è®¾win_1_rateçš„å€¼
    win_rate = calculate_win_rate_dp(n, k, win_1_rate)
    print(win_rate)
ä¼˜åŒ–å’Œè§£é‡Šï¼š
æ—¶é—´å¤æ‚åº¦: è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n * k)ï¼Œå› ä¸ºæˆ‘ä»¬å¡«å……äº†ä¸€ä¸ªå¤§å°ä¸º n * k çš„ DP è¡¨æ ¼ã€‚
ç©ºé—´å¤æ‚åº¦: ç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(n * k)ï¼Œä½†å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–åˆ° O(k)ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦å‰ä¸€è¡Œçš„ç»“æœæ¥è®¡ç®—å½“å‰è¡Œã€‚
ç©ºé—´ä¼˜åŒ–çš„ DP è§£æ³•ï¼š
å¦‚æœæˆ‘ä»¬åªä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ dp[j] æ¥å­˜å‚¨å½“å‰è¡Œçš„æ•°æ®ï¼ˆä»å¤§åˆ°å°æ›´æ–°ï¼‰ï¼Œåˆ™å¯ä»¥å°†ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–åˆ° O(k)ï¼š

    python
    å¤åˆ¶ä»£ç 
    def calculate_win_rate_optimized_dp(n, k, win_1_rate):
        # åˆå§‹åŒ–ä¸€ç»´DPæ•°ç»„
        dp = [0] * (k + 1)
        dp[0] = 1  # åŸºå‡†æƒ…å†µ

        # å¡«å……DPæ•°ç»„
        for i in range(1, n + 1):
            # ä»åå‘å‰éå†ä»¥é¿å…è¦†ç›–æ‰å½“å‰éœ€è¦çš„çŠ¶æ€
            for j in range(k, 0, -1):
                dp[j] += dp[j - 1] * win_1_rate[i - 1]

        # è¿”å›ä»nä¸ªå…ƒç´ ä¸­é€‰å–kä¸ªçš„æ€»ä¹˜ç§¯å’Œ
        return dp[k]

    # ç¤ºä¾‹ä½¿ç”¨
    n = 5  # å‡è®¾nçš„å€¼ä¸º5
    k = 3  # å‡è®¾kçš„å€¼ä¸º3
    win_1_rate = [0.1, 0.2, 0.3, 0.4, 0.5]  # å‡è®¾win_1_rateçš„å€¼
    win_rate = calculate_win_rate_optimized_dp(n, k, win_1_rate)
    print(win_rate)
æ€»ç»“ï¼š
ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•å¯ä»¥æœ‰æ•ˆé¿å…é€’å½’å¸¦æ¥çš„æ—¶é—´å¤æ‚åº¦çˆ†ç‚¸ï¼ŒåŒæ—¶å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ï¼Œé€‚ç”¨äºæ›´å¤§çš„ n å’Œ kã€‚


## ç¬¬ä¸‰é¢˜
æ®è¯´ä¸‰å±‚forå¾ªç¯ æœ€å¤–å±‚æ£€æµ‹<n/2 break       
å†…éƒ¨ä¸¤ä¸ªæŒ‡é’ˆi j è®¡ç®—æœ€å°ä¿®æ”¹æ¬¡æ•°

 
## é¢è¯•ï¼š æœ€å¤§å’Œçš„è¿ç»­å­ä¸²çš„å’Œ

    def max_subarray_sum(nums):
        if not nums:
            return 0

        max_sum = current_sum = nums[0] èµ‹å€¼ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ 

        for num in nums[1:]: éå†åç»­æ‰€æœ‰å…ƒç´ 
            current_sum = max(num, current_sum + num) æ²¡ææ‡‚ä¸ºä»€ä¹ˆæœ‰æ•ˆã€‚æ¯”è¾ƒ å•ä¸ªå…ƒç´ å’Œcurrent_sum+å•ä¸ªå…ƒç´ çš„æœ€å¤§å€¼ï¼Œ é¿å…é‡åˆ°è´Ÿå€¼-é¿å…ä¸‹é™ã€‚å¦‚æœå•ä¸ªå…ƒç´ å¤§äºï¼ˆä¹‹å‰å’Œå½“å‰å…ƒç´ çš„å’Œï¼‰ï¼Œåˆ™å¯ç”¨å½“å‰å…ƒç´ 
            1ï¼Œ1ï¼Œ1 åˆ™ä¸€ç›´åŠ 
            1ï¼Œ-3ï¼Œ1
            1ï¼Œ-1,2
            3ï¼Œ-1ï¼Œ-1 é¦–å…ˆå½“å‰æ€»å’Œæœ€å¤§ä¸º3ï¼Œå¼•å…¥-1ï¼Œå°è¯•æ›´æ–°ä¸ºå…¨å±€æœ€å¤§
            3ï¼Œ-2,1 é¦–å…ˆå½“å‰æ€»å’Œæœ€å¤§3ï¼Œå¼•å…¥-1ï¼Œå½“å‰æ±‡æ€»å’Œä¸º2ï¼Œä¸‹ä¸€æ¬¡ï¼Œå¼•å…¥1
            æˆªæ–­è€ƒè™‘
            3ï¼Œ-4,2,5 é¦–å…ˆ3 å¼•å…¥-4 å½“å‰å’Œä¸º-1 å¼•å…¥2ï¼Œæˆªæ–­ï¼Œå½“å‰å’Œä¸º2ï¼Œä¹Ÿå³ï¼ˆä¹‹å‰å’Œï¼‰è‹¥ä¸ºè´Ÿï¼Œåˆ™å¯¹åç»­æ²¡æœ‰å¢ç›Šï¼Œè¿›è¡Œèˆå¼ƒ
            å¯¹åç»­å³ä½¿æœ‰å¾®å°æ­£å‘æ”¶ç›Š 1 ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ï¼Œæ¯”å¦‚ maxï¼ˆ5,5+1ï¼‰
            max_sum = max(max_sum, current_sum) ä¸€ç›´æ›´æ–°ä¸ºæœ€å¤§çš„å½“å‰æ€»å’Œ

        return max_sum

    # ç¤ºä¾‹
    nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4]
    print(max_subarray_sum(nums))  # è¾“å‡º 6ï¼Œå¯¹åº”å­æ•°ç»„ [4, -1, 2, 1]






















# å°çº¢ä¹¦91
æ•´åœºç¬”è¯•éš¾åº¦è¾ƒå¤§ï¼Œè€ƒç‚¹åˆ†åˆ«ä¸ºï¼šåŠ¨æ€è§„åˆ’ã€åŠ¨æ€è§„åˆ’ã€åŠ¨æ€è§„åˆ’ç¬¬äºŒé¢˜ã€ç¬¬ä¸‰é¢˜çš„è€ƒç‚¹ï¼Œéƒ½åœ¨akæœºåˆ¶ä½œçš„å¤§å‚ç¬”è¯•åŸºç¡€è¯¾çš„ç¬¬ä¸‰ç« å‡æœ‰æ¶‰åŠåˆ°ï¼Œå°¤å…¶æ˜¯ç¬¬ä¸‰é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªæ ‘å½¢DFSçš„æ¨¡æ¿é¢˜
## ç¬¬ä¸€é¢˜ï¼šå±±å³°æ•°ç»„

é¢˜ç›®æè¿°ak æœºå®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸ºçš„æ•°ç»„ä¸º"å±±å³°æ•°ç»„":å­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªä½ç½®ï¼Œä½¿å¾—è¿™ä¸ªä½ç½®å·¦å³ä¸¤è¾¹çš„å…¨éƒ¨å…ƒç´ å‡ä¾æ¬¡ä¸¥æ ¼é€’å‡;ä½¿ç”¨æ•°å­¦çš„è¯­è¨€æ¥æè¿°ï¼Œå³å­˜åœ¨ä½¿å¾—$a_{i-1}a_{i+1}(i\in [1,x])$ã€‚ä¾‹å¦‚ å’Œæ˜¯â€œå±±å³°æ•°ç»„â€è€Œå’Œä¸æ˜¯â€œå±±å³°æ•°ç»„â€ã€‚ak æœºæœ‰ä¸€ä¸ªé•¿åº¦ä¸ºçš„æ•°ç»„ï¼Œä»–æƒ³çŸ¥é“åœ¨å…¨éƒ¨çš„å­æ•°ç»„ä¸­ï¼Œæ˜¯â€œå±±å³°æ•°ç»„â€çš„å­æ•°ç»„çš„é•¿åº¦æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚å¦‚æœæ•°ç»„å¯ä»¥é€šè¿‡ä»æ•°ç»„çš„å¼€å¤´åˆ é™¤è‹¥å¹²(å¯èƒ½ä¸ºé›¶æˆ–å…¨éƒ¨)å…ƒç´ ä»¥åŠä»ç»“å°¾åˆ é™¤è‹¥å¹²(å¯èƒ½ä¸ºé›¶æˆ–å…¨éƒ¨)å…ƒç´ å¾—åˆ°ï¼Œåˆ™æ•°ç»„æ˜¯æ•°ç»„çš„å­æ•°ç»„ã€‚

é¢˜è§£ï¼šçº¿æ€§ DPæœ¬é¢˜æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„çº¿æ€§ DPï¼šæœ€é•¿ä¸Šå‡/ä¸‹é™å­æ•°ç»„

æˆ‘å…¶å®ç”¨çš„ä¹Ÿæ˜¯æ•°ç»„ï¼Œå…ˆå»forä¸¤æ¬¡è®°å½•å‡é™

æ‰¾ä¸åˆ°äº† åæ­£æ˜¯å…ˆè®°è¿›å» ç„¶åå†ä¸€æ¬¡forçœ‹ä¸€æ¬¡





## ç¬¬äºŒé¢˜ï¼šç¾è§‚ç¨‹åº¦

![alt text](assets_picture/ç‰›å®¢é¢˜/image-20.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-21.png)

dpå¯¹æˆ‘æ¥è¯´è¿˜æ˜¯å¤ªå¤æ‚ï¼Œç›´è§‰ä¸Šå°±ä¸æƒ³dp

![alt text](assets_picture/ç‰›å®¢é¢˜/image-22.png)

å¥½åƒæ˜¯ä»iæ˜¯å¦å¯ç§»åŠ¨åˆ¤æ–­çš„ï¼Œå¯ç§»åŠ¨å°±ç§»èµ°ï¼Œç„¶åçœ‹æ‹‰å…¥èƒ½ä¸èƒ½æœ€å°ï¼Œä½†æ˜¯æ²¡æœ‰è€ƒè™‘å‰©ä¸‹æœ‰å¤šå°‘èƒ½ç§»åŠ¨è¿›æ¥ï¼Ÿï¼Ÿ

ä¸èƒ½ç§»åŠ¨ å‚è€ƒè¿ç§»çŠ¶æ€ï¼Ÿä»€ä¹ˆæ„æ€ï¼Ÿ







    #include<bits/stdc++.h>
    usingÂ namespaceÂ std;
    constÂ intÂ N=110;
    intÂ f[N][N][N][2];Â Â //f[i][j][k][0/1]Â è¡¨ç¤ºå‰Â iÂ ä¸ªç‰©å“ï¼Œå·²æ”¾ç½®Â jÂ ä¸ªç±»åˆ«1ï¼ŒkÂ ä¸ªç±»åˆ«2çš„æœ€å°ä¸ç¾è§‚ç¨‹åº¦
    intÂ n,a[N],b[N],c[2];Â Â //c[0/1]åˆ†åˆ«è¡¨ç¤ºå¯ç§»åŠ¨çš„ç±»åˆ«1ã€2çš„æ•°é‡
    è¿™ä»–å¦ˆæœ‰ç‚¹å¤æ‚

    intÂ main()Â {
    Â Â Â Â cinÂ >>Â n;Â 
    Â Â Â Â forÂ (intÂ iÂ =Â 1;Â iÂ <=Â n;Â i++)Â {
    Â Â Â Â Â Â Â Â cinÂ >>Â a[i]; è®°å½•ç±»åˆ«
    Â Â Â Â Â Â Â Â a[i]--;Â Â Â //æ˜ å°„æˆ0ã€1ï¼Œæ–¹ä¾¿åç»­å¤„ç†
    Â Â Â Â }
    Â Â Â Â forÂ (intÂ iÂ =Â 1;Â iÂ <=Â n;Â i++)Â {
    Â Â Â Â Â Â Â Â cinÂ >>Â b[i]; è®°å½•æ˜¯å¦å¯ç§»åŠ¨
    Â Â Â Â Â Â Â Â if(b[i]==1){ ä»£è¡¨å½“å‰ç¬¬iä¸ªå¯ä»¥ç§»åŠ¨
    Â Â Â Â Â Â Â Â Â Â Â Â c[a[i]]++; å°±è¿™ç§å†™æ³•ï¼Œå¤æ‚èµ·æ¥äº†
    å›å»æ‰¾ç±»åˆ«åˆ—è¡¨ï¼Œç¬¬iä¸ªç‰©å“ï¼Œå¾—åˆ°ç±»åˆ«ï¼Œè®°è¿›å»ï¼Œç±»åˆ«å¯ç§»åŠ¨+1
    Â Â Â Â Â Â Â Â }
    Â Â Â Â }
    Â Â Â Â memset(f,0x3f,sizeofÂ f);
    Â Â Â Â //Â åˆå§‹çŠ¶æ€ï¼Œå‰0ä¸ªç‰©å“ä¸ç¾è§‚ç¨‹åº¦ä¸º0
    Â Â Â Â f[0][0][0][0]Â =Â 0;
    Â Â Â Â f[0][0][0][1]Â =Â 0;

    Â Â Â Â forÂ (intÂ iÂ =Â 1;Â iÂ <=Â n;Â i++)Â { æšä¸¾åˆ°ç¬¬iä¸ªç‰©å“
    Â Â Â Â Â Â Â Â forÂ (intÂ jÂ =Â 0;Â jÂ <=Â c[0];Â j++)Â {Â //Â æšä¸¾å·²æ”¾ç½®çš„ç±»åˆ«1çš„æ•°é‡
    åº”è¯¥è¯´æ˜¯æšä¸¾ç±»åˆ«1å¯ä»¥ç§»åŠ¨çš„æ•°é‡   
    Â Â Â Â Â Â Â Â Â Â Â Â forÂ (intÂ kÂ =Â 0;Â kÂ <=Â c[1];Â k++)Â {Â //Â æšä¸¾å·²æ”¾ç½®çš„ç±»åˆ«2çš„æ•°é‡
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â å¦‚æœå½“å‰ç‰©å“æ˜¯å¯ç§»åŠ¨çš„
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (b[i])Â {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â å½“å‰ç‰©å“æ”¾ç½®ä¸ºç±»åˆ«1
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (j)Â {Â 
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â f[i][j][k][0]Â =Â min(f[i][j][k][0],Â min(f[iÂ -Â 1][jÂ -Â 1][k][0],Â f[iÂ -Â 1][jÂ -Â 1][k][1]Â +Â 1));Â //Â å¦‚æœå‰ä¸€ä¸ªç‰©å“æ˜¯ç±»åˆ«1æˆ–è€…å‰ä¸€ä¸ªç‰©å“æ˜¯ç±»åˆ«2ï¼Œéœ€è¦å¢åŠ ä¸ç¾è§‚ç¨‹åº¦
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â å½“å‰ç‰©å“æ”¾ç½®ä¸ºç±»åˆ«2
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (k)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â f[i][j][k][1]Â =Â min(f[i][j][k][1],Â min(f[iÂ -Â 1][j][kÂ -Â 1][1],Â f[iÂ -Â 1][j][kÂ -Â 1][0]Â +Â 1));Â //Â å¦‚æœå‰ä¸€ä¸ªç‰©å“æ˜¯ç±»åˆ«2æˆ–è€…å‰ä¸€ä¸ªç‰©å“æ˜¯ç±»åˆ«1ï¼Œéœ€è¦å¢åŠ ä¸ç¾è§‚ç¨‹åº¦
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â elseÂ {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â å¦‚æœå½“å‰ç‰©å“æ˜¯ä¸å¯ç§»åŠ¨çš„
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â f[i][j][k][a[i]]Â =Â min(f[i][j][k][a[i]],Â min(f[iÂ -Â 1][j][k][0]Â +Â a[i],Â f[iÂ -Â 1][j][k][1]Â +Â (a[i]Â ^Â 1)));Â //Â å¦‚æœå‰ä¸€ä¸ªç‰©å“æ˜¯ç±»åˆ«0æˆ–è€…å‰ä¸€ä¸ªç‰©å“æ˜¯ç±»åˆ«1

    éƒ½åªç”¨è€ƒè™‘å‰ä¸€ä¸ªç‰©å“ï¼Ÿ11221122 å¥½åƒç¡®å®æ˜¯çš„
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â }
    Â Â Â Â }
    Â Â Â Â intÂ res=min(f[n][c[0]][c[1]][0],f[n][c[0]][c[1]][1]);
    Â Â Â Â cout<<res<<endl;
    Â Â Â Â returnÂ 0;
    }



//f[i][j][k][0/1]Â è¡¨ç¤ºå‰Â iÂ ä¸ªç‰©å“ï¼Œå·²æ”¾ç½®Â jÂ ä¸ªç±»åˆ«1ï¼ŒkÂ ä¸ªç±»åˆ«2çš„æœ€å°ä¸ç¾è§‚ç¨‹åº¦


æ˜¯çš„ï¼Œ`a[i] ^ 1` åœ¨ C++ ä¸­æ˜¯å¼‚æˆ–è¿ç®—ç¬¦çš„ä½¿ç”¨ã€‚

`^` æ˜¯ C++ ä¸­çš„ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼Œå®ƒä¼šå¯¹ä¸¤ä¸ªæ•´æ•°çš„æ¯ä¸€ä½æ‰§è¡Œå¼‚æˆ–æ“ä½œã€‚å¼‚æˆ–çš„è§„åˆ™æ˜¯ï¼š

- 1 ^ 1 = 0
- 0 ^ 0 = 0
- 1 ^ 0 = 1
- 0 ^ 1 = 1

ä¾‹å¦‚ï¼Œå¦‚æœ `a[i]` æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ•° `1010`ï¼Œé‚£ä¹ˆ `(a[i] ^ 1)` çš„ç»“æœå°†æ˜¯ `1011`ï¼Œå› ä¸ºæœ€ä½ä½çš„ `0` å’Œ `1` å¼‚æˆ–ç»“æœæ˜¯ `1`ã€‚è¿™ä¸ªæ“ä½œé€šå¸¸ç”¨äºç¿»è½¬æŸäº›ç‰¹å®šä½ï¼ˆå¦‚æœ€ä½ä½ï¼‰ã€‚


æ•´ä¸ªçœ‹ä¸‹æ¥è¿˜æ˜¯å¾ˆä¹±


    import sys

    # Initialize constants
    N = 110
    INF = float('inf')

    # Initialize arrays
    f = [[[[INF] * 2 for _ in range(N)] for _ in range(N)] for _ in range(N)]
    a = [0] * N
    b = [0] * N
    c = [0, 0]  # c[0] for category 1, c[1] for category 2

    # Input reading
    n = int(input())

    for i in range(1, n + 1):
        a[i] = int(input()) - 1  # Map to 0, 1

    for i in range(1, n + 1):
        b[i] = int(input())
        if b[i] == 1:
            c[a[i]] += 1

    # Initial state: the unappealing degree of the first 0 items is 0
    f[0][0][0][0] = 0
    f[0][0][0][1] = 0

    # Main loop
    for i in range(1, n + 1):
        for j in range(c[0] + 1):  # Enumerate the number of placed category 1 items
            for k in range(c[1] + 1):  # Enumerate the number of placed category 2 items
                if b[i]:  # If the current item is movable
                    # Current item placed as category 1
                    if j:
                        f[i][j][k][0] = min(f[i][j][k][0], 
                                            min(f[i - 1][j - 1][k][0], f[i - 1][j - 1][k][1] + 1))
                    # Current item placed as category 2
                    if k:
                        f[i][j][k][1] = min(f[i][j][k][1], 
                                            min(f[i - 1][j][k - 1][1], f[i - 1][j][k - 1][0] + 1))
                else:  # If the current item is not movable
                    f[i][j][k][a[i]] = min(f[i][j][k][a[i]], 
                                        min(f[i - 1][j][k][0] + a[i], f[i - 1][j][k][1] + (a[i] ^ 1)))

    # Calculate the result
    res = min(f[n][c[0]][c[1]][0], f[n][c[0]][c[1]][1])
    print(res)


è¿‡äºå·§å¦™

ç¡®å®å¤ªå·§å¦™ æ²¡æ€ä¹ˆç†è§£

çœ‹ä¹…äº†ç¡®å®ç†è§£äº†


# æŒšæ–‡
1

class Solution:

    def main(self , P: List[List[int]]) -> int:
        # write code here
        result = []
        if len(P)<2: return 1
        for i,p in enumerate(P):
            left = P[:i]+P[i+1:] if i+1 < len(P) else P[:i]
            max_x = max(sub[0] for sub in left)
            max_y = max(sub[1] for sub in left)
            if p[0] > max_x and p[1] > max_y: result.append(p)
        return 1

2

ç¡®å®é€šè¿‡è¿™é“é¢˜ï¼Œå½»åº•ç†è§£äº†nmsç®—æ³•ï¼Œåªéœ€è¦ä¸€ç›´popå°±è¡Œï¼Œpopåˆ°æœ€å         
ä¹Ÿç†è§£äº†sorted_indicesçš„ç¥å¥‡å†™æ³•ï¼Œç›®æ ‡æ•°æ®ï¼Œç„¶åæ ¹æ®keyå†™-ç›´æ¥å®šä¹‰ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œreverseé»˜è®¤falseç”±å°åˆ°å¤§ï¼Œtrueç”±å¤§åˆ°å°       
sortedå’Œsort()å†åº¦åŠ æ·±



class Solution:

    def main(self , boxes: List[List[int]], scores: List[float], iou_threshold: float) -> int:
        # write code here
        def iou_cal(box1,box2):
            # å·¦ä¸Šè§’
            xi1 = max(box1[0], box2[0])
            yi1 = max(box1[1], box2[1])
            #
            xi2 = min(box1[2], box2[2])
            yi2 = min(box1[3], box2[3])
            inter_area = max(xi2-xi1, 0)*max(yi2-yi1,0)

            box1_area = (box1[2] - box1[0]) * (box1[3] - box1[1])
            box2_area = (box2[2] - box2[0]) * (box2[3] - box2[1])

            return inter_area /(box1_area + box2_area - inter_area) if (box1_area + box2_area - inter_area) !=0 else float('inf')
        
        sorted_indices = sorted(range(len(scores)), key=lambda i:scores[i], reverse=True)
        selected_indices = []

        while sorted_indices:
            current_index = sorted_indices.pop(0)
            selected_indices.append(current_index)

            current_box = boxes[current_index]
            sorted_indices = [idx for idx in sorted_indices if iou_cal(current_box, boxes[idx]) <= iou_threshold] # é»˜è®¤ç½®ä¿¡åº¦é™åº
        result = selected_indices.sort()
        return 1

3

import copy
class Solution:

    def main(self , A: List[int], B: List[int], K: int) -> int:
        # write code here
        # ç®—æ³•æ€è·¯:Båºåˆ—ä¸­æœ‰nä¸ªå…ƒç´ ä¸å†æœ¬æ¥åº”åœ¨çš„ä½ç½®ï¼Œå°±èƒ½çŸ¥é“næ¬¡ç½®æ¢åä¼šé‡æ–°å˜å›åŸæ¥çš„Aåºåˆ—
        # æ—¶é—´å¤æ‚åº¦ O(N+KN), ç©ºé—´å¤æ‚åº¦ O(N)
        cycle_duration = 0
        result = copy.deepcopy(A)
        if K<=0 : return 1
        for i in range(len(B)):
            if B[i]!=i+1: cycle_duration+=1
        K = K % cycle_duration
        if K<=0 : return 1
        for i in range(K):
            for j in range(len(A)):
                result[j] = A[B[j]-1]
            A = copy.deepcopy(result)
        return 1


# ç¾å›¢

## ç¬¬å››é¢˜ å°å¡”åˆ é™¤åºåˆ—ã€‚è¿ç»­æ•°æ®è®°å½•ï¼Œæ²¡å†™å¥½
![alt text](assets_picture/ç‰›å®¢é¢˜/image-23.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-24.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-25.png)

    from collections import defaultdict  
    
    T = int(input())  
    mp = defaultdict(int)  # ä½¿ç”¨defaultdictæ¥è‡ªåŠ¨å¤„ç†ä¸å­˜åœ¨çš„é”®  
    
    while T > 0:  
        T -= 1  
    
        x, y = map(int, input().split())  
        l = max((key for key in mp if key <= x), default=None)  æ‰¾åˆ°èµ·å§‹å€¼å°äºç­‰äºxçš„æœ€å¤§å€¼ã€‚ä¹Ÿå°±æ˜¯å­—å…¸é‡Œå·¦è¾¹ç¦»xæœ€è¿‘çš„ã€‚
    
        # å‘å³ç§»åŠ¨xç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç©ºä½æˆ–è¶…å‡ºmpçš„èŒƒå›´  
        while l is not None and mp[l] >= x:  ä¹Ÿæ˜¯åŒ…å«å…³ç³»ï¼Œå…·ä½“è¯´ç±»ä¼¼ 

        l   x mp[l]
        [   ...].....
               æ–°x

            x = mp[l] + 1  
            l = max((key for key in mp if key <= x), default=None)  è¿™ä¸æ˜¯åˆå¾ªç¯ä¸€è¾¹ï¼Ÿå¥½åƒæ˜¯ä¸ºäº†é˜²æ­¢æ²¡èåˆçš„é”™ä¹±.ï¼Œè¿™ä¸ªxè¢«ä¸€ç›´æ›´æ–°ï¼Œæ‰€ä»¥ç›¸å½“äºxå³ç§»ï¼Œå†é‡æ–°æ‰¾ã€‚ç¬¬äºŒæ¬¡åå°±ä¸å†æ»¡è¶³æ¡ä»¶mp[l] >= xï¼Œå°±ä¸ä¼šå†è¿›å…¥å¾ªç¯ã€‚
    
        r = min((key for key in mp if key > x), default=None)  æ‰¾å‡ºèµ·å§‹å€¼å¤§äºxçš„æœ€å°å€¼ï¼Œä¹Ÿå°±æ˜¯æœ€è¿‘çš„ï¼Œå¾ˆå·§å¦™å•Šï¼Œè¿™ä¸ªminç”¨å¤„å¾ˆå¤§ï¼Œåè¿‡æ¥å°±èƒ½ç”¨æ¥æ‰¾ç»å¯¹å·®å€¼æœ€å°ã€‚æ‰¾å³è¾¹ç¦»xæœ€è¿‘çš„ã€‚
        # æ¸…ç†xåˆ°x+y-1ä¹‹é—´çš„æ‰€æœ‰å·²å ç”¨ä½ç½®  

        ...[.      ]

        if r is not None:  
            while r is not None and r <= x + y - 1:  rè¿™ä¸ªè¾¹ç•Œï¼ˆå³è¾¹åŒºé—´çš„å·¦æé™ï¼‰å°äºç­‰äºå½“å‰å¾…åŠ é•¿é•¿åº¦ï¼ˆåŒºé—´åŒ…å«å…³ç³»ï¼‰ã€‚è¯´æ˜å¾—å¾€åæŸ¥æ‰¾æ²¡è¢«åˆ é™¤çš„æ•°å­—ã€‚
                temp = mp[r]  
                del mp[r]  å‡†å¤‡èåˆ temp - r + 1å°±æ˜¯å·²åˆ é™¤è¿ç»­åŒºé—´é•¿åº¦
                y += temp - r + 1  æ•´ä½“å³ç§»ï¼Œå°±æ˜¯åšèåˆï¼Œä¸çŸ¥é“ç¨€ç–å‹èƒ½å¤„ç†å—ï¼Ÿä¸ç®¡ã€‚ç›´æ¥ç»“åˆåä¸€èµ·è€ƒè™‘æœ€ç»ˆåŠ èµ·æ¥çš„é•¿åº¦ï¼Œè¾“å‡ºå°¾æ•°å­—ã€‚å¢åŠ å¾…åŠ é•¿é•¿åº¦ã€‚
                r = min((key for key in mp if key > r), default=None)  æœ‰ç‚¹ç»•å•Šã€‚è¿™ä¸ªéœ€è¦ä¸åœminåˆ¤æ–­å½“å‰ræ˜¯å¦å·²ç»å¯ç”¨ã€‚ç»§ç»­ç±»ä¼¼è¿›å…¥å¾ªç¯å‰çš„é‚£ç§æŸ¥æ‰¾ã€‚ç•¥ä¸åŒçš„æ˜¯ï¼Œè¿™æ¬¡æ˜¯æ‰¾ç¦»è¯¥è¢«å»æ‰çš„åˆ é™¤åŒºé—´æœ€è¿‘çš„ï¼Œkeyã€‚è€Œä¸æ˜¯è€ƒè™‘x
    
        mp[x] = x + y - 1  è®°ä¸‹æ›´æ–°çš„ï¼Œæ–°å¢è¿ç»­åˆ é™¤åŒºé—´ï¼Œæ–¹ä¾¿åç»­æŸ¥æ‰¾ï¼Œ
        print(x + y - 1)


3
3 3
5
3 3
8
2 2
9


è¿‡äºå·§å¦™ debugç¬¬ä¸€æ¬¡è¿˜æ˜¯çœ‹ä¸æ‡‚

æ•´ä¸ªå°±æ˜¯å¾ˆå·§å¦™


ç¬¬å››é¢˜ä½¿ç”¨mapæˆ–è€…Treeset(java)ç­‰æœ‰åºé›†åˆè¿›è¡Œæ¨¡æ‹Ÿï¼Œç¬¬äº”é¢˜æƒ…å†µè®¨è®º+çº¿æ®µæ ‘

æ•°æ®ç»“æ„




# 4399 0812
## ç¬¬äºŒé¢˜ æ‰“å®¶åŠ«èˆ

    class Solution {
        public int rob(int[] nums) {
            int length = nums.length;
            if (length == 1) {
                return nums[0];
            } else if (length == 2) {
                return Math.max(nums[0], nums[1]);
            }
            return Math.max(robRange(nums, 0, length - 2), robRange(nums, 1, length - 1)); åˆ†ä¸¤ä¸ªéƒ¨åˆ†
        }

        public int robRange(int[] nums, int start, int end) {
            int first = nums[start], second = Math.max(nums[start], nums[start + 1]); å…ˆæ‰¾ä¸€æ¬¡æœ€å¤§
            for (int i = start + 2; i <= end; i++) {
                int temp = second;
                second = Math.max(first + nums[i], second); å†è¿­ä»£è€ƒè™‘åŠ å…¥ç¬¬ä¸‰ä¸ªåçš„æœ€å¤§ã€‚ç¬¬ä¸‰ä¸ªåªèƒ½åŠ è½½firsté‡Œé¢ã€‚firstå’Œsecondé€ä¸ªå¾€å³èµ°ï¼Œsecondè¦ä¿è¯ä¸ºæœ€å¤§ç»“æœã€‚   
                å‡å¦‚firstæœ€å¤§ï¼Œsecondä¹Ÿä¸ºfirstï¼Œç¬¬ä¸€è½®å¾ªç¯åsecondå®é™…ä¸ºfirst+cur,firstå˜æˆäº†firstï¼ˆå³ä¸Šä¸€è½®æœ€å¤§ï¼‰
                ç¬¬äºŒè½®å¾ªç¯ï¼Œè€ƒè™‘ç¬¬å››ä¸ªå…ƒç´ ï¼Œè¿˜æ˜¯åŠ åœ¨firstä¸Šï¼Œå› ä¸ºsecondå®é™…æ˜¯1ã€3åˆä½“ï¼Œå¦‚æœç»“æœæ˜¯1,4æœ€å¤§ï¼Œsecondä¸º1ã€4, firstä¸º1/3      
                ç¬¬äº”è½®ï¼Œç¬¬äº”å…ƒç´ ï¼ŒåŠ åœ¨first.  åªèƒ½è¯´æ–¹æ³•ç¡®å®å·§å¦™ï¼Œèƒ½ä¿è¯1,4è¿™ç§æƒ…å†µä¹Ÿèƒ½å­˜åœ¨ã€‚åŸå› å¯èƒ½åœ¨äºä»–ä¿è¯äº†åŠ è¿›å»çš„å…ƒç´ ä¸€å®šå’Œä¸Šä¸€ä¸ªæœ‰é—´éš”ã€‚æœ‰ç‚¹è¿‡äºå·§å¦™
                
                è¿™é‡Œä¸»è¦æ˜¯ä¿è¯secondä¸€ç›´æ˜¯ä¸¤ä¸ªä¹‹é—´çš„æœ€å¤§ã€‚
                ç„¶åfirstè¦ä¿è¯æ˜¯ä¸Šä¸€ä¸ªçš„å€¼ï¼Ÿç¬¬ä¸€æ¬¡å¾ªç¯ï¼Œfirstå°±æ˜¯ç¬¬ä¸€ä¸ªå€¼
                ç¬¬äºŒæ¬¡å¾ªç¯ï¼Œfirstå˜æˆä¸Šä¸€è½®çš„second

                first = temp;
            }
            return second;
        }
    }

è¿™ç§å†™æ³•ç±»ä¼¼ ç¿»è½¬å­—ç¬¦ä¸² æœ€å¤§å’Œè¿ç»­å­æ•°ç»„ ï¼Œä¸æ¸…æ™°ï¼Œå¯è¯»æ€§å·®ï¼Œå¤šä¸€ä¸ªå˜é‡ï¼Œå˜é‡åè§„èŒƒåŒ–ï¼Œå¤šä¸€äº›æ³¨é‡Šï¼Œç»ä¸ä¼šæœ‰è¿™ä¹ˆå¤šçš„é˜…è¯»æˆæœ¬ï¼Œ      
ç›¸å½“äºæ¯ä¸€ä¸ªäººéƒ½è¦æƒ³æˆ‘ä¸€æ ·å¤šå†™åè¡Œã€‚è¿™ç§ä»£ç ä¸å¦‚ç›´æ¥æŠŠå„ç§å…¸å‹caseéƒ½å†™åœ¨æ—è¾¹ ç»“æœä¹Ÿå†™ä¸Š



## ç¬¬ä¸‰é¢˜
æ€»ä½“çš„é¢˜ç›®éš¾åº¦æ²¡æœ‰å¾ˆå¤§ã€‚

ç¬¬ä¸€é¢˜æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿé¢˜ï¼Œæ ¹æ®è¦æ±‚è¿›è¡Œæ¨¡æ‹Ÿæ“ä½œå³å¯ã€‚

ç¬¬äºŒé¢˜æ˜¯ä¸€é“ç»å…¸DPé—®é¢˜ï¼Œéå¸¸ç®€å•ã€‚

ç¬¬ä¸‰é¢˜åœºæ™¯æ¨¡æ‹Ÿé¢˜ï¼Œç¨å¾®æœ‰äº›ç»•ï¼Œä½†æ˜¯éš¾åº¦ä¹Ÿä¸ä¼šå¾ˆå¤§ï¼Œä»”ç»†ç‚¹å†™ä»£ç å³å¯ã€‚


æœ‰Nä¸ªé¤å…å’ŒMä¸ªå¤–å–å‘˜ï¼Œæ¯ä¸ªé¤å…åœ¨æŸä¸ªæ—¶é—´ç‚¹ä¼šäº§ç”Ÿä¸€ä¸ªå¤–å–è®¢å•ï¼Œè¿™äº›è®¢å•éƒ½æœ‰äº§ç”Ÿæ—¶é—´ã€æ‰€éœ€é€è¾¾æ—¶é—´å’Œä¼˜å…ˆçº§ã€‚å¤–å–å‘˜åœ¨ç©ºé—²æ—¶ä¼šé€‰æ‹©æœ€ä¼˜å…ˆçš„è®¢å•æ¥é…é€ï¼Œç›´åˆ°æ‰€æœ‰è®¢å•éƒ½è¢«é€è¾¾ã€‚

å…·ä½“è§„åˆ™å¦‚ä¸‹: å¯¹äºæ¯ä¸ªé¤å…çš„è®¢å•ï¼Œä¼˜å…ˆçº§é«˜çš„è®¢å•ä¼˜å…ˆï¼Œå…¶æ¬¡æ˜¯æ‰€éœ€é€è¾¾æ—¶é—´æœ€çŸ­çš„è®¢å•ï¼Œå†æ¬¡æ˜¯äº§ç”Ÿæ—¶é—´æœ€æ—©çš„è®¢å•ã€‚å¤–å–å‘˜åœ¨ç©ºé—²æ—¶ä¼šä»`æ‰€æœ‰é¤å…`çš„æœ€é«˜ä¼˜å…ˆçº§è®¢å•ä¸­æŒ‘é€‰ä¸€ä¸ªæ‰€éœ€é€è¾¾æ—¶é—´æœ€çŸ­çš„è®¢å•è¿›è¡Œé…é€ï¼Œè‹¥æ‰€éœ€é€è¾¾æ—¶é—´ç›¸åŒåˆ™é€‰æ‹©é¤å…ç¼–å·æœ€å°çš„è®¢å•ã€‚


ä¼˜å…ˆçº§é«˜    
æ‰€éœ€é€è¾¾æ—¶é—´æœ€çŸ­    
äº§ç”Ÿæ—¶é—´æœ€æ—©    
é¤å…ç¼–å·æœ€å°




è¾“å…¥æè¿°

ç¬¬ä¸€è¡Œä¸‰ä¸ªæ•°Nã€Mã€Pï¼Œåˆ†åˆ«è¡¨ç¤ºæœ‰Nä¸ªé¤å…ï¼ŒMä¸ªå¤–å–å‘˜ï¼ŒPä¸ªè®¢å•éšåæœ‰Pè¡Œï¼Œæ¯è¡Œæœ‰4ä¸ªæ•°å­—ï¼Œåˆ†åˆ«æ˜¯é¤å…ç¼–å·ã€äº§ç”Ÿæ—¶é—´ã€ä¼˜å…ˆçº§å’Œæ‰€éœ€é€è¾¾æ—¶é—´ã€‚


è¾“å‡ºæè¿°

è¾“å‡ºPè¡Œï¼Œæ¯è¡Œè¡¨ç¤ºæ¯ä¸ªè®¢å•è¢«é€è¾¾çš„æ—¶é—´ç‚¹ã€‚


ç¤ºä¾‹ï¼š       
è¾“å…¥ï¼š

    2 2 4
    1 1 2 5       6
    1 4 3 2       8
    2 2 1 4       6
    2 5 2 1       7

è¾“å‡ºï¼š

    6 
    8 
    6 
    7


æ²¡æœ‰è®²è§£ çœ‹ä¸æ‡‚ç­”æ¡ˆæ€ä¹ˆæ¥çš„


è¿™é“é¢˜æ€è·¯å¾ˆæ˜ç¡®ï¼ŒæŒ‰ç…§é¢˜ç›®è¦æ±‚å»æ¨¡æ‹Ÿå³å¯ï¼Œå®ç°è¿‡ç¨‹çš„ä»£ç æ¯”è¾ƒç¹çï¼Œä½†æ˜¯æ€è·¯æ˜¯å¾ˆæ¸…æ™°çš„ã€‚éµå¾ªé¢˜ç›®ä¸­ç»™å‡ºçš„ä¼˜å…ˆçº§è§„åˆ™ã€‚æˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªè®¢å•é˜Ÿåˆ—ï¼Œå¹¶æ ¹æ®æ¡ä»¶é€‰æ‹©åˆé€‚çš„è®¢å•è¿›è¡Œé…é€ã€‚


çœ‹ç€å°±å¾ˆç¹ç

    #include <iostream>
    #include <queue>
    #include <vector>
    #include <algorithm>

    using namespace std;

    struct Order {
        int restaurant_id;
        int start_time;
        int priority;
        int delivery_time;
        int index;
    };

    struct CompareOrder {
        bool operator()(Order const& o1, Order const& o2) {
        
            if (o1.priority != o2.priority)
                return o1.priority < o2.priority;
            if (o1.delivery_time != o2.delivery_time)
                return o1.delivery_time > o2.delivery_time;
            return o1.restaurant_id > o2.restaurant_id;
        }
    };

    struct CompareDeliveryTime {
        bool operator()(int const& t1, int const& t2) {
            return t1 > t2;
        }
    };

    int main() {
        int N, M, P;
        cin >> N >> M >> P;

        vector<Order> orders(P);
        vector<int> result(P);

        for (int i = 0; i < P; i++) {
            cin >> orders[i].restaurant_id >> orders[i].start_time >> orders[i].priority >> orders[i].delivery_time;
            orders[i].index = i;
        }

        // æŒ‰äº§ç”Ÿæ—¶é—´æ’åº
        sort(orders.begin(), orders.end(), [](const Order &a, const Order &b) {
            return a.start_time < b.start_time;
        });

        priority_queue<Order, vector<Order>, CompareOrder> order_queue;
        priority_queue<int, vector<int>, CompareDeliveryTime> free_deliverers;

        // æ‰€æœ‰å¤–å–å‘˜åˆå§‹éƒ½æ˜¯ç©ºé—²çš„
        for (int i = 0; i < M; i++) {
            free_deliverers.push(0);
        }

        int i = 0;

        while (i < P || !order_queue.empty()) {
            // å°†æ‰€æœ‰åœ¨å½“å‰æ—¶é—´ç‚¹æˆ–ä¹‹å‰äº§ç”Ÿçš„è®¢å•åŠ å…¥ä¼˜å…ˆçº§é˜Ÿåˆ—
            while (i < P && orders[i].start_time <= free_deliverers.top()) {
                order_queue.push(orders[i]);
                i++;
            }

            if (!order_queue.empty()) {
                // é€‰æ‹©æœ€ä¼˜è®¢å•è¿›è¡Œé…é€
                Order best_order = order_queue.top();
                order_queue.pop();

                // å¤–å–å‘˜å–å‡ºé˜Ÿåˆ—ä¸­ç©ºé—²æœ€æ—©çš„å¤–å–å‘˜
                int available_time = free_deliverers.top();
                free_deliverers.pop();

                // è®¡ç®—é€è¾¾æ—¶é—´
                int finish_time = max(available_time, best_order.start_time) + best_order.delivery_time;
                result[best_order.index] = finish_time;

                // æ›´æ–°è¯¥å¤–å–å‘˜çš„ç©ºé—²æ—¶é—´
                free_deliverers.push(finish_time);
            } else {
                
                if (i < P) {
                    while (!free_deliverers.empty() && free_deliverers.top() < orders[i].start_time) {
                        free_deliverers.pop();
                        free_deliverers.push(orders[i].start_time);
                    }
                }
            }
        }

        for (int i = 0; i < P; i++) {
            cout << result[i] << endl;
        }

        return 0;
    }



100è¡Œæˆ‘é 

å…ˆæ’ä¸ªåºï¼Œç„¶åç…§å•é€ï¼Œæœ€åæ±‡æ€»result_list æ ¹æ®ç´¢å¼•æ”¾å…¥æ—¶é—´


ä¼˜åŒ–æˆ50è¡Œ è¿˜å¯ä»¥ç†è§£


    import heapq  
    from functools import cmp_to_key  
    
    class Order:  
        def __init__(self, restaurant_id, start_time, priority, delivery_time, index):  
            self.restaurant_id = restaurant_id  
            self.start_time = start_time  
            self.priority = priority  
            self.delivery_time = delivery_time  
            self.index = index  
    
    def compare_order(o1, o2):  
        if o1.priority != o2.priority:  
            return o1.priority < o2.priority  
        if o1.delivery_time != o2.delivery_time:  
            return o1.delivery_time > o2.delivery_time  
        return o1.restaurant_id > o2.restaurant_id  
    
    def compare_delivery_time(t1, t2):  
        return t1 > t2  
    
    def main():  
        N, M, P = map(int, input().split())  
        orders = [Order(*map(int, input().split())) for _ in range(P)]  
        for i, order in enumerate(orders):  
            order.index = i  
    
        orders.sort(key=lambda o: o.start_time)  
    
        order_queue = []  
        free_deliverers = []  
        result = [0] * P  
        heapq.heappush(free_deliverers, 0) * M  # Initialize all deliverers as free at time 0  
    
        i = 0  
        while i < P or order_queue:  
            while i < P and orders[i].start_time <= free_deliverers[0]:  
                heapq.heappush(order_queue, orders[i])  
                i += 1  
    
            if order_queue:  
                best_order = heapq.heappop(order_queue)  
                available_time = heapq.heappop(free_deliverers)  
                finish_time = max(available_time, best_order.start_time) + best_order.delivery_time  
                result[best_order.index] = finish_time  
                heapq.heappush(free_deliverers, finish_time)  
    
            # Skip forward if there are no orders yet but deliverers are available  
            while i < P and free_deliverers and free_deliverers[0] < orders[i].start_time:  
                heapq.heappop(free_deliverers)  
                heapq.heappush(free_deliverers, orders[i].start_time)  
                i += 1  
    
        for time in result:  
            print(time)  
    
    if __name__ == "__main__":  
        main()



åœ¨Pythonä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„heapqæ¥æ¨¡æ‹Ÿä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¹¶ä½¿ç”¨åˆ—è¡¨ï¼ˆlistï¼‰å’Œå­—å…¸ï¼ˆdictï¼‰æ¥å­˜å‚¨è®¢å•å’Œå¤–å–å‘˜çš„ç©ºé—²æ—¶é—´ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–çš„Pythonç‰ˆæœ¬ï¼Œå®ç°äº†ç›¸åŒçš„åŠŸèƒ½ä½†ä½¿ç”¨äº†æ›´å°‘çš„ä»£ç è¡Œï¼š


è¿™ä¸ªPythonç‰ˆæœ¬é€šè¿‡åˆ—è¡¨æ¨å¯¼å¼ç®€åŒ–äº†è¾“å…¥å¤„ç†ï¼Œå¹¶ä½¿ç”¨heapqæ¨¡å—æ¥æ¨¡æ‹Ÿä¼˜å…ˆé˜Ÿåˆ—ã€‚åŒæ—¶ï¼Œé€šè¿‡functools.cmp_to_keyï¼ˆè™½ç„¶åœ¨è¿™ä¸ªä¾‹å­ä¸­ç›´æ¥ä½¿ç”¨äº†æ¯”è¾ƒå‡½æ•°ï¼Œå› ä¸ºheapqæ¥å—æ¯”è¾ƒå‡½æ•°ï¼‰å’Œåˆ—è¡¨çš„sortæ–¹æ³•ç®€åŒ–äº†æ’åºé€»è¾‘ã€‚æ­¤å¤–ï¼Œé€šè¿‡ç›´æ¥åœ¨å¾ªç¯ä¸­å¤„ç†è¾¹ç•Œæ¡ä»¶ï¼Œå‡å°‘äº†ä»£ç é‡ã€‚



## 0909
### ç¬¬äºŒé¢˜
è¿·å®« é™·é˜±

    from collections import deque
    maze = eval(input())
    direction = [(0,-1),(0,1),(-1,0),(1,0)]
    #print(maze)
    start_point = []
    end_point = []
    for i in range(len(maze)):
        for j in range(len(maze[0])):
            if maze[i][j] == 'S':
                start_point = (i,j)
            elif maze[i][j] == 'E':
                end_point = (i,j)

    rows, cols = len(maze), len(maze[0])
    single_direction = ['D', 'U', 'L', 'R']
    visited = [[False]*len(maze[0])   for _ in range(len(maze))]


    def bfs(maze, start, end):
        queue = deque([(start, 1)]) å°‘å†™äº†æ–¹æ‹¬å·å’Œå†…æ‹¬å·
        while queue:
            position, path_length = queue.popleft()
            x,y = position
            visited[x][y] == True
            if position == end:
                return path_length
            for (dx,dy) in direction:
                if maze[x][y] in single_direction:
                    index = single_direction.index(maze[x][y])
                    if (dx,dy) != direction[index]: continue
                nx, ny = x+dx, y+dy
                if 0 <= nx < rows and 0 <= ny < cols and maze[x][y] != '1' and not visited[nx][ny]:
                    queue.append(((nx,ny), path_length + 1)) è¸¢è„šæ¿å°‘å†™ä¸­é—´æ‹¬å·
        return -1
                    
                    
        
    print(bfs(maze, start_point, end_point))   


### ç¬¬ä¸‰é¢˜
æ‰‹å†™ç®€å•ç¥ç»ç½‘ç»œ       
è®¡ç®—ç®€å•pos embedding       


# æµ·ä¿¡ 915
## ç¬¬äºŒé¢˜
    class ListNode:
        def __init__(self, x=0, next=None):
            self.val = x
            self.next = next

    class Solution:
        def formatList(self , head ):
            # write code here
            cur_operate = head
            tail = head
            store = head.next
            is_reverse = False
            while store:
                cur_operate = store
                store = cur_operate.next
                if is_reverse:
                    #store = cur_operate.next å¤šå†™äº†ä¸€å¥æ²¡ç”¨çš„
                    cur_operate.next = head 
                    head = cur_operate
                
                elif not is_reverse:
                    tail.next = cur_operate
                    tail = tail.next
                    tail.next = None å°‘å†™è¿™å¥ å¯¼è‡´æ— é™é•¿ï¼Œè™½ç„¶èƒ½é€€å‡ºå¾ªç¯
                    æ— é™é•¿çš„åŸå› ï¼Ÿ ä¼¼ä¹å’Œå‰ä¸€æ¬¡å¾ªç¯æœ‰å…³ï¼Œæ€»ä¹‹æ˜¯cur_operate.next æœ‰äº›å¤šä½™æ— å…³çš„ä¸œè¥¿ï¼Œ
                    å‰ä¸€æ¬¡å¾ªç¯åæœ‰ä½•å½±å“ï¼Ÿï¼Œåœ¨æœ€å¼€å§‹æ—¶å€™ cur_operate = store ï¼Œstoreå¾ˆé•¿ï¼Ÿ å‰ä¸€æ¬¡å¾ªç¯å store = cur_operate.next è¿™éƒ¨åˆ†ä¸€ç›´æ²¡æœ‰æ‰‹åŠ¨åˆ é™¤ï¼Œé»˜è®¤è®©ä»–è‡ªå·±è·‘

                    æ²¡å¿…è¦æ‰¾åŸå› ã€‚ä¸å¦‚å¤šå†™ä¸€å¥æ‰‹åŠ¨åˆ é™¤

                is_reverse = not is_reverse
            return head


    def turn2tree(a):
        #dummy = head
        cur = None
        for i,item in enumerate(a) :
            if i == 0: 
                head = ListNode(item)
                cur = head
                next = head.next
            else :
                next = ListNode(item)
                cur.next = next
                cur = next

        return head

    tree1 = turn2tree({1,2,3,4,5})
    Solution().formatList(tree1)








# åä¸º 919
## ç¬¬äºŒé¢˜ æœ€è¯¡å¼‚ ç”¨ä¾‹å…¨è¿‡ æµ‹è¯•ä¸€ä¸ªä¸è¿‡ï¼Œæœ€åè¿˜äº¤ä¸äº†
è¿·å®«é—®é¢˜


    # If you need to import additional packages or classes, please import here.

    def func():

        # please define the python3 input here. For example: a,b = map(int, input().strip().split())
        # please finish the function body here.
        # please define the python3 output here. For example: print().
        N = int(input())
        K = int(input())
        matrix = []
        for _ in range(N):
            row = list(map(int, input().strip().split()))
            matrix.append(row)
        defence = max(matrix[0][0], matrix[-1][-1])
        direction = [(1,0),(0,1),(-1,0),(0,-1)]
        record_defence = []  
        max_min_defence = float('inf')
        def dfs(defence, cur_x, cur_y, reverse):
            nonlocal max_min_defence
            if cur_x == N-1 and cur_y == N-1 : 
                max_min_defence = min(defence,max_min_defence)
                return 
            for i in range(4):
                dx,dy = direction[i]
                if cur_x+dx < 0 or cur_x+dx > N-1 or cur_y+dy < 0 or cur_y+dy > N-1 :
                    continue
                if i > 1:
                    if K >= 2*N -2 + 2 * reverse:
                        if max(defence, matrix[cur_y+dy][cur_x+dx]) > max_min_defence: continue
                        dfs(max(defence, matrix[cur_y+dy][cur_x+dx]), \
                            cur_x+dx, cur_y+dy, reverse+1)
                    else: continue
                else:
                    if max(defence, matrix[cur_y+dy][cur_x+dx]) > max_min_defence: continue
                    dfs(max(defence, matrix[cur_y+dy][cur_x+dx]), \
                        cur_x+dx, cur_y+dy, reverse)
        
        dfs(defence, 0, 0, 0)
        print(max(defence,max_min_defence))



    if __name__ == "__main__":
        func()


# 58 920
å¥½åƒæ˜¯ä¸€ä¸ªåŠå°æ—¶å†™ä¸­å…´ å†™58        


ç¬¬ä¸‰é¢˜å¯æƒœæ²¡å†™å®Œï¼Œlc2400

2400.æ°å¥½ç§»åŠ¨kæ­¥åˆ°è¾¾æŸä¸€ä½ç½®çš„æ–¹æ³•æ•°ç›®


é¦–å…ˆï¼Œä»startPosèµ°åˆ°endPosè‡³å°‘éœ€è¦endPos - startPosæ­¥ï¼Œé‚£ä¹ˆå½“kå°äºè¿™ä¸ªå€¼æ—¶ï¼Œæ­¥æ•°æ˜¯ä¸å¤Ÿçš„ï¼Œæ­¤æ—¶å¯ä»¥ç›´æ¥è¿”å›-1ã€‚å¦ä¸€æ–¹é¢ï¼Œå½“æ­¥æ•°å……è¶³æ—¶ï¼Œå¯èƒ½å‡ºç°æœ‰å¤šå‡ºçš„æ­¥æ•°çš„æƒ…å†µï¼Œæ­¤æ—¶å°±éœ€è¦å¾€å›èµ°æ¶ˆè€—æ‰å…¶ä¸­çš„ä¸€äº›ã€‚å› ä¸ºéœ€è¦ä¸€æ¥ä¸€å›èµ°ä¸¤è¶Ÿï¼Œé‚£ä¹ˆå½“å¤šå‡ºçš„æ­¥æ•°æ˜¯å¥‡æ•°æ—¶å°±æ— æ³•åˆšå¥½æ¶ˆè€—æ‰æ‰€æœ‰çš„æ­¥æ•°ï¼Œä¹Ÿæ˜¯ç›´æ¥è¿”å›-1ï¼Œå¦åˆ™å–å¤šä½™æ­¥æ•°çš„ä¸€åŠï¼Œè®°ä¸ºback_stepï¼Œä¹Ÿå°±æ˜¯éœ€è¦å¾€å›èµ°çš„æ­¥æ•°ã€‚

é‚£ä¹ˆç°åœ¨çš„é—®é¢˜å°±å˜æˆäº†ä»kæ­¥é‡Œé¢é€‰æ‹©back_stepæ­¥çš„æ–¹æ¡ˆæ•°ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Œå› æ­¤æœ€ç»ˆç­”æ¡ˆå°±æ˜¯C(k, back_step)ï¼Œä½¿ç”¨é€’æ¨æ³•ç›´æ¥è¿›è¡Œè®¡ç®—å°±è¡Œäº†ã€‚

è¿™å¥è¯æ ¹æœ¬æ²¡çœ‹æ‡‚ï¼Ÿ


æœ€åé™„ä¸Špythonä»£ç ï¼š

class Solution(object):

    def numberOfWays(self, startPos, endPos, k):
        """
        :type startPos: int
        :type endPos: int
        :type k: int
        :rtype: int
        """

        rest_step = k - (endPos - startPos)
        if rest_step < 0 or rest_step % 2 == 1:
            return 0
        
        back_step = rest_step / 2 è¿™äº›éƒ½ä¸€æ ·ï¼Œä½†æ˜¯æƒ³ä¸åˆ°dpå†™æ³•
        ç½‘ä¸Šä¹Ÿæœ‰ç”¨ä¸€ä¸ªcombçš„

        mod = 10 ** 9 + 7
        f = [[0] * (back_step + 1) for _ in range(k + 1)]
        for i in range(1, k + 1):
            for j in range(min(back_step + 1, i + 1)): å…¶å®ä¸æ‡‚ä»–ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼ŒæŠ„å®Œä¹Ÿä¸æ˜ç™½
                if j == 0 or j == i:
                    f[i][j] = 1
                else:
                    f[i][j] = (f[i - 1][j - 1] + f[i - 1][j]) % mod
        
        return f[k][back_step]


ä»¥ä¸Šä¸ºçŸ¥ä¹å†™æ³•

ä»¥ä¸‹ä¸ºå…¬ä¼—å·å†™æ³•



ç¬¬ä¸‰é¢˜æ¯”è¾ƒçµæ´»ï¼Œéœ€è¦è¿ç”¨ä¸€äº›æ•°å­¦é—®é¢˜ã€‚

ä»startPosåˆ°endPosæœ‰ä¸€ä¸ªä½ç§»ï¼Œç§°ä¹‹ä¸ºdã€‚è€ƒè™‘å‘ä½ç§»æ–¹å‘ç›¸åçš„æ–¹å‘ç§»åŠ¨çš„æ­¥æ•°ï¼Œè¿™ä¸ªæ­¥æ•°ä¸€å®šæ˜¯(k - d) / 2æ­¥ï¼Œæ‰€ä»¥é—®é¢˜å°±å˜æˆäº†ä»kæ­¥é‡Œæ‰¾å‡º(k - d) / 2æ­¥ä½œä¸ºå‘ä½ç§»åæ–¹å‘çš„æ­¥æ•°å³å¯ã€‚ç­”æ¡ˆä¸ºC(k, (k - d) / 2)ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿã€‚æ³¨æ„å¦‚æœk < dï¼Œé‚£ä¹ˆç­”æ¡ˆä¸º0ã€‚å¦‚æœ(k - d)ä¸æ˜¯å¶æ•°ï¼Œç­”æ¡ˆä¹Ÿä¸º0ã€‚



    classÂ SolutionÂ {
    public:
    Â Â Â Â /**
    Â Â Â Â Â *Â ä»£ç ä¸­çš„ç±»åã€æ–¹æ³•åã€å‚æ•°åå·²ç»æŒ‡å®šï¼Œè¯·å‹¿ä¿®æ”¹ï¼Œç›´æ¥è¿”å›æ–¹æ³•è§„å®šçš„å€¼å³å¯
    Â Â Â Â Â *
    Â Â Â Â Â *Â 
    Â Â Â Â Â *Â @paramÂ startPosÂ intæ•´å‹Â 
    Â Â Â Â Â *Â @paramÂ endPosÂ intæ•´å‹Â 
    Â Â Â Â Â *Â @paramÂ kÂ intæ•´å‹Â 
    Â Â Â Â Â *Â @returnÂ intæ•´å‹
    Â Â Â Â Â */
    Â Â Â Â intÂ modÂ =Â 1e9Â +Â 7;
    Â Â Â Â intÂ modPow(intÂ a,Â intÂ b)Â {
    Â Â Â Â Â Â Â Â ifÂ (bÂ ==Â 0)Â returnÂ 1;
    Â Â Â Â Â Â Â Â intÂ resÂ =Â modPow(a,Â bÂ /Â 2);
    Â Â Â Â Â Â Â Â resÂ =Â 1LLÂ *Â resÂ *Â resÂ %Â mod;
    Â Â Â Â Â Â Â Â ifÂ (bÂ %Â 2Â ==Â 1)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â resÂ =Â 1LLÂ *Â resÂ *Â aÂ %Â mod;
    Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â returnÂ res;
    Â Â Â Â }
    Â Â Â Â intÂ numberOfWays(intÂ startPos,Â intÂ endPos,Â intÂ k)Â {
    Â Â Â Â Â Â Â Â intÂ dÂ =Â abs(startPosÂ -Â endPos);
    Â Â Â Â Â Â Â Â ifÂ (kÂ <Â d)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â returnÂ 0;
    Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â ifÂ ((kÂ -Â d)Â %Â 2Â !=Â 0)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â returnÂ 0;
    Â Â Â Â Â Â Â Â }
    Â Â Â Â Â Â Â Â vector<int>Â fact(1001);
    Â Â Â Â Â Â Â Â fact[0]Â =Â 1;
    Â Â Â Â Â Â Â Â forÂ (intÂ iÂ =Â 1;Â iÂ <=Â 1000;Â i++)Â {
    Â Â Â Â Â Â Â Â Â Â Â Â fact[i]Â =Â 1LLÂ *Â fact[iÂ -Â 1]Â *Â iÂ %Â mod;
    Â Â Â Â Â Â Â Â }

    Â Â Â Â Â Â Â Â autoÂ CÂ =Â [&](intÂ n,Â intÂ K)Â ->Â intÂ {
    Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (nÂ <Â K)Â returnÂ 0;
    Â Â Â Â Â Â Â Â Â Â Â Â intÂ topÂ =Â fact[n];
    Â Â Â Â Â Â Â Â Â Â Â Â intÂ bottomÂ =Â 1LLÂ *Â fact[K]Â *Â fact[nÂ -Â K]Â %Â mod;
    Â Â Â Â Â Â Â Â Â Â Â Â returnÂ 1LLÂ *Â topÂ *Â modPow(bottom,Â modÂ -Â 2)Â %Â mod;
    Â Â Â Â Â Â Â Â };

    Â Â Â Â Â Â Â Â returnÂ C(k,Â (kÂ -Â d)Â /Â 2);
    Â Â Â Â }
    };




ç•¥å¤æ‚ çœ‹ä¸Šå»å°±æ˜¯ä¸€ç»´çš„ä¼˜åŒ–dp

ä¹Ÿæœ‰combåšï¼Œ         
è¿™ä¸ªæ•°å­¦å…³ç³»æ²¡æœ‰æƒ³æ˜ç™½

# ç§‘å¤§ 928
    # å‡è®¾è¿™æ˜¯ä½ çš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«å¤šä¸ªå…ƒç»„
    tuples_list = [(3, 7), (1, 2), (5, 9), (2, 4), (8, 6)]

    # æ‰¾å‡ºç¬¬ä¸€åˆ—çš„æœ€å°å€¼
    min_first_column = min(tuples_list, key=lambda x: x[0])[0]

    # æ‰¾å‡ºç¬¬äºŒåˆ—çš„æœ€å¤§å€¼
    max_second_column = max(tuples_list, key=lambda x: x[1])[1]

    print("ç¬¬ä¸€åˆ—çš„æœ€å°å€¼:", min_first_column)
    print("ç¬¬äºŒåˆ—çš„æœ€å¤§å€¼:", max_second_column)

Counter æŸ¥è¯¢é”®å¾ˆç®€å•ï¼Œå°±åƒæ­£å¸¸å­—å…¸æŸ¥è¯¢            
ä½†æ˜¯å€¼         

    from collections import Counter  
    
    # å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªCounterå¯¹è±¡  
    counter = Counter(['apple', 'banana', 'apple', 'orange', 'banana', 'banana'])  
    
    # æˆ‘ä»¬æƒ³è¦æ‰¾åˆ°æ‰€æœ‰è®¡æ•°ä¸º2çš„é”®  
    target_count = 2  
    
    # é€šè¿‡éå†Counterå¯¹è±¡æ¥æ‰¾åˆ°æ‰€æœ‰è®¡æ•°ç­‰äºtarget_countçš„é”®  
    keys_with_target_count = [key for key, count in counter.items() if count == target_count]  
    
    print(keys_with_target_count)  # è¾“å‡º: ['apple', 'orange']


è¯·æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯æŸ¥æ‰¾æ‰€æœ‰è®¡æ•°ï¼ˆå³å€¼ï¼‰ç­‰äºç‰¹å®šå€¼ï¼ˆtarget_countï¼‰çš„é”®ã€‚å¦‚æœä½ çš„ç”¨ä¾‹æ˜¯æŸ¥æ‰¾æ‰€æœ‰é”®ï¼Œè¿™äº›é”®å¯¹åº”çš„å€¼ï¼ˆåœ¨è¿™é‡Œæ˜¯è®¡æ•°ï¼‰æ°å¥½æ˜¯æŸä¸ªç‰¹å®šçš„å…ƒç´ ï¼ˆè¿™åœ¨æ ‡å‡†çš„ Counter ä½¿ç”¨åœºæ™¯ä¸­æ˜¯ä¸å¸¸è§çš„ï¼Œå› ä¸º Counter çš„è®¾è®¡æ˜¯é”®åˆ°è®¡æ•°çš„æ˜ å°„ï¼Œè€Œä¸æ˜¯å€¼åˆ°é”®çš„æ˜ å°„ï¼‰ï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦é‡æ–°è€ƒè™‘ä½ çš„æ•°æ®ç»“æ„æˆ–é—®é¢˜è¡¨è¿°ã€‚

å¦‚æœä½ ç¡®å®éœ€è¦æŒ‰å€¼ï¼ˆåœ¨è¿™é‡Œæ˜¯å…ƒç´ æœ¬èº«ï¼‰æ¥æŸ¥æ‰¾é”®ï¼Œå¹¶ä¸”æƒ³è¦æ‰¾åˆ°æ‰€æœ‰å…·æœ‰ç‰¹å®šå€¼çš„é”®ï¼ˆè¿™åœ¨ Counter çš„ä¸Šä¸‹æ–‡ä¸­ä¸ç›´æ¥æ”¯æŒï¼Œå› ä¸º Counter æ˜¯ä¸ºè®¡æ•°è®¾è®¡çš„ï¼‰ï¼Œä½ å¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨å…¶ä»–æ•°æ®ç»“æ„ï¼Œå¦‚å­—å…¸æˆ–åˆ—è¡¨ï¼Œæˆ–è€…ä½¿ç”¨ Counter çš„è¾…åŠ©æ•°æ®ç»“æ„æ¥è·Ÿè¸ªå“ªäº›é”®æ˜ å°„åˆ°å“ªäº›å€¼ï¼ˆå°½ç®¡è¿™é€šå¸¸ä¸æ˜¯ Counter çš„è®¾è®¡åˆè¡·ï¼‰ã€‚











# 360æ™ºè„‘å®ä¹  923

å¤šå¤´æ³¨æ„åŠ›å®ç°

å¥½åƒå†™é”™äº†

    import torch
    import torch.nn as nn
    import torch.nn.functional as F 

    class SelfAttention(nn.Module):
        def _init_():

        
        def forward():

        
    class MultiHeadAttention(nn.Module):

        def __init__(self, d_model, num_heads):
            super(MultiHeadAttention,s, self).__init__()
            self.num_heads = num_heads
            self.d_model = d_model
            self.head_dim = d_model // num_heads

            self.query_linear = nn.Linear(d_model, d_model)
            self.key_linear = nn.Linear(d_model, d_model)
            self.value_linear = nn.Linear(d_model, d_model)

            self.out_linear = nn.Linear(d_model, d_model)
        
        def forward(self, query, key, value, mask=None):
            bs = query.size(0)
            query = self.query_linear(query)
            key = self.key_linear(key)
            value = self.value_linear(value)

            query = self.split_heads(query, bs)
            key = self.split_heads(key, bs)
            value = self.split_heads(value, bs)

            




        def split_heads(self, x, bs):
            x = x.view(bs, -1, self.num_heads, self.head_dim)
            return x.transpose(2,1)



å®˜æ–¹å†™æ³•

# ç™¾åº¦ 1015
## 1

    import numpy as np
    T = int(input())
    for _ in range(T):
        data = list(map(int,input().split()))
        k = data[-1]
        data = data[:-1]
        data.sort()
        for _ in range(k):
            data[0] += 1
            data.sort()
        print(np.prod(np.array(data)))


## 2


    def max_sum(data, n, K):
        if n<2 :
            return 0
        # max_left_sum = float('-inf')
        max_total_sum = float('-inf')
        right_sums = [0]*(n)
        left_sums = [0]*(n)
        current_sum = 0
        
        for i in range(n):
            current_sum += data[i]
            if current_sum > max_total_sum:
                max_total_sum = current_sum
            left_sums[i] = max_total_sum
            if current_sum < 0:
                current_sum = 0
        
        max_total_sum = float('-inf')
        current_sum = 0
        
        for i in range(n-1, -1, -1):
            current_sum += data[i]
            if current_sum > max_total_sum:
                max_total_sum = current_sum
            right_sums[i] = max_total_sum
            if current_sum < 0:
                current_sum = 0
            
        max_total_sum = float('-inf')
        
        for i in range(K+1, n):
            #print(i)
            max_total_sum = max(max_total_sum,
                            left_sums[i-K-1]+right_sums[i])
            #print(left_sums)
            #print(right_sums)
            #print(max_total_sum)
                
        return max_total_sum
            
    T = int(input())
    for _ in range(T):
        n, K = map(int,input().split())
        data = list(map(int,input().split()))

        print(max_sum(data, n, K))



# æ–°åä¸‰ç¬”è¯•

## ç¼–ç¨‹
    class Solution {
    public:
        /**
        * ä»£ç ä¸­çš„ç±»åã€æ–¹æ³•åã€å‚æ•°åå·²ç»æŒ‡å®šï¼Œè¯·å‹¿ä¿®æ”¹ï¼Œç›´æ¥è¿”å›æ–¹æ³•è§„å®šçš„å€¼å³å¯
        *
        * 
        * @param radius intæ•´å‹ 
        * @param xCenter intæ•´å‹ 
        * @param yCenter intæ•´å‹ 
        * @param x1 intæ•´å‹ 
        * @param y1 intæ•´å‹ 
        * @param x2 intæ•´å‹ 
        * @param y2 intæ•´å‹ 
        * @return boolå¸ƒå°”å‹
        */
        bool checkOverlap(int radius, int xCenter, int yCenter, int x1, int y1, int x2, int y2) {
            // write code here
            double width = x2 - x1;
            double height = y2 - y1 ;

            double clampX = std::max(x1, std::min(x2, xCenter));
            double clampY = std::max(y1, std::min(y2, yCenter));

            double dx = clampX - xCenter;
            double dy = clampY - yCenter;
            double distance = dx * dx + dy * dy;
            return distance <= (radius*radius);


        }
    };



å˜é‡å®šä¹‰ï¼š

width å’Œ height åˆ†åˆ«è¡¨ç¤ºçŸ©å½¢çš„å®½åº¦å’Œé«˜åº¦ã€‚

clampX å’Œ clampY æ˜¯åœ†å¿ƒ (xCenter, yCenter) åœ¨çŸ©å½¢èŒƒå›´å†…çš„æŠ•å½±ç‚¹ã€‚å…·ä½“æ¥è¯´ï¼ŒclampX æ˜¯ xCenter åœ¨ [x1, x2] èŒƒå›´å†…çš„å€¼ï¼ŒclampY æ˜¯ yCenter åœ¨ [y1, y2] èŒƒå›´å†…çš„å€¼ã€‚



è®¡ç®—æŠ•å½±ç‚¹ï¼š

clampX = std::max(x1, std::min(x2, xCenter));

è¿™è¡Œä»£ç é¦–å…ˆè®¡ç®— xCenter åœ¨ [x1, x2] èŒƒå›´å†…çš„å€¼ã€‚std::min(x2, xCenter) ç¡®ä¿ clampX ä¸ä¼šè¶…è¿‡ x2ï¼Œè€Œ std::max(x1, ...) ç¡®ä¿ clampX ä¸ä¼šå°äº x1ã€‚

clampY = std::max(y1, std::min(y2, yCenter));

ç±»ä¼¼åœ°ï¼Œè¿™è¡Œä»£ç è®¡ç®— yCenter åœ¨ [y1, y2] èŒƒå›´å†…çš„å€¼ã€‚



è®¡ç®—è·ç¦»ï¼š

dx = clampX - xCenter;

dy = clampY - yCenter;

dx å’Œ dy åˆ†åˆ«æ˜¯åœ†å¿ƒåˆ°çŸ©å½¢æŠ•å½±ç‚¹çš„æ°´å¹³å’Œå‚ç›´è·ç¦»ã€‚

distance = dx * dx + dy * dy;

è®¡ç®—åœ†å¿ƒåˆ°çŸ©å½¢æŠ•å½±ç‚¹çš„è·ç¦»çš„å¹³æ–¹ã€‚


åˆ¤æ–­æ˜¯å¦é‡å ï¼š

return distance <= (radius * radius);

å¦‚æœ distance å°äºæˆ–ç­‰äº radius çš„å¹³æ–¹ï¼Œè¯´æ˜åœ†å¿ƒåˆ°çŸ©å½¢æŠ•å½±ç‚¹çš„è·ç¦»å°äºæˆ–ç­‰äºåœ†çš„åŠå¾„ï¼Œå³åœ†ä¸çŸ©å½¢é‡å ã€‚

æ€»ç»“ï¼š
è¿™ä¸ªå‡½æ•°é€šè¿‡è®¡ç®—åœ†å¿ƒåœ¨çŸ©å½¢èŒƒå›´å†…çš„æŠ•å½±ç‚¹ï¼Œå¹¶åˆ¤æ–­è¯¥æŠ•å½±ç‚¹åˆ°åœ†å¿ƒçš„è·ç¦»æ˜¯å¦å°äºæˆ–ç­‰äºåœ†çš„åŠå¾„ï¼Œæ¥ç¡®å®šåœ†æ˜¯å¦ä¸çŸ©å½¢é‡å ã€‚å¦‚æœé‡å ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚















## é—®ç­”

ä»–ä»¬æ˜¯c++åº“ä¸­çš„æ™ºèƒ½æŒ‡é’ˆï¼Œä¸»è¦ä½œç”¨æ˜¯è‡ªåŠ¨ç®¡ç†åŠ¨æ€åˆ†é…å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚
æ‰€æœ‰æƒä¸Šæœ‰æ‰€åŒºåˆ«ã€‚shared_ptr å…è®¸å¤šä¸ªæŒ‡é’ˆå…±äº«æ‰€æœ‰æƒï¼Œunique_ptr ä¿è¯ç‹¬å æ‰€æœ‰æƒã€‚
å¤åˆ¶ä¸ç§»åŠ¨ä¸Šæœ‰åŒºåˆ«ã€‚shared_ptr å¯ä»¥é€šè¿‡å¤åˆ¶å…±äº«æ‰€æœ‰æƒï¼Œè€Œ unique_ptr ä¸èƒ½å¤åˆ¶ï¼Œåªèƒ½ std::move è½¬ç§»æ‰€æœ‰æƒã€‚
å¦å¤–ï¼Œâ€‹shared_ptr éœ€è¦ç»´æŠ¤å¼•ç”¨è®¡æ•°ï¼Œæ¶‰åŠä¸€äº›æ€§èƒ½å¼€é”€ã€‚â€‹â€‹



pidï¼šåŸºäºæ§åˆ¶åå·®æ¥è®¡ç®—æ§åˆ¶è¾“å…¥ã€‚
ä¼˜ç‚¹ï¼šç®€å•ï¼Œå®¹æ˜“å®ç°ï¼Œç¨³å®šé²æ£’ï¼Œå“åº”å¿«ï¼Œç²¾åº¦é«˜ï¼Œå¯è°ƒå‚æ•°å¤šã€‚
ç¼ºç‚¹ï¼šå‚æ•°è°ƒæ•´å›°éš¾ã€‚å¯¹äºéçº¿æ€§å’Œæ—¶å˜ç³»ç»Ÿï¼Œæ€§èƒ½å¯èƒ½å·®ã€‚è¶…è°ƒç°è±¡æ˜æ˜¾ã€‚å¯¹å»ºæ¨¡è¯¯å·®å’Œæµ‹é‡å™ªå£°æ•æ„Ÿã€‚

lqrï¼šå±äºæœ€æœ‰æ§åˆ¶ç­–ç•¥ï¼Œæ—¨åœ¨æœ€å°åŒ–ä»£ä»·å‡½æ•°ã€‚ä»£ä»·å‡½æ•°é€šå¸¸åŒ…æ‹¬ç³»ç»ŸçŠ¶æ€å’ŒæœŸæœ›çŠ¶æ€çš„åå·®å’Œæ§åˆ¶è¾“å…¥çš„æˆæœ¬ã€‚
ä¼˜ç‚¹ï¼šå…¨çŠ¶æ€åé¦ˆï¼Œé€‚ç”¨äºçº¿æ€§ç³»ç»Ÿ
ç¼ºç‚¹ï¼šå¤šæ¬¡è¿­ä»£å¯¹å®æ—¶æ€§è¦æ±‚é«˜ã€‚ä¸ç›´æ¥å¤„ç†ç³»ç»Ÿçº¦æŸã€‚

mpcï¼šåŸºäºç³»ç»Ÿæ¨¡å‹é¢„æµ‹è”šæ¥ä¸€æ®µæ—¶é—´å†…çš„è¡Œä¸ºï¼Œé€šè¿‡ä¼˜åŒ–ä¸€ä¸ªåŒ…å«æœªæ¥è¡Œä¸ºçš„ä»£ä»·å‡½æ•°è®¡ç®—æ§åˆ¶è¾“å…¥ã€‚
ä¼˜ç‚¹ï¼šèƒ½å¤Ÿå¤„ç†ç³»ç»Ÿçº¦æŸï¼Œé€‚ç”¨äºå¤æ‚ç³»ç»Ÿå’Œéçº¿æ€§ç³»ç»Ÿ
ç¼ºç‚¹ï¼šè®¡ç®—æˆæœ¬é«˜




icpï¼šé€šè¿‡è¿­ä»£æ–¹å¼ï¼Œä¸æ–­å‡å°ä¸¤å¸§ç‚¹äº‘ä¹‹é—´ç‚¹åˆ°ç‚¹çš„è·ç¦»ï¼Œæœ€ç»ˆè®¡ç®—å‡ºä¸¤å¸§ç‚¹äº‘çš„ç›¸å¯¹ä½å§¿ã€‚
ä¼˜ç‚¹ï¼šåˆå§‹å€¼åˆé€‚æ—¶ï¼Œèƒ½è·å¾—ä¸é”™çš„é…å‡†æ•ˆæœï¼Œä¸”ä¸éœ€è¦åˆ†å‰²å’Œç‰¹å¾æå–
ç¼ºç‚¹ï¼šè®¡ç®—é‡å¤§ã€‚å¯¹åˆå§‹ä½ç½®æœ‰è¦æ±‚ã€‚å¯¹ç‚¹äº‘å®Œå…¨é‡åˆåº¦è¦æ±‚é«˜ã€‚

ndtï¼šå°†ç‚¹äº‘è½¬åŒ–ä¸ºåˆ†æ®µè¿ç»­çš„æ­£æ€åˆ†å¸ƒå‡½æ•°ï¼Œé€šè¿‡æœ€å¤§åŒ–æ¦‚ç‡å¯†åº¦å‡½æ•°ä¹‹é—´çš„åŒ¹é…ï¼Œå¾—åˆ°ç‚¹äº‘ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚
ä¼˜ç‚¹ï¼šé€Ÿåº¦å¿«ï¼Œç²¾åº¦é«˜ï¼Œé€‚åˆå¤„ç†å¤§è§„æ¨¡ç‚¹äº‘ã€‚å¯¹åˆå€¼è¯¯å·®æ•æ„Ÿä½ã€‚
ç¼ºç‚¹ï¼šå¯¹æ …æ ¼åœ°å›¾åˆ†å¸ƒç‡æ•æ„Ÿã€‚å¯èƒ½ä¼šå¿½ç•¥ç»†èŠ‚é—®é¢˜ã€‚




A*ï¼šåŸºäºå¯å‘å¼ä¿¡æ¯çš„æœç´¢ç®—æ³•ï¼Œä¼°è®¡ä»£ä»·ï¼Œé€‰å‡ºæœ€ä¼˜è·¯å¾„ã€‚æœºå™¨äººè·¯å¾„è§„åˆ’ï¼Œæœ€çŸ­è·¯å¾„ã€‚
hybrid A*ï¼šå¢åŠ äº† theta ç»´åº¦ä»¥ä¼˜åŒ–èŠ‚ç‚¹çš„æ‰©å±•æ–¹å¼ã€‚ç©ºé˜¿ç»¿è½¦è¾†çš„è¿åŠ¨çº¦æŸã€‚æœ‰éšœç¢ç‰©ã€ä½é€Ÿåœºæ™¯çš„é˜¿å…‹æ›¼åº•ç›˜å’Œæ— äººè½¦ç­‰å­˜åœ¨è¿åŠ¨çº¦æŸçš„æœºå™¨äººã€‚


å…è®¸æŸä¸ªå‡½æ•°åœ¨ç‰¹å®šæ—¶é—´å‘ç”Ÿæ—¶è¢«è°ƒç”¨ã€‚
ä¼˜ç‚¹ï¼šä»£ç æœç”¨ï¼Œæ¨¡å—åŒ–ï¼Œå¼‚æ­¥å¤„ç†ã€‚
ä¾‹å­ï¼šå½“æ–‡ä»¶è¢«æˆåŠŸè¯»å–åï¼Œè°ƒç”¨å›è°ƒå‡½æ•°æ‰“å°ä¿¡æ¯  



# äººç¬™ç¬”è¯•å‡†å¤‡
## å‰ç¼€å’Œ
è®¡ç®—æ•°ç»„ä¸­å­æ•°ç»„çš„å’Œ


æè¿°ï¼š
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¯·ä½ è®¡ç®—å¹¶è¿”å›è¯¥æ•°ç»„ä¸­æ‰€æœ‰å­æ•°ç»„çš„å’Œã€‚å­æ•°ç»„æ˜¯æŒ‡æ•°ç»„ä¸­è¿ç»­çš„ä¸€æ®µå…ƒç´ ã€‚

è¾“å…¥ï¼š
ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œä¾‹å¦‚ [1, 2, 3, 4]ã€‚

è¾“å‡ºï¼š
ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰å­æ•°ç»„çš„å’Œã€‚

    è¾“å…¥: nums = [1, 2, 3, 4]
    è¾“å‡º: 50
    è§£é‡Š:
    æ‰€æœ‰å­æ•°ç»„åŠå…¶å’Œå¦‚ä¸‹ï¼š
    [1] -> 1
    [2] -> 2
    [3] -> 3
    [4] -> 4
    [1, 2] -> 3
    [2, 3] -> 5
    [3, 4] -> 7
    [1, 2, 3] -> 6
    [2, 3, 4] -> 9
    [1, 2, 3, 4] -> 10
    æ€»å’Œä¸º 1 + 2 + 3 + 4 + 3 + 5 + 7 + 6 + 9 + 10 = 50


è¦æ±‚ï¼š

ä½¿ç”¨å‰ç¼€å’Œçš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

æ—¶é—´å¤æ‚åº¦åº”ä¸º O(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚

æç¤ºï¼š

å‰ç¼€å’Œæ•°ç»„ prefix_sum çš„ç¬¬ i ä¸ªå…ƒç´ è¡¨ç¤ºåŸæ•°ç»„ nums ä¸­å‰ i ä¸ªå…ƒç´ çš„å’Œã€‚

åˆ©ç”¨å‰ç¼€å’Œæ•°ç»„å¯ä»¥å¿«é€Ÿè®¡ç®—ä»»æ„å­æ•°ç»„çš„å’Œã€‚



    def subarray_sum(nums):
        n = len(nums)
        prefix_sum = [0] * (n + 1)
        
        # è®¡ç®—å‰ç¼€å’Œæ•°ç»„
        for i in range(n):
            prefix_sum[i + 1] = prefix_sum[i] + nums[i]
        
        total_sum = 0
        
        # è®¡ç®—æ‰€æœ‰å­æ•°ç»„çš„å’Œ
        for start in range(n):
            for end in range(start, n):
                total_sum += prefix_sum[end + 1] - prefix_sum[start]
        
        return total_sum

    # ç¤ºä¾‹
    nums = [1, 2, 3, 4]
    print(subarray_sum(nums))  # è¾“å‡º: 50



è§£é‡Šï¼š

é¦–å…ˆè®¡ç®—å‰ç¼€å’Œæ•°ç»„ prefix_sumï¼Œå…¶ä¸­ prefix_sum[i] è¡¨ç¤º nums ä¸­å‰ i ä¸ªå…ƒç´ çš„å’Œã€‚

ç„¶åé€šè¿‡ä¸¤å±‚å¾ªç¯éå†æ‰€æœ‰å¯èƒ½çš„å­æ•°ç»„ï¼Œåˆ©ç”¨å‰ç¼€å’Œæ•°ç»„å¿«é€Ÿè®¡ç®—æ¯ä¸ªå­æ•°ç»„çš„å’Œï¼Œå¹¶ç´¯åŠ åˆ° total_sum ä¸­ã€‚

æœ€ç»ˆè¿”å› total_sumï¼Œå³ä¸ºæ‰€æœ‰å­æ•°ç»„çš„å’Œã€‚



# ä¸­å›½äººå¯¿ 1031
## ç¬¬ä¸€é¢˜
    import sys
    
    n = int(input())
    road = list(map(int, input().split(',')))
    planted = 0
    for i in range(len(road)):
        if road[i]==0:
            if (i==0 or road[i-1]!=1) and (i==len(road)-1 or road[i+1]!=1):
                road[i]=1
                planted += 1
                if planted == n:
                    print('true')
    if planted >= n :
        pass
    else :
        print('false')




## ç¬¬äºŒé¢˜ å¼€å§‹ x t èµ‹å€¼åäº†ï¼Œæ’æŸ¥åŠå¤©
    import sys
    from collections import defaultdict
    n = int(input())
    score = defaultdict(lambda: defaultdict(int))
    # print(score)
    max_time = 0
    for i in range(n):
        x, T = map(int, input().split()) 
        score[T][x] += 1 # å¼€å§‹æ—¶è¿™é‡Œæå
        max_time = max(max_time, T)
    dp_prev = [-float('inf')]*11
    dp_prev[5] = 0
    # print(score)
    # print(score[1][5])
    for t in range(1, max_time+1):
        dp_curr = [-float('inf')]*11
        for i in range(11):
            max_score = dp_prev[i]
            if i > 0 :
                max_score = max(max_score, dp_prev[i-1])
            if i < 10 :
                max_score = max(max_score, dp_prev[i+1])
            #print(score[t][i], max_score)
            dp_curr[i] = max_score + score[t][i]
        dp_prev = dp_curr
        #print(dp_prev)
    #print(dp_prev)
    print(max(dp_prev))




## ç¬¬ä¸‰é¢˜ã€‚æš´åŠ›é©¬æ–¯å…‹ç¬¬ä¸€æ€§ï¼Œ80%
    road = list(map(int, input().split()))
    if len(road)==2 : 
        if road[0] !=  road[1] :
            print('false')
        else: print('true')
    elif len(road)==3 : 
        pass
    else: print('false')


# ç‚™çŸ³ç§‘æŠ€ï¼ˆæˆ‘æ‹è¡£ï¼Œç»™è¡£æœæ¨¡ç‰¹ç”Ÿæˆï¼Œå®Œå…¨ä¸€æ ·è¡£æœï¼Œ2bï¼‰ 1119
ç”¨o(n)å®ç°å–å‡ºæ•°ç»„å‰topkå…ƒç´ ï¼Œä¸è¦ç”¨å†…ç½®å‡½æ•°å®ç°


è¦ç”¨ 
ğ‘‚
(
ğ‘›
)
O(n) æ—¶é—´å¤æ‚åº¦å®ç°ä»æ•°ç»„ä¸­å–å‡ºå‰ 
ğ‘˜
k å¤§çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨ å †æ’åº çš„æ€æƒ³ï¼Œå…¶ä¸­å»ºç«‹ä¸€ä¸ªå°é¡¶å †æ˜¯å¸¸è§çš„æ–¹æ³•ã€‚ä¸‹é¢æ˜¯å…·ä½“çš„æ­¥éª¤ï¼š

ç®—æ³•æ­¥éª¤
åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º 
ğ‘˜
k çš„æœ€å°å †ã€‚
éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼š
å¦‚æœå †çš„å¤§å°å°äº 
ğ‘˜
kï¼Œç›´æ¥å°†å…ƒç´ æ’å…¥å †ä¸­ã€‚
å¦‚æœå †çš„å¤§å°ç­‰äº 
ğ‘˜
kï¼Œå°†å½“å‰å…ƒç´ ä¸å †é¡¶ï¼ˆæœ€å°å€¼ï¼‰è¿›è¡Œæ¯”è¾ƒï¼š
å¦‚æœå½“å‰å…ƒç´ å¤§äºå †é¡¶ï¼Œæ›¿æ¢å †é¡¶å¹¶è°ƒæ•´å †ã€‚
éå†å®Œæˆåï¼Œå †ä¸­å°±æ˜¯æ•°ç»„çš„å‰ 
ğ‘˜
k å¤§å…ƒç´ ã€‚
ä»£ç å®ç°
ä»¥ä¸‹æ˜¯ç”¨ Python å®ç°çš„ä»£ç ï¼Œå®Œå…¨æ‰‹åŠ¨å®ç°å †çš„æ“ä½œï¼š



    def top_k_elements(nums, k):
        # å®šä¹‰ä¸€ä¸ªæœ€å°å †è°ƒæ•´å‡½æ•°
        def heapify(heap, idx, heap_size):
            smallest = idx
            left = 2 * idx + 1 # è¿™ä¸ªå†™æ³•èƒ½ä¿è¯æ˜¯ä¸‹ä¸€çº§çš„å·¦å³
            right = 2 * idx + 2
            
            if left < heap_size and heap[left] < heap[smallest]: # ä¸€ç³»åˆ—æ“ä½œä¸»è¦æ˜¯å…œä½ä¸Šä¸€ä¸ªå†™æ³•çš„badcaseï¼Œä»¥åŠåšä¸ªéå†ï¼Œä¿è¯é¡¶éƒ¨æ˜¯è¿™ä¸ªä¸‰è§’å †æœ€å°
                smallest = left
            if right < heap_size and heap[right] < heap[smallest]:
                smallest = right
            
            if smallest != idx: # è°ƒæ•´ï¼Œå¹¶ä¸”å†è¿­ä»£ä¸‹å»ï¼Ÿå½“ä¸éœ€è¦è°ƒæ•´æ—¶å€™ï¼Œå°±è¿”å›ã€‚åŒæ—¶æ•°ç»„æ˜¯ä¸€ç›´ä¸å˜æ€§ã€‚
            è¿­ä»£ä¸»è¦æ˜¯ä¸ºäº†å¹²å˜›ï¼Ÿå½“æŸæ¬¡è¿›æ¥ï¼Œè°ƒæ•´æˆå°æ ¹åï¼Œè®°å½•indexï¼Œå†é€è¿›å»æ£€æŸ¥ï¼Ÿï¼Ÿ
            å½“å‰æœ€å°çš„ smallest index å†é€å»æ£€æŸ¥ä»–çš„ä¸‹ä¸€çº§ã€‚æ˜¯å› ä¸ºè°ƒæ•´åå¯èƒ½ä¼šå½±å“åç»­å§ï¼Œåˆè¦é‡æ–°è°ƒæ•´ä¸€éã€‚
            è®°ç€ç´¢å¼•è¿›å»
                heap[idx], heap[smallest] = heap[smallest], heap[idx]
                heapify(heap, smallest, heap_size)
        
        # æ„å»ºä¸€ä¸ªæœ€å°å †
        def build_heap(heap):
            n = len(heap)
            for i in range(n // 2 - 1, -1, -1): # è¿™ä¸ªå†™æ³•å¾…è€ƒè¯
                heapify(heap, i, n)
        
        # åˆå§‹åŒ–å †
        heap = nums[:k]
        build_heap(heap)
        
        # éå†å‰©ä½™æ•°ç»„
        for i in range(k, len(nums)):
            if nums[i] > heap[0]: ç›´æ¥å’Œå †é¡¶ç›¸æ¯”ï¼Œç¡®ä¿æ¯ä¸€éƒ¨åˆ†å †é¡¶éƒ½æ˜¯æœ€å°ã€‚å†™æ³•æœ‰ç‚¹å¤æ‚äº†      
            æ–°åŠ å…¥çš„å…ƒç´ æ¯”æœ€é¡¶ä¸Šæ›´å°ï¼Œå°±ä¸åŠ è¿›æ¥
            å¦åˆ™ç›´æ¥æ¢åˆ°å †é¡¶ï¼Œç„¶åç›´æ¥è°ƒæ•´
            åæ­£èƒ½ä¿è¯é¡¶éƒ¨æœ€å°ï¼Œå·¦å³å¤§å°ä¸èƒ½ä¿è¯
                heap[0] = nums[i]
                heapify(heap, 0, k)
        
        return heap

    # æµ‹è¯•ç”¨ä¾‹
    nums = [3, 2, 1, 5, 6, 4]
    k = 2
    print(top_k_elements(nums, k))  # è¾“å‡º [5, 6]


å»ºå †çœŸçš„æ˜¯o(k)å—ï¼Ÿforå¾ªç¯k//2-1          
è¿›å»åæœ‰ä¸¤ä¸ªæ¯”è¾ƒï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿæ ˆ,å¹¶æœ‰è°ƒæ•´ï¼Œè¿™çœŸçš„èƒ½è®¡æ•°å—?         





![alt text](assets_picture/ç‰›å®¢é¢˜/image-64.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-65.png)

å»ºå®Œå †ååˆ†æ•´é½        

![alt text](assets_picture/ç‰›å®¢é¢˜/image-66.png)

æ™ºèƒ½è·³è¿‡ä¸€äº›

ç¡®å®æœ‰ä¼˜åŠ¿ï¼Œåœ¨ k å¾ˆå°ï¼Œn å¾ˆå¤§çš„æ—¶å€™æ²¡å¿…è¦æ’åºæ‰€æœ‰å†å–ï¼Œå°±è¿™æ ·éå†ä¸€éï¼Œå·®ä¸å¤šå°±å¯ä»¥äº†ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨ï¼Œ       
k å¾ˆå°æ—¶å€™è¿˜æ˜¯çº¿æ€§çš„ï¼Œo(n)         


å†™ä¸å‡ºä¹Ÿæ²¡åŠæ³•



è¯´æ˜
å †çš„æ„å»ºæ—¶é—´å¤æ‚åº¦ï¼š
å»ºå †çš„æ—¶é—´å¤æ‚åº¦æ˜¯ 
ğ‘‚
(
ğ‘˜
)
O(k)ã€‚
å †çš„æ›´æ–°æ—¶é—´å¤æ‚åº¦ï¼š
æ¯æ¬¡æ’å…¥æˆ–æ›¿æ¢å †é¡¶éœ€è¦ 
ğ‘‚
(
log
â¡
ğ‘˜
)
O(logk)ã€‚
éå†æ•°ç»„ 
ğ‘›
âˆ’
ğ‘˜
nâˆ’k ä¸ªå…ƒç´ ï¼Œæ›´æ–°å † 
ğ‘‚
(
(
ğ‘›
âˆ’
ğ‘˜
)
log
â¡
ğ‘˜
)
O((nâˆ’k)logk)ã€‚
æ€»æ—¶é—´å¤æ‚åº¦ï¼š
ğ‘‚
(
ğ‘˜
+
(
ğ‘›
âˆ’
ğ‘˜
)
log
â¡
ğ‘˜
)
â‰ˆ
ğ‘‚
(
ğ‘›
)
O(k+(nâˆ’k)logk)â‰ˆO(n)ï¼ˆå½“ 
ğ‘˜
â‰ª
ğ‘›
kâ‰ªn æ—¶æ¥è¿‘çº¿æ€§å¤æ‚åº¦ï¼‰ã€‚
ç‰¹æ€§
é€‚ç”¨äºæ•°ç»„é•¿åº¦è¾ƒå¤§ï¼Œè€Œ 
ğ‘˜
k è¾ƒå°çš„åœºæ™¯ã€‚
ä¸ä½¿ç”¨å†…ç½®æ’åºå‡½æ•°ï¼Œæ‰€æœ‰æ“ä½œå®Œå…¨æ‰‹åŠ¨å®ç°ã€‚

æ®è¯´æ¯”å†…ç½®çš„æ’åºè¦å¥½ï¼Ÿå†…éƒ¨sortä¹Ÿæ˜¯o(nlogn)


æœ€åˆå»ºæœ€å°å †ï¼Œå‰©ä½™çš„é‡æ–°è°ƒæ•´        
è¿™ç‚¹æˆ‘ç¡®è®¤æ˜¯ä¸ä¼šçš„     


ä½¿ç”¨åº“æ¥å†™


    import heapq
    def find(arr, k):
        min_heap = []
        for num in arr:
            heapq.heappush(min_heap, -num)
            if len(min_heap)>k:
                heapq.heappop(min_heap)
        return [-heapq.heappop(min_heap) for _ in range(k)]












# å¸¸è€ƒ c++
## é€‰æ‹©é¢˜ä¸€

#include <iostream>
using namespace std;


class B {
    int a;
    public :
        B(int i = 2): a(i) {num++;cout<<a<<"_"<<num;}
        static int num;
    };
int B::num = 0;
void f3() {
    B o1;
    if(o1.num>3)
        throw 1.0;
    else
        throw -1;
}

void f2() {
    B *o2=new B;
    try {
        f3();
    } catch (double) {
        cout << "#";
    }
}

void f1() {
    try {
        f2();
        throw 1;
    } catch (int) {
        cout << "&" << endl;
    }
}

int main() {
    B o3(5);
    B &o4 = o3;
    f1();
    return 0;
}

// ç¡®å®å¯ä»¥ 5_12_22_3&
// cd "c:\Users\13162\Desktop\å·¥ä½œ\å¤šæ¨¡\leetcode\" && g++ test.cpp -o test && "c:\Users\13162\Desktop\å·¥ä½œ\å¤šæ¨¡\leetcode\"test
// å¯æƒœæ²¡æœ‰ debug

// è®©æˆ‘ä»¬é€æ­¥åˆ†æè¿™æ®µç¨‹åºçš„è¾“å‡ºã€‚

// 1. ç±» B çš„å®šä¹‰ï¼š
// ç±» B æœ‰ä¸€ä¸ªæ•´æ•°æˆå‘˜å˜é‡ aï¼Œæ„é€ å‡½æ•°å¸¦æœ‰é»˜è®¤å€¼ i=2ã€‚
// é™æ€æˆå‘˜å˜é‡ num å…±äº«åœ¨æ‰€æœ‰ B å¯¹è±¡ä¸­ã€‚
// æ„é€ å‡½æ•°åˆå§‹åŒ– aï¼Œå¹¶å°† num é€’å¢ï¼Œè¾“å‡ºå½“å‰çš„ a å’Œ numã€‚
// 2. B::num é™æ€å˜é‡çš„åˆå§‹åŒ–ï¼š
// åœ¨ç±»å¤–éƒ¨ï¼ŒB::num è¢«åˆå§‹åŒ–ä¸º 0ã€‚
// 3. åˆ†æ main() å‡½æ•°ï¼š
// B o3(5);ï¼šè°ƒç”¨ B çš„æ„é€ å‡½æ•°ï¼Œå‚æ•°ä¸º 5ã€‚æ­¤æ—¶ a çš„å€¼ä¸º 5ï¼Œnum å¢åŠ  1ï¼Œnum å˜ä¸º 1ã€‚è¾“å‡º 5_1ã€‚
// B &o4 = o3;ï¼šåˆ›å»ºä¸€ä¸ª o3 çš„å¼•ç”¨ o4ï¼Œä½†ä¸ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œä¹Ÿä¸ä¼šè¾“å‡ºã€‚
// 4. f1() è°ƒç”¨ï¼š
// f1() æ•è·äº† f2() æŠ›å‡ºçš„å¼‚å¸¸ï¼Œé¦–å…ˆæˆ‘ä»¬çœ‹ f2()ã€‚
// 5. f2() è°ƒç”¨ï¼š
// B *o2=new B;ï¼šé€šè¿‡åŠ¨æ€åˆ†é…å†…å­˜åˆ›å»ºä¸€ä¸ª B å¯¹è±¡ï¼Œè°ƒç”¨æ„é€ å‡½æ•°ï¼Œa çš„å€¼ä¸º 2ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰ï¼Œnum å˜ä¸º 2ã€‚è¾“å‡º 2_2ã€‚
// f2() è°ƒç”¨ f3()ï¼Œå¹¶æ•è· f3() æŠ›å‡ºçš„å¼‚å¸¸ã€‚
// 6. f3() è°ƒç”¨ï¼š
// B o1;ï¼šè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼Œa çš„å€¼ä¸º 2ï¼Œnum å˜ä¸º 3ã€‚è¾“å‡º 2_3ã€‚
// if(o1.num>3)ï¼šæ­¤æ—¶ num çš„å€¼æ˜¯ 3ï¼Œä¸æ»¡è¶³æ¡ä»¶ num > 3ï¼Œæ‰€ä»¥æ‰§è¡Œ else åˆ†æ”¯ï¼ŒæŠ›å‡º -1ï¼ˆæ•´æ•°ï¼‰ã€‚
// 7. å¼‚å¸¸å¤„ç†ï¼š
// f3() æŠ›å‡ºçš„ -1 è¢« f2() å¿½ç•¥ï¼Œå› ä¸ºå®ƒåªæ•è· double ç±»å‹çš„å¼‚å¸¸ã€‚
// f2() è¿”å›ç»™ f1()ï¼Œf1() æ•è· int ç±»å‹çš„å¼‚å¸¸å¹¶è¾“å‡º &ã€‚
// æ€»ç»“è¾“å‡ºé¡ºåºï¼š
// 5_1ï¼ˆmain() ä¸­ B o3(5)ï¼‰
// 2_2ï¼ˆf2() ä¸­ new Bï¼‰
// 2_3ï¼ˆf3() ä¸­ B o1ï¼‰
// &ï¼ˆf1() æ•è·åˆ° int ç±»å‹çš„å¼‚å¸¸ï¼‰
// å› æ­¤ï¼Œè¯¥ç¨‹åºçš„æœ€ç»ˆè¾“å‡ºæ˜¯ï¼š

// å¤åˆ¶ä»£ç 
// 5_1 2_2 2_3 &


### debug
![alt text](assets_picture/ç‰›å®¢é¢˜/image-26.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-27.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-28.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-29.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-30.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-31.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-32.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-33.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-34.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-35.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-36.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-37.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-38.png)


throw ç«Ÿç„¶ä¸èƒ½æ‰“æ–­ç‚¹çœ‹

ç›´æ¥è·³å‡ºå»



## é€‰æ‹©é¢˜äºŒ



    class Test {
    public:
        Test(int a=0, int b=0) { x = a; y = b; }  
        ~Test() {  }
        void print() { cout << x << "*" << y << " ";}
    private:
        int x;
        int y;
    };

    int main() {
        Test *p = new Test(1, 2);  // åˆ›å»ºä¸€ä¸ªåŠ¨æ€å¯¹è±¡
        Test *q = new Test[3];     // åˆ›å»ºä¸€ä¸ªåŒ…å«3ä¸ªå¯¹è±¡çš„æ•°ç»„
        p->print();
        q++->print();
        return 0;
    }


![alt text](assets_picture/ç‰›å®¢é¢˜/image-39.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-40.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-41.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-42.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-43.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-44.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-45.png)

è¿™ä¸‰ä¸ªåœ°å€ç«Ÿç„¶ä¸è¿ç»­

![alt text](assets_picture/ç‰›å®¢é¢˜/image-46.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-47.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-48.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-49.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-50.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-51.png)


1*2 0*0 0*0 

![alt text](assets_picture/ç‰›å®¢é¢˜/image-52.png)

1*2 0*0 0*0 0*0 

![alt text](assets_picture/ç‰›å®¢é¢˜/image-53.png)

1*2 0*0 0*0 0*0 -1414812757*-1414812757 

![alt text](assets_picture/ç‰›å®¢é¢˜/image-54.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-55.png)







## é€‰æ‹©é¢˜ä¸‰

![alt text](assets_picture/ç‰›å®¢é¢˜/image-56.png)


é”™è¯¯åŸå› 

æ˜¯çš„ï¼ŒD ç±»çš„æ„é€ å‡½æ•°æœ‰ä¸€äº›é—®é¢˜ã€‚ä¸»è¦é—®é¢˜æ˜¯ï¼šD ç±»åœ¨å…¶æ„é€ å‡½æ•°ä¸­ç›´æ¥å°è¯•åˆå§‹åŒ– a å’Œ bï¼Œä½†è¿™ä¸¤ä¸ªæˆå‘˜å®é™…ä¸Šå±äºåŸºç±» Bï¼Œè€Œä¸æ˜¯ Dã€‚åœ¨ C++ ä¸­ï¼Œ**æ´¾ç”Ÿç±»ä¸èƒ½ç›´æ¥è®¿é—®åŸºç±»çš„ç§æœ‰æˆå‘˜**ï¼Œ**ä¹Ÿä¸èƒ½åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­ç›´æ¥åˆå§‹åŒ–åŸºç±»çš„æˆå‘˜**ã€‚æ­£ç¡®çš„åšæ³•æ˜¯é€šè¿‡è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–è¿™äº›æˆå‘˜ã€‚

ä¿®æ”¹åçš„ä»£ç åº”é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨è°ƒç”¨ B çš„æ„é€ å‡½æ•°ï¼ŒåŒæ—¶ä¿®æ­£mainå‡½æ•°æ ¼å¼é—®é¢˜ï¼š


ç¡®å®å¯ä»¥


    class B {
        int a;
    public:
        B(int x=0,int y=0):a(x),b(y){} // åˆå§‹åŒ–æˆå‘˜aå’Œb
        void f(){cout<<a<<" "<<b<<" ";} // æ³¨æ„ï¼šåŸå›¾ä¸­coutåç¼ºå°‘#include<iostream>å’Œä½¿ç”¨std::å‰ç¼€ï¼Œä¸”å­—ç¬¦ä¸²è¿æ¥éƒ¨åˆ†æœ‰è¯¯
    protected:
        int b;
    };

    class D:public B {
        int d; 
    public: 
        D(int x,int y,int z,int k):B(x, y) {d=z;e=k;} // è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œå¹¶åˆå§‹åŒ–då’Œe
        void g(){cout<<d<<" "<<e;} 
    protected: 
        int e; 
    };

    int main() {
        D o1(1,2,3,4); 
        o1.f(); 
        o1.g(); 
        return 0; 
    }


![alt text](assets_picture/ç‰›å®¢é¢˜/image-57.png)

é protected çš„ ç§æœ‰å˜é‡ä¹Ÿä¸èƒ½ç”¨

![alt text](assets_picture/ç‰›å®¢é¢˜/image-58.png)

å³ä½¿åœ¨ publicä¸‹ä¹Ÿä¸è¡Œ

![alt text](assets_picture/ç‰›å®¢é¢˜/image-59.png)


è¿™æ ·å¯ä»¥


![alt text](assets_picture/ç‰›å®¢é¢˜/image-60.png)

![alt text](assets_picture/ç‰›å®¢é¢˜/image-61.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-62.png)


![alt text](assets_picture/ç‰›å®¢é¢˜/image-63.png)








## æ¦‚å¿µ


### *å’Œ&çš„å˜é‡æ˜¯ä»€ä¹ˆæ„æ€

ChatGPT è¯´ï¼š
ChatGPT
åœ¨C++ä¸­ï¼Œ* å’Œ & æ˜¯ç”¨äºæŒ‡é’ˆå’Œå¼•ç”¨çš„ç¬¦å·ï¼Œåˆ†åˆ«è¡¨ç¤ºæŒ‡é’ˆå˜é‡å’Œå¼•ç”¨å˜é‡ã€‚å®ƒä»¬è™½ç„¶çœ‹èµ·æ¥ç›¸ä¼¼ï¼Œä½†ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ä¸åŒã€‚

1. *ï¼šæŒ‡é’ˆå˜é‡
æŒ‡é’ˆæ˜¯ä¸€ä¸ªå­˜å‚¨å†…å­˜åœ°å€çš„å˜é‡ï¼Œå®ƒæŒ‡å‘å¦ä¸€å—å†…å­˜ä¸­çš„æ•°æ®ã€‚æŒ‡é’ˆå˜é‡å¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œå†…å­˜åœ°å€å’Œæ•°æ®ã€‚

å£°æ˜æŒ‡é’ˆï¼šåœ¨å£°æ˜æŒ‡é’ˆæ—¶ï¼Œ* ç”¨äºå®šä¹‰ä¸€ä¸ªæŒ‡å‘æŸç§æ•°æ®ç±»å‹çš„æŒ‡é’ˆã€‚

cpp
å¤åˆ¶ä»£ç 
int* p;  // p æ˜¯ä¸€ä¸ªæŒ‡å‘ int ç±»å‹çš„æŒ‡é’ˆ
è·å–åœ°å€ï¼šé€šè¿‡ & ç¬¦å·è·å–å˜é‡çš„åœ°å€ï¼Œç„¶åå°†åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆã€‚

cpp
å¤åˆ¶ä»£ç 
int a = 10;
p = &a;  // p æŒ‡å‘ a çš„åœ°å€
è§£å¼•ç”¨ï¼šä½¿ç”¨ * ç¬¦å·å¯¹æŒ‡é’ˆè§£å¼•ç”¨ï¼Œå³è®¿é—®æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜ä¸­çš„å€¼ã€‚

cpp
å¤åˆ¶ä»£ç 
int value = *p;  // é€šè¿‡æŒ‡é’ˆ p è·å–å®ƒæŒ‡å‘çš„å˜é‡çš„å€¼
ä¾‹å­ï¼š

cpp
å¤åˆ¶ä»£ç 
int a = 10;
int* p = &a;  // å£°æ˜æŒ‡å‘ a çš„æŒ‡é’ˆ
cout << *p;   // è¾“å‡º a çš„å€¼ï¼Œå³ 10
2. &ï¼šå¼•ç”¨å˜é‡
å¼•ç”¨æ˜¯å¦ä¸€ä¸ªå˜é‡çš„åˆ«åï¼Œå®ƒå®é™…ä¸Šæ˜¯åŸå˜é‡çš„å¦ä¸€ä¸ªåå­—ï¼Œä»»ä½•å¯¹å¼•ç”¨çš„æ“ä½œéƒ½æ˜¯å¯¹åŸå˜é‡çš„æ“ä½œã€‚

å£°æ˜å¼•ç”¨ï¼š& ç¬¦å·ç”¨äºå£°æ˜å¼•ç”¨ï¼Œå¼•ç”¨å¿…é¡»åœ¨å£°æ˜æ—¶è¢«åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¹‹åä¸èƒ½æ›´æ”¹å®ƒå¼•ç”¨çš„å¯¹è±¡ã€‚

cpp
å¤åˆ¶ä»£ç 
int a = 10;
int& ref = a;  // ref æ˜¯ a çš„å¼•ç”¨
ä½œç”¨ï¼šé€šè¿‡å¼•ç”¨ï¼Œå¯ä»¥å¯¹åŸå˜é‡è¿›è¡Œæ“ä½œï¼Œè€Œä¸éœ€è¦ç›´æ¥ä½¿ç”¨å˜é‡æœ¬èº«ã€‚å¼•ç”¨éå¸¸å¸¸ç”¨åœ¨å‡½æ•°å‚æ•°ä¼ é€’ä¸­ã€‚

ä¾‹å­ï¼š

cpp
å¤åˆ¶ä»£ç 
int a = 10;
int& ref = a;  // ref æ˜¯ a çš„å¼•ç”¨
ref = 20;      // ä¿®æ”¹ ref å°±æ˜¯ä¿®æ”¹ a
cout << a;     // è¾“å‡º 20
åŒºåˆ«æ€»ç»“
ç‰¹æ€§	æŒ‡é’ˆ (*)	å¼•ç”¨ (&)
å®šä¹‰	å­˜å‚¨å˜é‡çš„å†…å­˜åœ°å€	ä½œä¸ºå˜é‡çš„åˆ«å
ä¿®æ”¹ç›®æ ‡	å¯ä»¥æ”¹å˜æŒ‡å‘çš„åœ°å€	ä¸€æ—¦ç»‘å®šä¸èƒ½æ›´æ”¹
æ˜¯å¦ä¸ºç©º	å¯ä»¥ä¸ºç©ºï¼ˆæŒ‡å‘ nullptrï¼‰	ä¸èƒ½ä¸ºç©ºï¼Œå¿…é¡»ç»‘å®šå˜é‡
è®¿é—®æ–¹å¼	é€šè¿‡è§£å¼•ç”¨æ“ä½œç¬¦ * è®¿é—®	ç›´æ¥ä½¿ç”¨å¼•ç”¨å³å¯è®¿é—®
ç¤ºä¾‹ä»£ç 
æŒ‡é’ˆå’Œå¼•ç”¨çš„è”åˆç¤ºä¾‹ï¼š

cpp
å¤åˆ¶ä»£ç 
int a = 10;
int* p = &a;  // p æ˜¯æŒ‡å‘ a çš„æŒ‡é’ˆ
int& ref = a; // ref æ˜¯ a çš„å¼•ç”¨

cout << "a: " << a << endl;
cout << "*p: " << *p << endl;  // è§£å¼•ç”¨æŒ‡é’ˆï¼Œå¾—åˆ° a çš„å€¼
cout << "ref: " << ref << endl; // å¼•ç”¨ç›´æ¥ä½¿ç”¨

ref = 20;  // ä¿®æ”¹å¼•ç”¨ï¼Œå³ä¿®æ”¹ a
cout << "a after ref change: " << a << endl;
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œref å’Œ p éƒ½ä¸å˜é‡ a ç›¸å…³ï¼Œä½†å¼•ç”¨æ˜¯åˆ«åï¼ŒæŒ‡é’ˆæ˜¯é€šè¿‡åœ°å€è®¿é—®å˜é‡ã€‚










ChatGPT ä¹Ÿ











### ç±»å†…æ„é€ å‡½æ•°æ˜¯ä»€ä¹ˆæ„æ€
ChatGPT è¯´ï¼š
ChatGPT
ç±»å†…æ„é€ å‡½æ•°æŒ‡çš„æ˜¯åœ¨ç±»çš„å®šä¹‰ä¸­å£°æ˜æˆ–å®ç°çš„æ„é€ å‡½æ•°ã€‚æ„é€ å‡½æ•°æ˜¯ç±»çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºåœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–è¯¥ç±»çš„æˆå‘˜å˜é‡ã€‚è™½ç„¶æ„é€ å‡½æ•°æœ¬èº«å¹¶ä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œä½†å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ä¿è¯ç±»çš„å¯¹è±¡åœ¨åˆ›å»ºæ—¶æ‹¥æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„åˆå§‹çŠ¶æ€ã€‚

ç±»å†…æ„é€ å‡½æ•°çš„ç‰¹ç‚¹ï¼š

ä½ç½®ï¼šæ„é€ å‡½æ•°æ˜¯åœ¨ç±»çš„å†…éƒ¨å®šä¹‰çš„ï¼Œå› æ­¤å®ƒä½äºç±»çš„å®šä¹‰ä¸­ã€‚å®ƒé€šå¸¸æ²¡æœ‰è¿”å›ç±»å‹ï¼ˆåŒ…æ‹¬ voidï¼‰ï¼Œåå­—ä¸ç±»åç›¸åŒã€‚
ä½œç”¨ï¼šå½“åˆ›å»ºç±»çš„å¯¹è±¡æ—¶ï¼Œæ„é€ å‡½æ•°è¢«è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚
ç±»å†…å®ç°ä¸ç±»å¤–å®ç°ï¼š
å¦‚æœæ„é€ å‡½æ•°åœ¨ç±»å†…ç›´æ¥å®šä¹‰ï¼Œå¹¶ä¸”åŒ…å«å‡½æ•°ä½“ï¼Œåˆ™ç§°ä¸ºç±»å†…å®ç°ã€‚
å¦‚æœæ„é€ å‡½æ•°åœ¨ç±»å†…å£°æ˜ï¼Œè€Œåœ¨ç±»å¤–å®šä¹‰å…¶å…·ä½“è¡Œä¸ºï¼Œåˆ™ç§°ä¸ºç±»å¤–å®ç°ã€‚
ä¸‹é¢æ˜¯ä¸¤ç§æ„é€ å‡½æ•°çš„å®šä¹‰æ–¹å¼ï¼š

ç±»å†…å®ç°æ„é€ å‡½æ•°
cpp
å¤åˆ¶ä»£ç 
class B {
    int a;
public:
    B(int i = 2) : a(i) { // è¿™æ˜¯ä¸€ä¸ªç±»å†…å®ç°çš„æ„é€ å‡½æ•°
        cout << "Constructor called. a = " << a << endl;
    }
};
åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ„é€ å‡½æ•° B(int i = 2) æ˜¯ç›´æ¥åœ¨ç±» B ä¸­å®ç°çš„ï¼Œåˆå§‹åŒ–æˆå‘˜å˜é‡ aã€‚

ç±»å¤–å®ç°æ„é€ å‡½æ•°
cpp
å¤åˆ¶ä»£ç 
class B {
    int a;
public:
    B(int i = 2); // åœ¨ç±»å†…å£°æ˜æ„é€ å‡½æ•°
};

// åœ¨ç±»å¤–å®ç°æ„é€ å‡½æ•°
B::B(int i = 2) : a(i) {
    cout << "Constructor called. a = " << a << endl;
}
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ„é€ å‡½æ•° B(int i = 2) åªåœ¨ç±»å†…è¿›è¡Œäº†å£°æ˜ï¼Œè€Œå®ƒçš„å…·ä½“å®ç°æ˜¯åœ¨ç±»çš„å¤–éƒ¨å®Œæˆçš„ã€‚

æ€»ç»“ï¼š

ç±»å†…æ„é€ å‡½æ•°æ˜¯æŒ‡åœ¨ç±»çš„å®šä¹‰ä¸­å£°æ˜æˆ–å®ç°çš„æ„é€ å‡½æ•°ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯åˆå§‹åŒ–ç±»çš„å¯¹è±¡ã€‚æ„é€ å‡½æ•°å¯ä»¥åœ¨ç±»å†…ç›´æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥åœ¨ç±»å¤–å®ç°ã€‚









ChatGPT ä¹Ÿå¯èƒ½ä¼šçŠ¯é”™ã€‚è¯·æ ¸æŸ¥é‡è¦ä¿¡æ¯ã€‚


### ææ„å‡½æ•°

~Test() { } æ˜¯ ææ„å‡½æ•° çš„å®šä¹‰ã€‚

ææ„å‡½æ•°çš„ä½œç”¨ï¼š
ææ„å‡½æ•°ç”¨äºåœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶æ‰§è¡Œæ¸…ç†æ“ä½œï¼Œæ¯”å¦‚é‡Šæ”¾èµ„æºã€å…³é—­æ–‡ä»¶ã€å›æ”¶åŠ¨æ€åˆ†é…çš„å†…å­˜ç­‰ã€‚
**ææ„å‡½æ•°çš„åç§°æ˜¯ç±»åå‰åŠ ä¸Šæ³¢æµªå·** ~ï¼Œä¾‹å¦‚ ~Test()ï¼Œè¡¨ç¤ºè¿™æ˜¯ Test ç±»çš„ææ„å‡½æ•°ã€‚
ç©ºçš„ææ„å‡½æ•°ï¼ˆå¦‚ ~Test() { }ï¼‰æ„å‘³ç€æ²¡æœ‰ç‰¹æ®Šçš„æ¸…ç†æ“ä½œéœ€è¦æ‰§è¡Œã€‚
ç‰¹ç‚¹ï¼š
è‡ªåŠ¨è°ƒç”¨ï¼šå½“å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼Œææ„å‡½æ•°ä¼šè‡ªåŠ¨è¢«è°ƒç”¨ã€‚**å¯¹äºæ ˆä¸Šçš„å¯¹è±¡ï¼Œå½“ç¨‹åºç¦»å¼€ä½œç”¨åŸŸæ—¶**ï¼Œææ„å‡½æ•°è¢«è°ƒç”¨ï¼›**å¯¹äºåŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼Œå½“ä½ ä½¿ç”¨ delete æˆ– delete[] åˆ é™¤å¯¹è±¡æ—¶**ï¼Œææ„å‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚
åªæ‰§è¡Œä¸€æ¬¡ï¼šæ¯ä¸ªå¯¹è±¡åœ¨å…¶ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼Œææ„å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚
éšå¼ææ„å‡½æ•°ï¼šå¦‚æœä½ ä¸æ˜¾å¼å®šä¹‰ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºä½ ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ææ„å‡½æ•°ã€‚



// è§£é‡Šï¼š
// Test *p = new Test(1, 2); åˆ›å»ºä¸€ä¸ª Test å¯¹è±¡ï¼Œp->print(); è¾“å‡º 1*2ã€‚
// Test *q = new Test[3]; åˆ›å»ºåŒ…å«3ä¸ª Test å¯¹è±¡çš„æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡çš„é»˜è®¤æ„é€ å‡½æ•°è¢«è°ƒç”¨ï¼Œåˆå§‹åŒ–ä¸º (0, 0)ã€‚
// q++->print(); è¾“å‡ºæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆ0*0ï¼‰ï¼Œç„¶åå°† q æŒ‡é’ˆé€’å¢åˆ°ä¸‹ä¸€ä¸ªæ•°ç»„å…ƒç´ ã€‚


// åŠ¨æ€åˆ†é…çš„æ•°ç»„å…ƒç´ åˆå§‹åŒ–ï¼šå½“ä½ é€šè¿‡ new Test[3] åˆ›å»º Test ç±»å¯¹è±¡æ•°ç»„æ—¶ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ æ²¡æœ‰å‚æ•°ä¼ é€’ç»™æ„é€ å‡½æ•°ï¼Œå› æ­¤å°†è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•° Test(0, 0)ã€‚

// æŒ‡é’ˆæ“ä½œï¼šq++->print(); è¿™ä¸€è¡Œé¦–å…ˆè¾“å‡ºå½“å‰æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œç„¶åå°†æŒ‡é’ˆ q å‘åç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚



ä»£ç ç¤ºä¾‹ï¼š
cpp
å¤åˆ¶ä»£ç 

    #include <iostream>
    using namespace std;

    class Test {
    public:
        Test() { cout << "Constructor called." << endl; }
        ~Test() { cout << "Destructor called." << endl; }
    };

    int main() {
        Test *p = new Test();  // åŠ¨æ€åˆ›å»ºå¯¹è±¡
        delete p;              // è°ƒç”¨ææ„å‡½æ•°
        return 0;
    }



è¾“å‡ºï¼š
å¤åˆ¶ä»£ç 

    Constructor called.
    Destructor called.



å¦‚æœæ²¡æœ‰ææ„å‡½æ•°ï¼š
å¦‚æœä½ çš„ç±»åˆ†é…äº†åŠ¨æ€å†…å­˜æˆ–è€…èµ„æºï¼ˆå¦‚æ–‡ä»¶æˆ–ç½‘ç»œè¿æ¥ï¼‰ï¼Œä½†æ²¡æœ‰å®šä¹‰é€‚å½“çš„ææ„å‡½æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œå› ä¸ºæ²¡æœ‰é‡Šæ”¾è¿™äº›èµ„æºã€‚è¿™æ˜¯ææ„å‡½æ•°çš„é‡è¦ç”¨é€”ã€‚

### è¿è¡Œ
cd "c:\cpptest\leetcode\" && g++ test.cpp -o test && "c:\cpptest\leetcode\"test

ä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆ æ‰§è¡Œæˆ– deBug éƒ½å¾ˆæ…¢       
æ˜¯å› ä¸º ç¼–è¯‘å¤ªä¹…å—ï¼Ÿ      

### ç±» å‡½æ•° åˆ†å·


cpp ä¸­ä¸ºä»€ä¹ˆç±»{}ç»“å°¾éœ€è¦; ï¼Œè€Œå‡½æ•°{}ç»“å°¾ä¸éœ€è¦;
ChatGPT è¯´ï¼š
ChatGPT
åœ¨ C++ ä¸­ï¼Œç±»çš„å®šä¹‰å’Œå‡½æ•°çš„å®šä¹‰æœ‰ä¸€äº›è¯­æ³•ä¸Šçš„å·®å¼‚ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¾è‘—çš„åŒºåˆ«æ˜¯ç±»å®šä¹‰éœ€è¦ä»¥åˆ†å· ; ç»“å°¾ï¼Œè€Œå‡½æ•°å®šä¹‰åˆ™ä¸éœ€è¦ã€‚è¿™èƒŒåçš„åŸå› ä¸»è¦æ˜¯ C++ è¯­æ³•è§„èŒƒå’Œè®¾è®¡ä¸Šçš„ä¸åŒï¼š


1. ç±»å®šä¹‰
cpp
å¤åˆ¶ä»£ç 
class MyClass {
    // ç±»çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•
};
ç±»å®šä¹‰ä¹‹åéœ€è¦åˆ†å·ï¼šç±»çš„å®šä¹‰æ˜¯ä¸€ä¸ªå£°æ˜ï¼ˆdeclarationï¼‰ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„è¯­å¥ã€‚C++ ç»§æ‰¿äº† C è¯­è¨€ä¸­çš„ç»“æ„ä½“ï¼ˆstructï¼‰çš„è¯­æ³•è§„åˆ™ï¼Œç»“æ„ä½“å®šä¹‰ä¹Ÿæ˜¯ä»¥åˆ†å·ç»“æŸçš„ã€‚å› æ­¤ï¼ŒC++ ä¸­ç±»çš„å®šä¹‰ä¹Ÿå»¶ç»­äº†è¿™ä¸€ä¼ ç»Ÿã€‚
ç±»çš„å®šä¹‰åœ¨ C++ ç¼–è¯‘å™¨çœ‹æ¥æ˜¯ä¸€ç§â€œå£°æ˜â€ï¼Œç±»ä¼¼äºä½ åœ¨å…¨å±€æˆ–å±€éƒ¨ä½œç”¨åŸŸå†…å£°æ˜ä¸€ä¸ªå˜é‡ã€‚å› æ­¤ï¼Œç±»å®šä¹‰çš„ç»“å°¾éœ€è¦ä¸€ä¸ªåˆ†å·ï¼Œè¡¨ç¤ºè¿™ä¸ªå£°æ˜å·²ç»å®Œæˆã€‚




2. å‡½æ•°å®šä¹‰
cpp
å¤åˆ¶ä»£ç 
void myFunction() {
    // å‡½æ•°ä½“
}
å‡½æ•°å®šä¹‰ä¹‹åä¸éœ€è¦åˆ†å·ï¼šå‡½æ•°çš„å®šä¹‰åœ¨ C++ ä¸­æ˜¯ä¸€ä¸ªå®Œæ•´çš„è¯­å¥ã€‚å‡½æ•°çš„å‡½æ•°ä½“ {} æœ¬èº«å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„é€»è¾‘å—ï¼Œå®ƒå·²ç»å®šä¹‰äº†å‡½æ•°çš„è¡Œä¸ºï¼Œå› æ­¤ä¸éœ€è¦é¢å¤–çš„åˆ†å·æ¥ç»“æŸå®šä¹‰ã€‚
å‡½æ•°å£°æ˜ï¼ˆä»…å£°æ˜ä¸å®šä¹‰æ—¶ï¼‰æ˜¯éœ€è¦åˆ†å·çš„ï¼Œä¾‹å¦‚ï¼š
cpp
å¤åˆ¶ä»£ç 
void myFunction();  // è¿™æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜
æ€»ç»“
ç±»å®šä¹‰éœ€è¦åˆ†å·çš„åŸå› æ˜¯å®ƒæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œéœ€è¦ç”¨åˆ†å·æ¥è¡¨ç¤ºå£°æ˜çš„ç»“æŸã€‚
å‡½æ•°å®šä¹‰ä¸éœ€è¦åˆ†å·ï¼Œå› ä¸ºå‡½æ•°ä½“å·²ç»æ˜¯ä¸€ä¸ªå®Œæ•´çš„é€»è¾‘å—ï¼Œè¯­æ³•ä¸Šä¸éœ€è¦é¢å¤–çš„ç¬¦å·æ¥æ ‡è¯†ç»“æŸã€‚




# æ·±åº¦å­¦ä¹ åŸºç¡€
## æ­å»ºç½‘ç»œ

    from torch.optim import optim
    optimizer = optim.SGD(model.parameters(), lr=1e-5,)
    model.train()
    criterion = nn.CrossRntropyLoss()
    for epoch in range(num_epochs):
        for i, (images, labels) in enumerate(train_dataloader):
            outputs = model(images)
            loss = criterion(outputs, labels)
            optimizer.zero_grad()
            loss.backward()
            optimizer.step()




## bnè¿‡ç¨‹

### ä¸€ã€BNè¿‡ç¨‹çš„åŸºæœ¬æ­¥éª¤
è®¡ç®—å‡å€¼å’Œæ–¹å·®ï¼š
* å¯¹äºæ¯ä¸ªmini-batchçš„è¾“å…¥æ•°æ®ï¼Œè®¡ç®—è¯¥mini-batchçš„å‡å€¼å’Œæ–¹å·®ã€‚è¿™äº›å‡å€¼å’Œæ–¹å·®å°†ç”¨äºå¯¹è¯¥mini-batchçš„è¾“å…¥æ•°æ®è¿›è¡Œå½’ä¸€åŒ–ã€‚
å½’ä¸€åŒ–å¤„ç†ï¼š
* ä½¿ç”¨è®¡ç®—å¾—åˆ°çš„å‡å€¼å’Œæ–¹å·®ï¼Œå¯¹mini-batchä¸­çš„æ¯ä¸ªæ ·æœ¬è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œå³ä½¿å…¶å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1ã€‚è¿™ä¸€æ­¥éª¤å¯ä»¥æœ‰æ•ˆåœ°å‡å°‘æ•°æ®çš„å†—ä½™æ€§ï¼Œæé«˜æ¨¡å‹çš„ç¨³å®šæ€§ã€‚
ç¼©æ”¾å’Œå¹³ç§»ï¼š
* å½’ä¸€åŒ–åçš„æ•°æ®å¯èƒ½ä¼šç ´ååŸå§‹æ•°æ®çš„åˆ†å¸ƒï¼Œå› æ­¤BNè¿‡ç¨‹å¼•å…¥äº†å¯å­¦ä¹ çš„ç¼©æ”¾å› å­ï¼ˆÎ³ï¼‰å’Œåç§»é‡ï¼ˆÎ²ï¼‰ï¼Œå¯¹å½’ä¸€åŒ–åçš„æ•°æ®è¿›è¡Œçº¿æ€§å˜æ¢ï¼Œä»¥æ¢å¤æ•°æ®çš„è¡¨ç¤ºèƒ½åŠ›ã€‚è¿™ä¸€æ­¥éª¤æ˜¯BNè¿‡ç¨‹çš„å…³é”®ï¼Œå®ƒå…è®¸æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ åˆ°æœ€é€‚åˆå½“å‰ä»»åŠ¡çš„ç¼©æ”¾å’Œå¹³ç§»å‚æ•°ã€‚
è¾“å‡ºï¼š
* ç»è¿‡ç¼©æ”¾å’Œå¹³ç§»åçš„æ•°æ®å°†ä½œä¸ºä¸‹ä¸€å±‚çš„è¾“å…¥ï¼Œç»§ç»­ç¥ç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹ã€‚
### äºŒã€BNè¿‡ç¨‹åœ¨è®­ç»ƒå’Œæµ‹è¯•ä¸­çš„å·®å¼‚
è®­ç»ƒé˜¶æ®µï¼š
* åœ¨è®­ç»ƒé˜¶æ®µï¼ŒBNè¿‡ç¨‹ä½¿ç”¨æ¯ä¸ªmini-batchçš„å‡å€¼å’Œæ–¹å·®è¿›è¡Œå½’ä¸€åŒ–ã€‚è¿™æ ·å¯ä»¥å¼•å…¥ä¸€å®šçš„å™ªå£°å’Œæ­£åˆ™åŒ–æ•ˆæœï¼Œæœ‰åŠ©äºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚åŒæ—¶ï¼Œç”±äºæ¯æ¬¡è¿­ä»£éƒ½ä½¿ç”¨ä¸åŒçš„mini-batchï¼Œå› æ­¤BNè¿‡ç¨‹èƒ½å¤Ÿä¸æ–­åœ°æ›´æ–°å‡å€¼å’Œæ–¹å·®çš„ä¼°è®¡ï¼Œä½¿å…¶æ›´åŠ æ¥è¿‘å…¨å±€çš„å‡å€¼å’Œæ–¹å·®ã€‚

æµ‹è¯•é˜¶æ®µï¼š
* åœ¨æµ‹è¯•é˜¶æ®µï¼Œä¸ºäº†ä¿æŒä¸€è‡´æ€§å’Œç¨³å®šæ€§ï¼ŒBNè¿‡ç¨‹ä½¿ç”¨è®­ç»ƒé˜¶æ®µè®¡ç®—å¾—åˆ°çš„å…¨å±€å‡å€¼å’Œæ–¹å·®æ¥å½’ä¸€åŒ–è¾“å…¥æ•°æ®ã€‚è¿™äº›å…¨å±€å‡å€¼å’Œæ–¹å·®é€šå¸¸æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é€šè¿‡æ»‘åŠ¨å¹³å‡ç­‰æ–¹æ³•å¾—åˆ°çš„ã€‚ä½¿ç”¨å…¨å±€å‡å€¼å’Œæ–¹å·®è¿›è¡Œå½’ä¸€åŒ–å¯ä»¥ç¡®ä¿æµ‹è¯•æ•°æ®ä¸è®­ç»ƒæ•°æ®åœ¨ç›¸åŒçš„åˆ†å¸ƒä¸‹è¿›è¡Œå¤„ç†ï¼Œä»è€Œæé«˜æ¨¡å‹çš„æ€§èƒ½ã€‚




### model.eval å…³é—­ bn å±‚é¿å…å—å½±å“ï¼Ÿï¼Ÿ

















## bn å’Œ lr
åœ¨ä¸€å®šèŒƒå›´å†…ï¼Œä¸€èˆ¬æ¥è¯´ Batch_Size è¶Šå¤§ï¼Œå…¶ç¡®å®šçš„ä¸‹é™æ–¹å‘è¶Šå‡†ï¼Œå¼•èµ·è®­ç»ƒéœ‡è¡è¶Šå°ã€‚å°¤å…¶æ˜¯ç½‘ç»œä¸­æœ‰BNå±‚ï¼Œè¿‡å°çš„batchsizeç½‘ç»œæ€§èƒ½ä¼šæ€¥å‰§ä¸‹é™ã€‚
å¦ä¸€æ–¹é¢ï¼Œå¤§çš„batch sizeæ¢¯åº¦çš„è®¡ç®—æ›´åŠ ç¨³å®šï¼Œå› ä¸ºæ¨¡å‹è®­ç»ƒæ›²çº¿ä¼šæ›´åŠ å¹³æ»‘ã€‚åœ¨å¾®è°ƒçš„æ—¶å€™ï¼Œå¤§çš„batch sizeå¯èƒ½ä¼šå–å¾—æ›´å¥½çš„ç»“æœã€‚


batchsizeå’Œå­¦ä¹ ç‡çš„å…³ç³»ï¼š

é€šå¸¸å½“æˆ‘ä»¬å¢åŠ batchsizeä¸ºåŸæ¥çš„Nå€æ—¶ï¼Œè¦ä¿è¯ç»è¿‡åŒæ ·çš„æ ·æœ¬åæ›´æ–°çš„æƒé‡ç›¸ç­‰ï¼ŒæŒ‰ç…§çº¿æ€§ç¼©æ”¾è§„åˆ™ï¼Œå­¦ä¹ ç‡åº”è¯¥å¢åŠ ä¸ºåŸæ¥çš„Nå€ï¼ˆå› ä¸ºè®¸å¤šlosså‡½æ•°æ˜¯é™¤ä»¥äº†Nï¼Œæ‰€ä»¥å¢å¤§batchsizeä¹‹åï¼Œlosså¹¶æ²¡æœ‰å¢åŠ ï¼Œæ•…ä¸€æ ·å¤šçš„æ ·æœ¬ï¼Œå´è·Ÿæ–°å¾—æ›´å°‘ã€‚æ‰€ä»¥ï¼Œå¯¹äºé‚£ç§å¢åŠ batchsizeï¼Œlossä¹Ÿä¼šè·Ÿç€å¢å¤§çš„æŸå¤±å‡½æ•°ï¼Œè¿˜ä¸èƒ½ä¸€å‘³çš„å¢å¤§lrï¼‰ã€‚å¦‚æœè¦ä¿è¯æƒé‡çš„æ–¹å·®ä¸å˜ï¼Œåˆ™å­¦ä¹ ç‡åº”è¯¥å¢åŠ ä¸ºåŸæ¥çš„sqrt(N)å€ï¼Œç›®å‰è¿™ä¸¤ç§ç­–ç•¥éƒ½è¢«ç ”ç©¶è¿‡ï¼Œä½¿ç”¨å‰è€…çš„æ˜æ˜¾å±…å¤šã€‚

ä»ä¸¤ç§å¸¸è§çš„è°ƒæ•´ç­–ç•¥æ¥çœ‹ï¼Œå­¦ä¹ ç‡å’Œbatchsizeéƒ½æ˜¯åŒæ—¶å¢åŠ çš„ã€‚å­¦ä¹ ç‡æ˜¯ä¸€ä¸ªéå¸¸æ•æ„Ÿçš„å‚æ•°ï¼Œä¸å¯èƒ½å¤ªå¤§ï¼Œå¦åˆ™æ¨¡å‹ä¼šä¸æ”¶æ•›ã€‚åŒæ ·batchsizeä¹Ÿä¼šå½±å“æ¨¡å‹æ€§èƒ½ï¼Œé‚£å®é™…ä½¿ç”¨ä¸­éƒ½å¦‚ä½•è°ƒæ•´è¿™ä¸¤ä¸ªå‚æ•°å‘¢ï¼Ÿ

ç ”ç©¶è¡¨æ˜ï¼Œè¡°å‡å­¦ä¹ ç‡å¯ä»¥é€šè¿‡å¢åŠ batchsizeæ¥å®ç°ç±»ä¼¼çš„æ•ˆæœï¼ˆåŒæ ·ï¼Œå› ä¸ºè®¸å¤šlosså‡½æ•°æ˜¯é™¤ä»¥äº†N)ï¼Œä½ ä»ä»SGDçš„æƒé‡æ›´æ–°å¼å­å°±å¯ä»¥çœ‹å‡ºæ¥ä¸¤è€…ç¡®å®æ˜¯ç­‰ä»·çš„ã€‚æ¯”å¦‚ï¼šåœ¨pytorchä¸­torch.nn.MSELoss(size_average=True)å¦‚æœsize_average=True, è¿”å›loss.mean();å°±æ˜¯å¹³å‡æ•°å¦‚æœä¸ºFalse,è¿”å›loss.sum()ï¼Œæ­¤æ—¶batchsizeå¢å¤§lossä¹Ÿä¼šå¢å¤§ï¼é»˜è®¤æƒ…å†µä¸‹ï¼Œsize_average=trueã€‚

ä¸¤ä¸ªå»ºè®®ï¼š
å¦‚æœå¢åŠ äº†å­¦ä¹ ç‡ï¼Œé‚£ä¹ˆbatchsizeæœ€å¥½ä¹Ÿè·Ÿç€å¢åŠ ï¼Œè¿™æ ·æ”¶æ•›æ›´ç¨³å®šï¼ˆå› ä¸ºbatchsizeå¤§çš„è¯ï¼Œæ¯ä¸€æ­¥æ›´æ–°çš„å‡†ç¡®æ€§ä¼šæ›´å¥½ï¼Œä¹Ÿå°±å¯ä»¥æ”¾å¿ƒçš„å¾€å‰èµ°äº†ï¼‰ã€‚é€‚å½“ä½¿ç”¨å¤§çš„å­¦ä¹ ç‡ï¼Œå› ä¸ºå¾ˆå¤šç ”ç©¶éƒ½è¡¨æ˜æ›´å¤§çš„å­¦ä¹ ç‡æœ‰åˆ©äºæé«˜æ³›åŒ–èƒ½åŠ›ã€‚å¦‚æœè¦è¡°å‡ï¼Œå¯ä»¥å…ˆå°è¯•å…¶ä»–åŠæ³•ï¼Œæ¯”å¦‚å¢åŠ batchsizeï¼Œå­¦ä¹ ç‡å¯¹æ¨¡å‹çš„æ”¶æ•›å½±å“æ¯”è¾ƒå¤§ï¼Œéœ€æ…é‡ä¸”å¤šæ¬¡è°ƒæ•´ã€‚


å³ä½¿åŠ å¤§ bs          
ä¸€èˆ¬æœ‰ loss.mean è¿›è¡Œä¸€æ¬¡å›ä¼            
å¸Œæœ›ç»è¿‡ç›¸åŒæ ·æœ¬æ•°é‡æ—¶ã€‚æ›´æ–°ç¨‹åº¦ä¸€æ ·ï¼Œ      
é‚£ä¹ˆ       
åŸæœ¬ bs 32ï¼Œ æ›´æ–° loss.mean ä¸º 2 ï¼Œ lr 1           
ç°åœ¨ bs 64,  æ›´æ–° loss.mean ä¹Ÿä¸º2ï¼Œ ä½†æ˜¯ä¸Šä¸€ä¸ªèƒ½æ›´æ–°ä¸¤æ¬¡ï¼Œè¿™ä¸ªå¦‚æœè¦å¯¹ç­‰ï¼Œlr è®¾ 2       


ä½†æ˜¯åœ¨æ–‡ç”Ÿå›¾å®è·µä¸­ ä»å¼€æ²¡ç›¸åº”è°ƒè¿‡ï¼Œ         
æ¯æ¬¡åªæ˜¯è°ƒä¸€ä¸ª         
å­¦ä¹ ç‡ä¹Ÿæ²¡åŠ¨è¿‡          









åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œå½“æ‰¹é‡å¤§å°ï¼ˆbatch sizeï¼‰å¢å¤§æ—¶ï¼Œé€šå¸¸éœ€è¦è°ƒæ•´å­¦ä¹ ç‡ï¼ˆlearning rateï¼‰ä»¥ä¿æŒè®­ç»ƒçš„ç¨³å®šæ€§å’Œæœ‰æ•ˆæ€§ã€‚è¿™æ˜¯å› ä¸ºè¾ƒå¤§çš„æ‰¹é‡å¤§å°é€šå¸¸ä¼šå¯¼è‡´æ¢¯åº¦ä¼°è®¡çš„æ–¹å·®å‡å°ï¼Œä»è€Œä½¿å¾—è®­ç»ƒè¿‡ç¨‹æ›´åŠ ç¨³å®šï¼Œä½†ä¹Ÿå¯èƒ½å¯¼è‡´å­¦ä¹ ç‡è¿‡é«˜ï¼Œä»è€Œå¼•å‘è®­ç»ƒä¸ç¨³å®šæˆ–æ¨¡å‹æ€§èƒ½ä¸‹é™ã€‚

å¸¸è§çš„è°ƒæ•´ç­–ç•¥
çº¿æ€§ç¼©æ”¾è§„åˆ™ï¼ˆLinear Scaling Ruleï¼‰ï¼š

è¿™æ˜¯æœ€å¸¸è§çš„è°ƒæ•´ç­–ç•¥ä¹‹ä¸€ã€‚å½“æ‰¹é‡å¤§å°å¢å¤§æ—¶ï¼Œå­¦ä¹ ç‡å¯ä»¥æŒ‰æ¯”ä¾‹çº¿æ€§å¢å¤§ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæ‰¹é‡å¤§å°å¢å¤§ä¸¤å€ï¼Œå¯ä»¥å°†å­¦ä¹ ç‡ä¹Ÿå¢å¤§ä¸¤å€ã€‚

å…¬å¼ï¼šæ–°çš„å­¦ä¹ ç‡ = åŸå§‹å­¦ä¹ ç‡ * (æ–°çš„æ‰¹é‡å¤§å° / åŸå§‹æ‰¹é‡å¤§å°)

ä¾‹å¦‚ï¼Œå¦‚æœåŸå§‹æ‰¹é‡å¤§å°ä¸º32ï¼ŒåŸå§‹å­¦ä¹ ç‡ä¸º0.01ï¼Œæ–°çš„æ‰¹é‡å¤§å°ä¸º64ï¼Œåˆ™æ–°çš„å­¦ä¹ ç‡ä¸º0.01 * (64 / 32) = 0.02ã€‚

é€æ­¥è°ƒæ•´ï¼ˆWarm-upï¼‰ï¼š

å½“æ‰¹é‡å¤§å°æ˜¾è‘—å¢å¤§æ—¶ï¼Œç›´æ¥å¢å¤§å­¦ä¹ ç‡å¯èƒ½ä¼šå¯¼è‡´è®­ç»ƒä¸ç¨³å®šã€‚å› æ­¤ï¼Œå¯ä»¥é‡‡ç”¨é€æ­¥è°ƒæ•´ï¼ˆwarm-upï¼‰ç­–ç•¥ã€‚

åœ¨è®­ç»ƒåˆæœŸï¼Œä½¿ç”¨è¾ƒå°çš„å­¦ä¹ ç‡ï¼Œç„¶åé€æ­¥å¢å¤§åˆ°ç›®æ ‡å­¦ä¹ ç‡ã€‚

ä¾‹å¦‚ï¼Œåœ¨å‰å‡ ä¸ªepochä¸­ï¼Œå­¦ä¹ ç‡å¯ä»¥ä»0.01é€æ­¥å¢å¤§åˆ°0.02ã€‚

è‡ªé€‚åº”å­¦ä¹ ç‡è°ƒæ•´ï¼ˆAdaptive Learning Rateï¼‰ï¼š

ä½¿ç”¨è‡ªé€‚åº”å­¦ä¹ ç‡ä¼˜åŒ–å™¨ï¼ˆå¦‚Adamã€RMSpropç­‰ï¼‰å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šè‡ªåŠ¨è°ƒæ•´å­¦ä¹ ç‡ï¼Œå‡å°‘æ‰‹åŠ¨è°ƒæ•´çš„å¤æ‚æ€§ã€‚

è¿™äº›ä¼˜åŒ–å™¨ä¼šæ ¹æ®æ¢¯åº¦çš„å†å²ä¿¡æ¯è‡ªåŠ¨è°ƒæ•´å­¦ä¹ ç‡ï¼Œå› æ­¤åœ¨æ‰¹é‡å¤§å°å˜åŒ–æ—¶ï¼Œå®ƒä»¬å¯èƒ½ä¸éœ€è¦æ‰‹åŠ¨è°ƒæ•´ã€‚


## é«˜é€šæ»¤æ³¢  æœ‰å“ªäº›ç®—å­
ä¸­é—´è´Ÿå€¼ï¼Œå››å‘¨æ­£å€¼        



## l1 l2 çš„æ­£åˆ™åŒ–ï¼Œl1 ä¸ºä»€ä¹ˆæ›´ç¨€ç–









# pyåŸºç¡€
## é™æ€å˜é‡æ˜¯åœ¨åŒç±»å†…å…±äº«å—ï¼Ÿ é™æ€æ–¹æ³•æ˜¯ä»€ä¹ˆ
## è£…é¥°å™¨
## å“ˆå¸Œæœ‰ä»€ä¹ˆå‡½æ•°æ˜ å°„
é™¤ç•™ä½™æ•°æ³•
## å“ˆå¸Œå’Œmapåº•å±‚å®ç°çš„åŒºåˆ«ï¼Œå“ˆå¸Œå†²çªå¦‚ä½•è§£å†³
çº¿æ€§æ¢æµ‹ äºŒæ¬¡æ¢æµ‹ æ•£åˆ—











# å›¾è®ºï¼Ÿ



# ç»“å°¾
